<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Jmee DeepBreath ‚Äî Respiration, Visualisation, Apn√©e</title>
    <meta name="description" content="Application de respiration, m√©ditation et entra√Ænement apn√©e. Exercices guid√©s, timer personnalisable, journal d'entra√Ænement et coach IA.">
    <meta name="theme-color" content="#0a0a1a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><circle cx='16' cy='16' r='14' fill='%230a0a1a' stroke='%234facfe' stroke-width='2'/><circle cx='16' cy='16' r='5' fill='%234facfe'/></svg>" type="image/svg+xml">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><rect width='180' height='180' rx='40' fill='%230a0a1a'/><circle cx='90' cy='90' r='50' fill='none' stroke='%234facfe' stroke-width='6'/><circle cx='90' cy='90' r='20' fill='%234facfe'/></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- PIN Lock Screen -->
    <div id="pinLockScreen" class="pin-lock-screen" style="display:none">
        <div class="pin-lock-content">
            <div class="pin-lock-logo">
                <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="24" cy="24" r="20" opacity="0.3"/>
                    <path d="M24 14c-4 0-7 3-7 7v3h14v-3c0-4-3-7-7-7z"/>
                    <rect x="13" y="24" width="22" height="14" rx="2"/>
                    <circle cx="24" cy="31" r="2" fill="currentColor"/>
                </svg>
            </div>
            <h2 class="pin-lock-title">Jmee DeepBreath</h2>

            <p class="pin-lock-subtitle">Entrez votre code PIN</p>
            <input type="password" id="pinInput" class="pin-input"
                inputmode="numeric" pattern="[0-9]*" maxlength="8"
                placeholder="PIN" autocomplete="off">
            <button class="btn-primary pin-unlock-btn" id="pinUnlockBtn">Deverrouiller</button>
            <p class="pin-error" id="pinError" style="display:none">PIN incorrect</p>
        </div>
    </div>

    <!-- Audio Controls (Ocean Sound + Voice Guide + Breath Sounds) -->
    <div class="audio-controls" id="audioControls">
        <button class="offline-toggle" id="offlineToggle" aria-label="Toggle offline mode" title="Mode hors-ligne">
            <svg class="online-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12.55a11 11 0 0 1 14.08 0"/>
                <path d="M1.42 9a16 16 0 0 1 21.16 0"/>
                <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
                <circle cx="12" cy="20" r="1" fill="currentColor"/>
            </svg>
            <svg class="offline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none">
                <line x1="1" y1="1" x2="23" y2="23"/>
                <path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"/>
                <path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"/>
                <path d="M10.71 5.05A16 16 0 0 1 22.58 9"/>
                <path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"/>
                <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
                <circle cx="12" cy="20" r="1" fill="currentColor"/>
            </svg>
        </button>
        <button class="voice-toggle active" id="voiceToggle" aria-label="Toggle voice guide" title="Guidage vocal">
            <svg class="voice-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                <line x1="12" y1="19" x2="12" y2="23"/>
                <line x1="8" y1="23" x2="16" y2="23"/>
            </svg>
        </button>
        <button class="audio-btn active" id="breathSoundToggle" title="Sons de respiration" aria-label="Sons de respiration">B</button>
        <button class="audio-btn" id="soundToggle" title="Son oc√©an" aria-label="Son oc√©an">O</button>
        <button class="sync-status-btn sync-disconnected" id="syncStatusBtn" title="Sync non configur√©e" aria-label="Synchronisation">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
                <path d="M21.5 2v6h-6"/><path d="M2.5 22v-6h6"/>
                <path d="M2.5 11.5a10 10 0 0 1 16.5-5.3L21.5 8"/>
                <path d="M21.5 12.5a10 10 0 0 1-16.5 5.3L2.5 16"/>
            </svg>
        </button>
        <button class="spotify-btn" id="spotifyBtn" title="Ouvrir Spotify" aria-label="Ouvrir Spotify">
            <svg viewBox="0 0 24 24" fill="currentColor" width="18" height="18">
                <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
            </svg>
        </button>
        <div class="volume-sliders" id="volumeSliders">
            <input type="range" min="0" max="100" value="70" id="breathVolumeRange" title="Volume respiration">
            <input type="range" min="0" max="100" value="50" id="volumeRange" title="Volume oc√©an">
        </div>
    </div>

    <!-- Spotify Playlist Panel -->
    <div class="spotify-panel" id="spotifyPanel" style="display:none">
        <div class="spotify-panel-header">
            <span>üéµ Fond musical Spotify</span>
            <button class="spotify-close" id="spotifyClose">‚úï</button>
        </div>
        <div class="spotify-playlists">
            <a href="https://open.spotify.com/playlist/37i9dQZF1DWZqd5JICZI0u" target="_blank" rel="noopener noreferrer" class="spotify-playlist-link">
                <span>üßò M√©ditation & Relaxation</span>
            </a>
            <a href="https://open.spotify.com/playlist/37i9dQZF1DX9uKNf5jGX6m" target="_blank" rel="noopener noreferrer" class="spotify-playlist-link">
                <span>üåä Nature & Ambiance</span>
            </a>
            <a href="https://open.spotify.com/playlist/37i9dQZF1DWYcDQ1hSjOpY" target="_blank" rel="noopener noreferrer" class="spotify-playlist-link">
                <span>üò¥ Sommeil profond</span>
            </a>
            <a href="https://open.spotify.com/playlist/37i9dQZF1DX3Ogo9pFvBkY" target="_blank" rel="noopener noreferrer" class="spotify-playlist-link">
                <span>üéµ Focus & Concentration</span>
            </a>
            <a href="https://open.spotify.com/playlist/37i9dQZF1DWU0ScTcjJBdj" target="_blank" rel="noopener noreferrer" class="spotify-playlist-link">
                <span>üîî Bols tib√©tains</span>
            </a>
        </div>
        <div class="spotify-custom">
            <label>Ou colle ton lien Spotify :</label>
            <div class="spotify-custom-input">
                <input type="text" id="spotifyCustomUrl" placeholder="https://open.spotify.com/playlist/...">
                <button id="spotifyCustomOpen">Go</button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-brand">
            <svg class="logo" viewBox="0 0 40 40" fill="none">
                <circle cx="20" cy="20" r="18" stroke="currentColor" stroke-width="1.5" opacity="0.3"/>
                <path d="M20 8 Q28 20 20 32 Q12 20 20 8" fill="currentColor" opacity="0.6"/>
            </svg>
            <div class="nav-brand-text">
                <span>Jmee DeepBreath</span>
                <span class="beta-badge">BETA v0.66 ‚Äî Exp√©rimentale, non v√©rifi√©e. Ne pas utiliser en conditions r√©elles.</span>
            </div>
        </div>
        <div class="nav-links">
            <button class="nav-link active" data-section="home">Accueil</button>
            <button class="nav-link nav-coach" data-section="coach">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:2px;">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                </svg>
                Coach
            </button>
            <button class="nav-link" data-section="journal">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:2px;">
                    <rect x="3" y="3" width="18" height="18" rx="2"/>
                    <line x1="3" y1="9" x2="21" y2="9"/>
                    <line x1="3" y1="15" x2="21" y2="15"/>
                    <line x1="9" y1="3" x2="9" y2="21"/>
                    <line x1="15" y1="3" x2="15" y2="21"/>
                </svg>
                Journal
            </button>
            <button class="nav-link nav-plan" data-section="weekly-plan">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:2px;">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                    <line x1="16" y1="2" x2="16" y2="6"/>
                    <line x1="8" y1="2" x2="8" y2="6"/>
                    <line x1="3" y1="10" x2="21" y2="10"/>
                </svg>
                Plan
            </button>
            <button class="nav-link" data-section="respiration">Respiration</button>
            <button class="nav-link" data-section="visualisation">Visualisation</button>
            <button class="nav-link" data-section="apnee">Apn√©e</button>
            <button class="nav-link" data-section="multitimer">Multi Timer</button>
            <button class="nav-link nav-urgence" data-section="urgence">Urgence</button>
            <button class="nav-link" data-section="preperformance">Pr√©-Perf</button>
            <button class="nav-link nav-hypnose" data-section="autohypnose">Hypnose</button>
            <button class="nav-link nav-guide" data-section="guide">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:2px;">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
                Guide
            </button>
        </div>
        <button class="nav-link nav-settings" data-section="settings">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"/>
                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
            </svg>
        </button>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Section -->
        <section class="section active" id="home">
            <div class="hero">
                <h1 class="hero-title">Ma√Ætrisez votre souffle</h1>
                <p class="hero-subtitle">Techniques avanc√©es bas√©es sur les derni√®res recherches scientifiques</p>

                <div class="feature-cards">
                    <div class="feature-card feature-card-coach" data-goto="coach">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <path d="M34 26a2 2 0 0 1-2 2H18l-4 4V14a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"/>
                                <circle cx="20" cy="20" r="1" fill="currentColor"/>
                                <circle cx="24" cy="20" r="1" fill="currentColor"/>
                                <circle cx="28" cy="20" r="1" fill="currentColor"/>
                            </svg>
                        </div>
                        <h3>Coach IA</h3>
                        <p>Entrainement apnee au sec, programmes sur mesure, suivi de progression</p>
                    </div>

                    <div class="feature-card" data-goto="journal">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <rect x="12" y="12" width="24" height="24" rx="2"/>
                                <line x1="12" y1="20" x2="36" y2="20"/>
                                <line x1="12" y1="28" x2="36" y2="28"/>
                                <line x1="20" y1="12" x2="20" y2="36"/>
                                <line x1="28" y1="12" x2="28" y2="36"/>
                            </svg>
                        </div>
                        <h3>Journal</h3>
                        <p>Tableau de bord de tous vos entrainements, ajout et modification</p>
                    </div>

                    <div class="feature-card" data-goto="respiration">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <path d="M24 12v24M16 20l8-8 8 8M16 28l8 8 8-8"/>
                            </svg>
                        </div>
                        <h3>Respiration</h3>
                        <p>Cyclic sighing, coh√©rence cardiaque, box breathing et techniques Wim Hof</p>
                    </div>

                    <div class="feature-card" data-goto="visualisation">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <circle cx="24" cy="24" r="8"/>
                                <circle cx="24" cy="24" r="3" fill="currentColor"/>
                            </svg>
                        </div>
                        <h3>Visualisation</h3>
                        <p>Protocoles PETTLEP, body scan et relaxation dynamique sophrologique</p>
                    </div>

                    <div class="feature-card" data-goto="apnee">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <path d="M12 24h24M24 14v20"/>
                                <circle cx="24" cy="24" r="6"/>
                            </svg>
                        </div>
                        <h3>Apn√©e</h3>
                        <p>Tables O2/CO2, r√©flexe de plong√©e et entra√Ænement progressif</p>
                    </div>

                    <div class="feature-card" data-goto="multitimer">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <circle cx="24" cy="24" r="12"/>
                                <polyline points="24,16 24,24 30,27"/>
                                <circle cx="38" cy="14" r="6" opacity="0.5"/>
                                <polyline points="38,11 38,14 40,15" opacity="0.5"/>
                            </svg>
                        </div>
                        <h3>Multi Timer</h3>
                        <p>S√©quences personnalisables, intervalles et chronom√®tres pour vos entra√Ænements</p>
                    </div>

                    <div class="feature-card feature-card-urgence" data-goto="urgence">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <path d="M24 14v12M24 30v2"/>
                                <circle cx="24" cy="24" r="10"/>
                            </svg>
                        </div>
                        <h3>Urgence</h3>
                        <p>Exercices rapides pour calmer panique, anxi√©t√© et stress soudain</p>
                    </div>

                    <div class="feature-card feature-card-preperf" data-goto="preperformance">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <polygon points="24,10 28,22 24,20 20,22"/>
                                <circle cx="24" cy="30" r="6"/>
                                <path d="M20 28l4 4 4-4"/>
                            </svg>
                        </div>
                        <h3>Pr√©-Performance</h3>
                        <p>Protocole de 5 minutes avant plong√©e, chasse sous-marine ou comp√©tition</p>
                    </div>

                    <div class="feature-card feature-card-hypnose" data-goto="autohypnose">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <circle cx="24" cy="24" r="14" opacity="0.2"/>
                                <circle cx="24" cy="24" r="8" opacity="0.4"/>
                                <circle cx="24" cy="24" r="3" fill="currentColor"/>
                                <path d="M24 6v4M24 38v4M6 24h4M38 24h4" opacity="0.5"/>
                            </svg>
                        </div>
                        <h3>Auto-Hypnose</h3>
                        <p>Techniques VAKOG, flow-state et gestion des spasmes pour apn√©istes</p>
                    </div>

                    <div class="feature-card feature-card-guide" data-goto="guide">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <circle cx="24" cy="24" r="10"/>
                                <path d="M21 21a3 3 0 1 1 4.3 2.7c-.8.5-1.3 1.1-1.3 2.3"/>
                                <circle cx="24" cy="30" r="0.5" fill="currentColor"/>
                            </svg>
                        </div>
                        <h3>Guide</h3>
                        <p>Aide au choix des exercices selon votre objectif, votre niveau et votre blocage</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Journal Section -->
        <section class="section" id="journal">
            <div class="section-header">
                <h2>Journal d'entrainement</h2>
            </div>

            <!-- Toolbar -->
            <div class="journal-toolbar">
                <div class="journal-stats">
                    <span id="journalCount">0 sessions</span>
                </div>
                <input type="search" id="journalSearch" class="journal-search" placeholder="Rechercher...">
                <button class="btn-secondary journal-export-btn" id="journalExportBtn" title="Exporter en Excel">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="7,10 12,15 17,10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                    Excel
                </button>
                <button class="btn-primary journal-add-btn" id="journalAddBtn">+ Ajouter</button>
            </div>

            <!-- Table wrapper (horizontal scroll on mobile) -->
            <div class="journal-table-wrapper">
                <table class="journal-table" id="journalTable">
                    <thead>
                        <tr>
                            <th data-sort="date">Date ‚Üï</th>
                            <th data-sort="exerciseName">Exercice ‚Üï</th>
                            <th data-sort="category">Categorie ‚Üï</th>
                            <th data-sort="duration">Duree ‚Üï</th>
                            <th data-sort="feeling" class="journal-col-hide">Ressenti ‚Üï</th>
                            <th data-sort="stressBefore" class="journal-col-hide">Stress Av. ‚Üï</th>
                            <th data-sort="stressAfter" class="journal-col-hide">Stress Ap. ‚Üï</th>
                            <th class="journal-col-hide">Notes</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="journalBody"></tbody>
                </table>
            </div>
        </section>

        <!-- Plan de Semaine Section -->
        <section class="section" id="weekly-plan">
            <div class="section-header">
                <h2>Plan de la Semaine</h2>
                <p>Programme personnalis√© par ton coach IA</p>
            </div>

            <!-- Barre de contr√¥le : navigation semaine + bouton g√©n√©rer -->
            <div class="plan-controls-bar">
                <div class="plan-week-nav">
                    <button class="plan-nav-btn" id="planPrevWeek" title="Semaine pr√©c√©dente" disabled>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="16" height="16">
                            <polyline points="15,18 9,12 15,6"/>
                        </svg>
                    </button>
                    <span class="plan-week-label" id="planWeekLabel">‚Äî</span>
                    <button class="plan-nav-btn" id="planNextWeek" title="Semaine suivante" disabled>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="16" height="16">
                            <polyline points="9,18 15,12 9,6"/>
                        </svg>
                    </button>
                </div>
                <button class="btn-generate-plan" id="btnGeneratePlan">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                        <polygon points="13,2 3,14 12,14 11,22 21,10 12,10"/>
                    </svg>
                    G√©n√©rer un plan
                </button>
            </div>

            <!-- Titre + Rationale du coach (masqu√© si pas de plan) -->
            <div class="plan-rationale" id="planRationale" style="display:none">
                <div class="plan-rationale-header">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="18" height="18" style="flex-shrink:0;color:var(--accent-primary)">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 8v4M12 16h.01"/>
                    </svg>
                    <strong id="planTitle">Plan Semaine</strong>
                </div>
                <p id="planRationaleText"></p>
            </div>

            <!-- √âtat : chargement -->
            <div class="plan-loading" id="planLoading" style="display:none">
                <div class="plan-loading-spinner"></div>
                <p>G√©n√©ration du plan en cours‚Ä¶</p>
                <small>Claude analyse ton historique et construit ton programme</small>
            </div>

            <!-- √âtat : vide (aucun plan) -->
            <div class="plan-empty" id="planEmpty">
                <div class="plan-empty-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2" width="56" height="56">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                        <line x1="16" y1="2" x2="16" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="6"/>
                        <line x1="3" y1="10" x2="21" y2="10"/>
                        <path d="M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"/>
                    </svg>
                </div>
                <h3>Aucun plan pour cette semaine</h3>
                <p>Clique sur <strong>G√©n√©rer un plan</strong> pour cr√©er ton programme personnalis√©.<br>
                Le coach IA analyse ton historique et ton niveau pour construire la semaine id√©ale.</p>
                <p class="plan-empty-hint">üí° Configure ta cl√© API dans <strong>R√©glages &gt; Coach IA</strong> si ce n'est pas encore fait.</p>
            </div>

            <!-- Grille 7 jours (remplie par weekly-plan.js) -->
            <div class="week-grid" id="weekGrid" style="display:none"></div>
        </section>

        <!-- Respiration Section -->
        <section class="section" id="respiration">
            <div class="section-header">
                <h2>Respiration</h2>
                <p>Techniques valid√©es scientifiquement pour optimiser votre syst√®me nerveux</p>
            </div>

            <div class="exercise-grid">
                <!-- Cyclic Sighing -->
                <div class="exercise-card" data-exercise="cyclic-sighing">
                    <div class="exercise-badge">Stanford 2023</div>
                    <h3>Cyclic Sighing</h3>
                    <p>Double inspiration suivie d'une expiration prolong√©e. R√©duction du stress 56% plus efficace que la m√©ditation.</p>
                    <div class="exercise-meta">
                        <span>5 min</span>
                        <span>‚Ä¢</span>
                        <span>Stress & Humeur</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="cyclic-sighing">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Coherent Breathing -->
                <div class="exercise-card" data-exercise="coherent">
                    <div class="exercise-badge">Coh√©rence HRV</div>
                    <h3>Respiration Coh√©rente</h3>
                    <p>5.5 respirations par minute pour synchroniser c≈ìur et respiration. Optimise la variabilit√© cardiaque.</p>
                    <div class="exercise-meta">
                        <span>10-20 min</span>
                        <span>‚Ä¢</span>
                        <span>√âquilibre ANS</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="coherent">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Box Breathing -->
                <div class="exercise-card" data-exercise="box">
                    <div class="exercise-badge">Navy SEALs</div>
                    <h3>Box Breathing</h3>
                    <p>Technique 4-4-4-4 utilis√©e par les forces sp√©ciales. Augmente le tonus vagal et la concentration.</p>
                    <div class="exercise-meta">
                        <span class="exercise-duration" data-show="duration">5 min</span>
                        <span>‚Ä¢</span>
                        <span class="exercise-timing" data-show="boxTime">4-4-4-4</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="box">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Wim Hof -->
                <div class="exercise-card" data-exercise="wimhof">
                    <div class="exercise-badge">√âtude 2024</div>
                    <h3>M√©thode Wim Hof</h3>
                    <p>Hyperventilation contr√¥l√©e suivie de r√©tentions. Am√©liore √©nergie, clart√© mentale et tol√©rance au froid.</p>
                    <div class="exercise-meta">
                        <span>15-20 min</span>
                        <span>‚Ä¢</span>
                        <span>√ânergie & R√©silience</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="wimhof">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- CO2 Tolerance -->
                <div class="exercise-card" data-exercise="co2-tolerance">
                    <div class="exercise-badge">Performance</div>
                    <h3>Tol√©rance CO2</h3>
                    <p>Expirations prolong√©es pour augmenter la tol√©rance au CO2. R√©duit l'essoufflement et am√©liore l'endurance.</p>
                    <div class="exercise-meta">
                        <span>5-10 min</span>
                        <span>‚Ä¢</span>
                        <span>Endurance</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="co2-tolerance">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- 4-7-8 Relaxation -->
                <div class="exercise-card" data-exercise="relaxation">
                    <div class="exercise-badge">Sommeil</div>
                    <h3>Respiration 4-7-8</h3>
                    <p>Technique Dr. Andrew Weil pour l'endormissement. Activation parasympathique profonde.</p>
                    <div class="exercise-meta">
                        <span>4 cycles</span>
                        <span>‚Ä¢</span>
                        <span>Relaxation</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="relaxation">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Pranayama 1-4-2 -->
                <div class="exercise-card" data-exercise="pranayama-142">
                    <div class="exercise-badge">Yoga</div>
                    <h3>Pranayama 1-4-2</h3>
                    <p>Ratio classique yogique : inspir 1x, r√©tention 4x, expir 2x. Fondement du Pranayama Vedique.</p>
                    <div class="exercise-meta">
                        <span class="exercise-duration" data-show="duration">10 min</span>
                        <span>‚Ä¢</span>
                        <span>4-16-8</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="pranayama-142">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Nadi Shodhana -->
                <div class="exercise-card" data-exercise="nadi-shodhana">
                    <div class="exercise-badge">√âquilibre</div>
                    <h3>Nadi Shodhana</h3>
                    <p>Respiration altern√©e ‚Äî √©quilibre les deux h√©misph√®res c√©r√©braux et le syst√®me nerveux.</p>
                    <div class="exercise-meta">
                        <span class="exercise-duration" data-show="duration">10 min</span>
                        <span>‚Ä¢</span>
                        <span>Altern√©e</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="nadi-shodhana">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Kapalabhati -->
                <div class="exercise-card" data-exercise="kapalabhati">
                    <div class="exercise-badge">√ânergie</div>
                    <h3>Kapalabhati</h3>
                    <p>Respiration du cr√¢ne brillant ‚Äî expirations puissantes pour purifier et √©nergiser.</p>
                    <div class="exercise-meta">
                        <span>5 min</span>
                        <span>‚Ä¢</span>
                        <span>3 rounds</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="kapalabhati">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Ujjayi -->
                <div class="exercise-card" data-exercise="ujjayi">
                    <div class="exercise-badge">Yoga</div>
                    <h3>Ujjayi</h3>
                    <p>Le souffle victorieux ‚Äî respiration oc√©anique qui calme le syst√®me nerveux en profondeur.</p>
                    <div class="exercise-meta">
                        <span class="exercise-duration" data-show="duration">10 min</span>
                        <span>‚Ä¢</span>
                        <span>5-5</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="ujjayi">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Bhramari -->
                <div class="exercise-card" data-exercise="bhramari">
                    <div class="exercise-badge">Vibration</div>
                    <h3>Bhramari</h3>
                    <p>Le souffle de l'abeille ‚Äî bourdonnement qui stimule le nerf vague et l'oxyde nitrique.</p>
                    <div class="exercise-meta">
                        <span>5 min</span>
                        <span>‚Ä¢</span>
                        <span>4-8</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="bhramari">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Surya Bhedana -->
                <div class="exercise-card" data-exercise="surya-bhedana">
                    <div class="exercise-badge">√ânergie</div>
                    <h3>Surya Bhedana</h3>
                    <p>Respiration solaire ‚Äî active le sympathique pour l'√©nergie et la chaleur interne.</p>
                    <div class="exercise-meta">
                        <span>5 min</span>
                        <span>‚Ä¢</span>
                        <span>4-8-6</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="surya-bhedana">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Visualisation Section -->
        <section class="section" id="visualisation">
            <div class="section-header">
                <h2>Visualisation</h2>
                <p>Protocoles de sophrologie et d'imagerie mentale utilis√©s par les athl√®tes olympiques</p>
            </div>

            <div class="exercise-grid">
                <!-- Body Scan -->
                <div class="exercise-card" data-exercise="body-scan">
                    <div class="exercise-badge">Mindfulness</div>
                    <h3>Body Scan</h3>
                    <p>Parcours attentionnel syst√©matique du corps. Am√©liore la conscience corporelle et active le syst√®me parasympathique.</p>
                    <div class="exercise-meta">
                        <span>15-20 min</span>
                        <span>‚Ä¢</span>
                        <span>Conscience corporelle</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="body-scan">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- PETTLEP Visualization -->
                <div class="exercise-card" data-exercise="pettlep">
                    <div class="exercise-badge">Olympique</div>
                    <h3>Visualisation PETTLEP</h3>
                    <p>Protocole en 7 points utilis√© par 70-90% des olympiens. Imagerie motrice compl√®te multi-sensorielle.</p>
                    <div class="exercise-meta">
                        <span>10-15 min</span>
                        <span>‚Ä¢</span>
                        <span>Performance</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="pettlep">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Dynamic Relaxation -->
                <div class="exercise-card" data-exercise="sophro">
                    <div class="exercise-badge">Sophrologie</div>
                    <h3>Relaxation Dynamique</h3>
                    <p>M√©thode IRTER : Inspiration-R√©tention-Tension-Expiration-Rel√¢chement. Niveau 1 de sophrologie.</p>
                    <div class="exercise-meta">
                        <span>20 min</span>
                        <span>‚Ä¢</span>
                        <span>Relaxation profonde</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="sophro">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- PMR -->
                <div class="exercise-card" data-exercise="pmr">
                    <div class="exercise-badge">Jacobson</div>
                    <h3>Relaxation Musculaire Progressive</h3>
                    <p>Contraction-rel√¢chement syst√©matique. Valid√©e sur 3400+ participants pour r√©duire stress et anxi√©t√©.</p>
                    <div class="exercise-meta">
                        <span>15-30 min</span>
                        <span>‚Ä¢</span>
                        <span>Tension musculaire</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="pmr">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Focus Training -->
                <div class="exercise-card" data-exercise="focus">
                    <div class="exercise-badge">Concentration</div>
                    <h3>Entra√Ænement Focus</h3>
                    <p>Technique du spotlight : visualiser un faisceau de lumi√®re sur l'objet d'attention. Am√©liore la concentration.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Attention</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="focus">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Pre-dive Visualization -->
                <div class="exercise-card" data-exercise="predive">
                    <div class="exercise-badge">Apn√©iste</div>
                    <h3>Visualisation Pr√©-Plong√©e</h3>
                    <p>Routine mentale compl√®te de l'apn√©iste : descente, fond, remont√©e. R√©duit l'anxi√©t√© de 20%.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Pr√©paration mentale</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="predive">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Sleep Protocol -->
                <div class="exercise-card exercise-card-sleep" data-exercise="sleep-descent">
                    <div class="exercise-badge">Sommeil</div>
                    <h3>Descente vers le Sommeil</h3>
                    <p>Protocole d'endormissement en 7 minutes combinant relaxation progressive, 4-7-8 et imagerie hypnagogique.</p>
                    <div class="exercise-meta">
                        <span>7 min</span>
                        <span>‚Ä¢</span>
                        <span>Endormissement</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Apn√©e Section -->
        <section class="section" id="apnee">
            <div class="section-header">
                <h2>Entra√Ænement Apn√©e</h2>
                <p>Protocoles progressifs pour d√©velopper votre capacit√© de r√©tention respiratoire en s√©curit√©</p>
            </div>

            <!-- Apnea Test -->
            <div class="apnea-test-card">
                <h3>Test de Base</h3>
                <p>Mesurez votre apn√©e statique maximale pour personnaliser vos tables d'entra√Ænement</p>
                <div class="test-result" id="testResult">
                    <span class="result-label">Votre record</span>
                    <span class="result-value" id="personalBest">--:--</span>
                </div>
                <button class="btn-primary" id="startTest">Faire le test</button>
            </div>

            <div class="exercise-grid">
                <!-- CO2 Table -->
                <div class="exercise-card" data-exercise="co2-table">
                    <div class="exercise-badge">Tol√©rance CO2</div>
                    <h3>Table CO2</h3>
                    <p>Apn√©es constantes avec repos d√©croissant. D√©veloppe la tol√©rance √† l'accumulation de CO2.</p>
                    <div class="exercise-meta">
                        <span>8 cycles</span>
                        <span>‚Ä¢</span>
                        <span>~15 min</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="co2-table">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- O2 Table -->
                <div class="exercise-card" data-exercise="o2-table">
                    <div class="exercise-badge">Tol√©rance O2</div>
                    <h3>Table O2</h3>
                    <p>Apn√©es progressives avec repos constant. Adapte le corps aux faibles niveaux d'oxyg√®ne.</p>
                    <div class="exercise-meta">
                        <span>8 cycles</span>
                        <span>‚Ä¢</span>
                        <span>~20 min</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="o2-table">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- No Contraction -->
                <div class="exercise-card" data-exercise="no-contraction">
                    <div class="exercise-badge">D√©butant</div>
                    <h3>Table Sans Contraction</h3>
                    <p>M√©thode douce : rester dans le confort pour d√©velopper une relation saine avec le CO2.</p>
                    <div class="exercise-meta">
                        <span>6-8 cycles</span>
                        <span>‚Ä¢</span>
                        <span>Progression douce</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="no-contraction">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Comfort Zone -->
                <div class="exercise-card" data-exercise="comfort-zone">
                    <div class="exercise-badge">Progression</div>
                    <h3>Zone de Confort</h3>
                    <p>Apn√©e libre : arr√™tez d√®s l'inconfort. Suivez votre progression naturelle au fil des sessions.</p>
                    <div class="exercise-meta">
                        <span>5 rounds</span>
                        <span>‚Ä¢</span>
                        <span>Timer libre ‚Üë</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="comfort-zone">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                    <!-- Inline progression display -->
                    <div id="comfortZoneProgress" class="comfort-progress" style="display:none;">
                        <div class="comfort-chart" id="comfortZoneChart"></div>
                        <div class="comfort-best" id="comfortZoneBest"></div>
                    </div>
                </div>

                <!-- Comfort Zone FRC -->
                <div class="exercise-card" data-exercise="comfort-zone-frc">
                    <div class="exercise-badge">FRC</div>
                    <h3>Zone de Confort FRC</h3>
                    <p>Apn√©e poumons vides : expirez normalement, retenez, arr√™tez d√®s l'inconfort. Progression s√©par√©e.</p>
                    <div class="exercise-meta">
                        <span>5 rounds</span>
                        <span>‚Ä¢</span>
                        <span>Timer libre ‚Üë</span>
                        <span>‚Ä¢</span>
                        <span>Poumons vides</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="comfort-zone-frc">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                    <!-- Inline progression display -->
                    <div id="frcComfortProgress" class="comfort-progress" style="display:none;">
                        <div class="comfort-chart" id="frcComfortChart"></div>
                        <div class="comfort-best" id="frcComfortBest"></div>
                    </div>
                </div>

                <!-- Dive Reflex -->
                <div class="exercise-card" data-exercise="dive-reflex">
                    <div class="exercise-badge">Physiologie</div>
                    <h3>R√©flexe de Plong√©e</h3>
                    <p>Exercices pour optimiser la bradycardie et la vasoconstriction p√©riph√©rique. Utilisez de l'eau froide sur le visage.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Adaptation</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="dive-reflex">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Lung Stretching -->
                <div class="exercise-card" data-exercise="lung-stretch">
                    <div class="exercise-badge">Capacit√©</div>
                    <h3>√âtirements Pulmonaires</h3>
                    <p>Uddiyana bandha et √©tirements intercostaux pour augmenter la capacit√© vitale.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Flexibilit√©</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="lung-stretch">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Diaphragm Training -->
                <div class="exercise-card" data-exercise="diaphragm">
                    <div class="exercise-badge">Fondamental</div>
                    <h3>Respiration Diaphragmatique</h3>
                    <p>Ma√Ætrise de la respiration abdominale en 3 temps. Base de tout entra√Ænement apn√©e.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Technique</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="diaphragm">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Hook Breathing -->
                <div class="exercise-card" data-exercise="hook-breathing">
                    <div class="exercise-badge">S√©curit√©</div>
                    <h3>Hook Breathing</h3>
                    <p>Technique de r√©cup√©ration post-apn√©e en 3 rounds progressifs. R√©flexe vital de s√©curit√© √† automatiser.</p>
                    <div class="exercise-meta">
                        <span>8 min</span>
                        <span>‚Ä¢</span>
                        <span>R√©cup√©ration</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                    </div>
                </div>

                <!-- Contraction Tolerance -->
                <div class="exercise-card" data-exercise="contraction-tolerance">
                    <div class="exercise-badge">Avanc√©</div>
                    <h3>Tol√©rance Contractions</h3>
                    <p>Apn√©e avec suivi des spasmes, coaching vocal et reframing cognitif. Progressif sur 6 semaines.</p>
                    <div class="exercise-meta">
                        <span>4 cycles</span>
                        <span>‚Ä¢</span>
                        <span>~15 min</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="contraction-tolerance">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Body Scan Apnea -->
                <div class="exercise-card" data-exercise="body-scan-apnea">
                    <div class="exercise-badge">Hybride</div>
                    <h3>Body Scan Apn√©e</h3>
                    <p>Apn√©e guid√©e avec scan corporel progressif. D√©place l'attention pendant la r√©tention pour plus de confort.</p>
                    <div class="exercise-meta">
                        <span>3 cycles</span>
                        <span>‚Ä¢</span>
                        <span>~20 min</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="body-scan-apnea">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Safety Notice -->
            <div class="safety-notice">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
                <div>
                    <strong>S√©curit√©</strong>
                    <p>Ne jamais pratiquer l'apn√©e dans l'eau seul. L'entra√Ænement √† sec est plus s√ªr. Arr√™tez en cas de vertiges, picotements ou troubles visuels. Ne pas combiner tables O2 et CO2 le m√™me jour.</p>
                </div>
            </div>
        </section>

        <!-- Multi Timer Section -->
        <section class="section" id="multitimer">
            <div class="section-header">
                <h2>Multi Timer</h2>
                <p>Cr√©ez des s√©quences de chronom√®tres personnalis√©es pour vos entra√Ænements</p>
            </div>

            <!-- Saved Sequences -->
            <div class="sequences-container">
                <div class="sequences-header">
                    <h3>Mes s√©quences</h3>
                    <button class="btn-primary btn-new-sequence" id="btnNewSequence">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        Nouvelle s√©quence
                    </button>
                </div>

                <div class="sequences-grid" id="sequencesGrid">
                    <!-- Default sequence: Simple Interval -->
                    <div class="sequence-card" data-sequence="interval-30-30">
                        <div class="sequence-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12,6 12,12 16,14"/>
                            </svg>
                        </div>
                        <h4>Intervalles 30/30</h4>
                        <p>30s effort / 30s repos √ó 8</p>
                        <div class="sequence-meta">
                            <span>8 cycles</span>
                            <span>‚Ä¢</span>
                            <span>8 min</span>
                        </div>
                        <div class="sequence-actions">
                            <button class="btn-start-sequence">D√©marrer</button>
                            <button class="btn-edit-sequence" title="Modifier">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 20h9M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Default sequence: Tabata -->
                    <div class="sequence-card" data-sequence="tabata">
                        <div class="sequence-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="13,2 3,14 12,14 11,22 21,10 12,10"/>
                            </svg>
                        </div>
                        <h4>Tabata</h4>
                        <p>20s effort / 10s repos √ó 8</p>
                        <div class="sequence-meta">
                            <span>8 cycles</span>
                            <span>‚Ä¢</span>
                            <span>4 min</span>
                        </div>
                        <div class="sequence-actions">
                            <button class="btn-start-sequence">D√©marrer</button>
                            <button class="btn-edit-sequence" title="Modifier">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 20h9M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Default sequence: Pyramide -->
                    <div class="sequence-card" data-sequence="pyramid">
                        <div class="sequence-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="12,2 22,22 2,22"/>
                            </svg>
                        </div>
                        <h4>Pyramide</h4>
                        <p>10-20-30-40-30-20-10s</p>
                        <div class="sequence-meta">
                            <span>7 phases</span>
                            <span>‚Ä¢</span>
                            <span>5.5 min</span>
                        </div>
                        <div class="sequence-actions">
                            <button class="btn-start-sequence">D√©marrer</button>
                            <button class="btn-edit-sequence" title="Modifier">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 20h9M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Placeholder for user sequences -->
                    <div class="sequence-card sequence-card-add" id="addSequenceCard">
                        <div class="sequence-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"/>
                                <line x1="5" y1="12" x2="19" y2="12"/>
                            </svg>
                        </div>
                        <h4>Cr√©er une s√©quence</h4>
                        <p>Personnalisez vos intervalles</p>
                    </div>
                </div>
            </div>

            <!-- Quick Timer -->
            <div class="quick-timer-section">
                <h3>Timer rapide</h3>
                <p>Chronom√®tre simple avec alarme</p>

                <div class="quick-timer-container">
                    <div class="quick-timer-inputs">
                        <div class="timer-input-group">
                            <input type="number" id="quickTimerMinutes" min="0" max="99" value="1" class="timer-input-large">
                            <span>min</span>
                        </div>
                        <span class="timer-separator-large">:</span>
                        <div class="timer-input-group">
                            <input type="number" id="quickTimerSeconds" min="0" max="59" value="0" class="timer-input-large">
                            <span>sec</span>
                        </div>
                    </div>

                    <div class="quick-timer-presets">
                        <button class="preset-btn" data-time="30">30s</button>
                        <button class="preset-btn" data-time="60">1min</button>
                        <button class="preset-btn" data-time="120">2min</button>
                        <button class="preset-btn" data-time="180">3min</button>
                        <button class="preset-btn" data-time="300">5min</button>
                    </div>

                    <div class="quick-timer-display" id="quickTimerDisplay">
                        <span class="timer-value" id="quickTimerValue">1:00</span>
                        <span class="timer-status" id="quickTimerStatus">Pr√™t</span>
                    </div>

                    <div class="quick-timer-controls">
                        <button class="btn-timer-control btn-timer-start" id="btnQuickTimerStart">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <polygon points="5,3 19,12 5,21"/>
                            </svg>
                            D√©marrer
                        </button>
                        <button class="btn-timer-control btn-timer-pause" id="btnQuickTimerPause" style="display: none;">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <rect x="6" y="4" width="4" height="16"/>
                                <rect x="14" y="4" width="4" height="16"/>
                            </svg>
                            Pause
                        </button>
                        <button class="btn-timer-control btn-timer-reset" id="btnQuickTimerReset">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                                <path d="M3 3v5h5"/>
                            </svg>
                            Reset
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Urgence Section -->
        <section class="section" id="urgence">
            <div class="section-header section-header-urgence">
                <h2>Urgence</h2>
                <p>Exercices rapides pour retrouver le calme en cas de panique, anxi√©t√© ou stress soudain</p>
            </div>

            <div class="urgence-intro">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M12 8v4M12 16h.01"/>
                </svg>
                <div>
                    <strong>En cas de crise</strong>
                    <p>Ces exercices sont con√ßus pour √™tre utilis√©s imm√©diatement lors d'un pic d'anxi√©t√© ou de panique. Commencez par le premier exercice et passez au suivant si n√©cessaire.</p>
                </div>
            </div>

            <div class="exercise-grid">
                <!-- Physiological Sigh - Fastest -->
                <div class="exercise-card exercise-card-urgence" data-exercise="physiological-sigh">
                    <div class="exercise-badge urgence-badge">30 sec</div>
                    <h3>Soupir Physiologique</h3>
                    <p>Le plus rapide : double inspiration + longue expiration. Effet imm√©diat sur le syst√®me nerveux.</p>
                    <div class="exercise-meta">
                        <span>30 sec</span>
                        <span>‚Ä¢</span>
                        <span>Effet imm√©diat</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-urgence">Commencer</button>
                    </div>
                </div>

                <!-- 5-5-5 Grounding -->
                <div class="exercise-card exercise-card-urgence" data-exercise="grounding-555">
                    <div class="exercise-badge urgence-badge">1-2 min</div>
                    <h3>Ancrage 5-5-5</h3>
                    <p>Technique de grounding : 5 choses vues, 5 entendues, 5 sensations tactiles. Reconnexion au pr√©sent.</p>
                    <div class="exercise-meta">
                        <span>1-2 min</span>
                        <span>‚Ä¢</span>
                        <span>Dissociation</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-urgence">Commencer</button>
                    </div>
                </div>

                <!-- Extended Exhale -->
                <div class="exercise-card exercise-card-urgence" data-exercise="extended-exhale">
                    <div class="exercise-badge urgence-badge">2 min</div>
                    <h3>Expiration Prolong√©e</h3>
                    <p>Inspiration 4s, expiration 8s. Active rapidement le nerf vague et le syst√®me parasympathique.</p>
                    <div class="exercise-meta">
                        <span>2 min</span>
                        <span>‚Ä¢</span>
                        <span>Calme rapide</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-urgence">Commencer</button>
                    </div>
                </div>

                <!-- Box Breathing Quick -->
                <div class="exercise-card exercise-card-urgence" data-exercise="box-quick">
                    <div class="exercise-badge urgence-badge">2-3 min</div>
                    <h3>Box Breathing Rapide</h3>
                    <p>Version courte 4-4-4-4. Reprend le contr√¥le de la respiration en quelques cycles.</p>
                    <div class="exercise-meta">
                        <span>2-3 min</span>
                        <span>‚Ä¢</span>
                        <span>Contr√¥le</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-urgence">Commencer</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pr√©-Performance Section -->
        <section class="section" id="preperformance">
            <div class="section-header section-header-preperf">
                <h2>Pr√©-Performance</h2>
                <p>Protocole de 5 minutes pour optimiser votre √©tat avant une plong√©e, comp√©tition ou moment important</p>
            </div>

            <div class="preperf-intro">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12,6 12,12 16,14"/>
                </svg>
                <div>
                    <strong>5 minutes avant</strong>
                    <p>Ce protocole combine respiration, relaxation et visualisation pour vous mettre dans l'√©tat optimal. Id√©al avant une plong√©e en apn√©e, une chasse sous-marine ou toute performance.</p>
                </div>
            </div>

            <div class="exercise-grid">
                <!-- Full 5-min Protocol -->
                <div class="exercise-card exercise-card-preperf exercise-card-featured" data-exercise="preperf-protocol">
                    <div class="exercise-badge preperf-badge">Protocole complet</div>
                    <h3>Protocole 5 Minutes</h3>
                    <p>S√©quence compl√®te : relaxation musculaire rapide, coh√©rence cardiaque, visualisation de succ√®s.</p>
                    <div class="exercise-meta">
                        <span>5 min</span>
                        <span>‚Ä¢</span>
                        <span>Complet</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-preperf">Commencer</button>
                    </div>
                </div>

                <!-- Dive Prep -->
                <div class="exercise-card exercise-card-preperf" data-exercise="dive-prep">
                    <div class="exercise-badge preperf-badge">Apn√©e</div>
                    <h3>Pr√©paration Plong√©e</h3>
                    <p>Breathe-up optimis√© : activation du r√©flexe de plong√©e, respiration diaphragmatique, visualisation de la descente.</p>
                    <div class="exercise-meta">
                        <span>5 min</span>
                        <span>‚Ä¢</span>
                        <span>Apn√©e / Chasse</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-preperf">Commencer</button>
                    </div>
                </div>

                <!-- Quick Coherence -->
                <div class="exercise-card exercise-card-preperf" data-exercise="quick-coherence">
                    <div class="exercise-badge preperf-badge">3 min</div>
                    <h3>Coh√©rence Express</h3>
                    <p>Coh√©rence cardiaque en 3 minutes : suffisant pour synchroniser c≈ìur et respiration avant l'action.</p>
                    <div class="exercise-meta">
                        <span>3 min</span>
                        <span>‚Ä¢</span>
                        <span>Focus</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-preperf">Commencer</button>
                    </div>
                </div>

                <!-- Power Visualization -->
                <div class="exercise-card exercise-card-preperf" data-exercise="power-viz">
                    <div class="exercise-badge preperf-badge">2 min</div>
                    <h3>Visualisation Express</h3>
                    <p>Visualisation rapide de votre performance parfaite. Ancrage de l'√©tat de confiance optimal.</p>
                    <div class="exercise-meta">
                        <span>2 min</span>
                        <span>‚Ä¢</span>
                        <span>Mental</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-preperf">Commencer</button>
                    </div>
                </div>

                <!-- Breathe-Up Structur√© -->
                <div class="exercise-card exercise-card-preperf" data-exercise="breathe-up-structure">
                    <div class="exercise-badge preperf-badge">Breathe-Up</div>
                    <h3>Breathe-Up Structur√©</h3>
                    <p>Pr√©paration pr√©-plong√©e en 3 phases : tidal 1:2, respiration segmentaire, inspiration finale en 3 √©tages.</p>
                    <div class="exercise-meta">
                        <span>6 min</span>
                        <span>‚Ä¢</span>
                        <span>Pr√©-Plong√©e</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-preperf">Commencer</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Auto-Hypnose Section -->
        <section class="section" id="autohypnose">
            <div class="section-header section-header-hypnose">
                <h2>Auto-Hypnose Apn√©e</h2>
                <p>Techniques avanc√©es de dissociation sensorielle et de flow-state pour apn√©istes</p>
            </div>

            <div class="hypnose-intro">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <circle cx="12" cy="12" r="6" opacity="0.5"/>
                    <circle cx="12" cy="12" r="2"/>
                </svg>
                <div>
                    <strong>Fragmentation Sensorielle VAKOG</strong>
                    <p>Ces techniques utilisent la dissociation visuelle, auditive, kinesth√©sique, olfactive et gustative pour modifier votre perception pendant l'apn√©e. Apprenez √† d√©placer votre attention et √† g√©rer les spasmes.</p>
                </div>
            </div>

            <div class="exercise-grid">
                <!-- Initiation Auto-Hypnose -->
                <div class="exercise-card exercise-card-hypnose exercise-card-featured" data-exercise="hypno-apnee-debutant">
                    <div class="exercise-badge hypnose-badge">D√©butant</div>
                    <h3>Initiation Auto-Hypnose</h3>
                    <p>D√©couvrez les bases de l'auto-hypnose : induction progressive, approfondissement et cr√©ation de votre ancre personnelle.</p>
                    <div class="exercise-meta">
                        <span>15 min</span>
                        <span>‚Ä¢</span>
                        <span>Fondamental</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>

                <!-- VAKOG Statique -->
                <div class="exercise-card exercise-card-hypnose" data-exercise="vakog-static">
                    <div class="exercise-badge hypnose-badge">Statique</div>
                    <h3>VAKOG Statique</h3>
                    <p>Fragmentation sensorielle compl√®te pour apn√©e statique. Technique de switch pour d√©placer l'attention des spasmes.</p>
                    <div class="exercise-meta">
                        <span>12 min</span>
                        <span>‚Ä¢</span>
                        <span>Gestion spasmes</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>

                <!-- Scan Sensoriel Circulaire -->
                <div class="exercise-card exercise-card-hypnose" data-exercise="scan-sensoriel">
                    <div class="exercise-badge hypnose-badge">Pendant apn√©e</div>
                    <h3>Scan Sensoriel Circulaire</h3>
                    <p>Parcours rapide des zones neutres du corps pour rediriger l'attention. Utilisable pendant l'apn√©e elle-m√™me.</p>
                    <div class="exercise-meta">
                        <span>8 min</span>
                        <span>‚Ä¢</span>
                        <span>Dissociation</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>

                <!-- Flow-State Dynamique -->
                <div class="exercise-card exercise-card-hypnose" data-exercise="flow-dynamique">
                    <div class="exercise-badge hypnose-badge">Dynamique</div>
                    <h3>Flow-State Dynamique</h3>
                    <p>Dissociation moteur/passager et mantra rythmique pour DNF et monopalme. Passez en mode automatique.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>100m mono / DNF</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>

                <!-- M√©ditation L√¢cher-Prise -->
                <div class="exercise-card exercise-card-hypnose" data-exercise="meditation-lacher-prise">
                    <div class="exercise-badge hypnose-badge">L√¢cher-prise</div>
                    <h3>M√©ditation L√¢cher-Prise</h3>
                    <p>Apprendre √† ne plus lutter : respiration passive, acceptation ACT et conditionnement par mot-cl√© "l√¢che".</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Mental / Anxi√©t√©</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>

                <!-- Flow & Release -->
                <div class="exercise-card exercise-card-hypnose exercise-card-featured" data-exercise="flow-release">
                    <div class="exercise-badge hypnose-badge">Triple Awareness</div>
                    <h3>Flow & Release</h3>
                    <p>Programme 10 min pour r√©√©duquer le syst√®me nerveux : Cyclic Sighing ‚Üí mobilisation diaphragme ‚Üí apn√©es de d√©concentration sensorielle (m√©thode Molchanovs) ‚Üí silence int√©gratif.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>L√¢cher-prise / Hyper-vigilance</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>

                <!-- Programme Dry-to-Wet Bridge -->
                <div class="exercise-card exercise-card-hypnose exercise-card-featured" data-exercise="dry-to-wet-bridge">
                    <div class="exercise-badge hypnose-badge">Programme 8 sem.</div>
                    <h3>Programme Dry-to-Wet</h3>
                    <p>Guide en 8 semaines pour transf√©rer vos performances du sec vers l'eau. R√©duit l'anxi√©t√© aquatique progressivement.</p>
                    <div class="exercise-meta">
                        <span>12 min</span>
                        <span>‚Ä¢</span>
                        <span>Transfert Eau</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>
            </div>

            <div class="hypnose-tips">
                <h4>Conseils d'utilisation</h4>
                <ul>
                    <li><strong>Ancre pouce-index :</strong> Pressez l√©g√®rement votre pouce contre votre index pour activer instantan√©ment l'√©tat de calme.</li>
                    <li><strong>Entra√Ænez-vous √† sec :</strong> Pratiquez ces techniques hors de l'eau avant de les utiliser en apn√©e r√©elle.</li>
                    <li><strong>Mantra Glisse-Rel√¢che :</strong> Utilisez ce rythme mental pendant vos dynamiques pour entrer en mode automatique.</li>
                    <li><strong>Switch rapide :</strong> D√®s qu'un spasme arrive, d√©placez votre attention sur le lobe d'oreille ou le petit orteil.</li>
                </ul>
            </div>
        </section>

        <!-- Guide Section -->
        <section class="section" id="guide">
            <div class="section-header">
                <h2>Guide des exercices</h2>
                <p>Choisissez vos exercices selon votre objectif, votre niveau et votre blocage principal</p>
            </div>

            <!-- Objective Filter -->
            <div class="guide-filters">
                <h3 class="guide-filter-title">Quel est votre objectif ?</h3>
                <div class="guide-objective-grid">
                    <button class="guide-objective-btn active" data-objective="all">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 12l3 3 5-5"/></svg>
                        Tout voir
                    </button>
                    <button class="guide-objective-btn" data-objective="static">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 8v8"/></svg>
                        Apn√©e statique
                    </button>
                    <button class="guide-objective-btn" data-objective="dynamic">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 12h8M13 8l4 4-4 4"/></svg>
                        Apn√©e dynamique
                    </button>
                    <button class="guide-objective-btn" data-objective="depth">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v12M8 14l4 4 4-4"/></svg>
                        Profondeur
                    </button>
                    <button class="guide-objective-btn" data-objective="spearfishing">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v12M9 9l3-3 3 3"/></svg>
                        Chasse sous-marine
                    </button>
                    <button class="guide-objective-btn" data-objective="anxiety">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 8v4M12 16h.01"/></svg>
                        L√¢cher-prise / Anxi√©t√©
                    </button>
                    <button class="guide-objective-btn" data-objective="contractions">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                        Tol√©rance contractions
                    </button>
                    <button class="guide-objective-btn" data-objective="drytowet">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v6M12 22v-6M2 12h6M22 12h-6"/><circle cx="12" cy="12" r="4"/></svg>
                        Transfert sec &rarr; eau
                    </button>
                </div>
            </div>

            <!-- Level Filter -->
            <div class="guide-level-filter">
                <span class="guide-level-label">Niveau :</span>
                <button class="guide-level-btn active" data-level="all">Tous</button>
                <button class="guide-level-btn" data-level="beginner">D√©butant</button>
                <button class="guide-level-btn" data-level="intermediate">Interm√©diaire</button>
                <button class="guide-level-btn" data-level="advanced">Avanc√©</button>
            </div>

            <!-- Result count -->
            <div class="guide-result-count" id="guideResultCount">
                <strong>24</strong> exercices disponibles
            </div>

            <!-- Guide Recommendations -->
            <div class="guide-recommendations" id="guideRecommendations">

                <!-- RESPIRATION -->
                <div class="guide-category" data-cat="respiration">
                    <h3 class="guide-category-title">Respiration</h3>
                    <div class="guide-exercises-list">

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing,anxiety" data-level="beginner" data-exercise-id="cyclic-sighing">
                            <div class="guide-exercise-header">
                                <h4>Cyclic Sighing</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Double inspiration + longue expiration. Active le syst√®me parasympathique en 5 min. Id√©al pour d√©marrer chaque session.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Pr√©-session</span>
                                <span class="guide-tag">Anti-stress</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Respiration nasale pour la 1re inspiration (remplir 80% des poumons), puis une courte 2e inspiration nasale pour compl√©ter jusqu'au maximum. Expiration lente et compl√®te par la bouche, naturelle et sans forcer. Rythme : ~9 sec/cycle. Laisse chaque expiration durer jusqu'au bout sans pr√©cipiter le cycle suivant.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Assis confortablement, dos droit (chaise ou sol). Mains pos√©es sur les cuisses, paumes vers le haut. Yeux ferm√©s. Peut aussi se faire allong√© en savasana. Id√©al dans la voiture avant une session (moteur coup√©).</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> Baisse rapide du rythme cardiaque (‚àí10 √† ‚àí15 bpm en 5 cycles), activation du nerf vague, r√©duction du cortisol. √âtude Stanford 2023 : 56% plus efficace que la m√©ditation pour am√©liorer l'humeur.</li>
                                    <li><strong>Mental :</strong> Brise le cycle d'hyperventilation anxieuse, donne un sentiment de contr√¥le imm√©diat. Tr√®s utile apr√®s un stress soudain.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Ne cherche pas √† contr√¥ler ou compter. Laisse simplement chaque expiration emporter une couche de tension. Imagine que tu souffles vers le bas, dans le sol. Si une pens√©e surgit, laisse-la partir avec l'expiration. Pas d'objectif ‚Äî juste laisser faire.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant chaque entra√Ænement d'apn√©e, apr√®s une r√©union stressante, ou d√®s que tu sens le mental s'emballer. 5 min suffisent.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing,anxiety" data-level="beginner" data-exercise-id="coherent">
                            <div class="guide-exercise-header">
                                <h4>Coh√©rence Cardiaque</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Respiration √† 5.5s/5.5s qui synchronise le c≈ìur et le syst√®me nerveux. R√©duit le cortisol de 23%.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Quotidien</span>
                                <span class="guide-tag">HRV</span>
                                <span class="guide-tag">10 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Respiration nasale exclusive, douce et r√©guli√®re. Inspiration abdominale 5.5 sec (ventre puis poitrine), expiration 5.5 sec par le nez ou bouche l√©g√®rement entrouverte. Le ratio 1:1 cr√©e la r√©sonance cardiaque ‚Äî ne le modifie pas. Commence par 4.5s/4.5s si 5.5s semble trop long.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Assis, dos soutenu ou droit. Yeux ferm√©s ou regard fix√© √† l'horizon. Une main sur le ventre pour sentir l'expansion abdominale. Peut se pratiquer en marchant lentement, les yeux ouverts.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> Optimise la VRC (variabilit√© du rythme cardiaque) √† la fr√©quence de r√©sonance (0.1 Hz). R√©duit le cortisol de 23%, am√©liore la r√©cup√©ration, stabilise la pression art√©rielle.</li>
                                    <li><strong>Pour l'apn√©e :</strong> Entra√Æne le c≈ìur √† fonctionner avec moins de battements ‚Äî directement transf√©rable en bradycardie pendant l'apn√©e.</li>
                                    <li><strong>Mental :</strong> Clart√©, calme durable (effets r√©siduels 4‚Äì6h), r√©duction de l'anxi√©t√© de performance.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">R√®gle des 3 "R" : R√©gulier (m√™me heure si possible), R√©current (3x/jour pour les effets maximaux), Relax√© (aucune tension dans l'effort). Ce n'est pas une performance ‚Äî c'est un entra√Ænement du syst√®me nerveux autonome. 5 min √† jeun le matin = fondation de toute la journ√©e.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Id√©alement 3 fois par jour : r√©veil, midi, coucher. 5 min suffisent. Fondation absolue de tout entra√Ænement respiratoire.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,anxiety" data-level="beginner" data-exercise-id="box">
                            <div class="guide-exercise-header">
                                <h4>Box Breathing</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Carr√© respiratoire 4-4-4-4. Calme mental profond, utilis√© par les Navy SEALs.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Calme mental</span>
                                <span class="guide-tag">Focus</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Cycle en 4 phases √©gales ‚Äî inspiration nasale 4 sec, r√©tention poumons pleins 4 sec, expiration buccale 4 sec, suspension poumons vides 4 sec. La r√©gularit√© absolue est cl√© : visualise mentalement les 4 c√¥t√©s d'un carr√©. Les 2 r√©tentions entra√Ænent le diaphragme au maintien sans stress.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Assis en position stable, pieds √† plat, mains sur les genoux. Peut se faire debout dos au mur. Les r√©tentions demandent un minimum de stabilit√© posturale pour √©viter la tension. En op√©ration (Navy SEALs) : pratiqu√© assis dans un v√©hicule ou en attente.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> R√©gule le syst√®me nerveux autonome via les 2 r√©tentions. Augmente le tonus vagal, r√©duit la FC de repos de 5‚Äì8 bpm apr√®s 5 cycles.</li>
                                    <li><strong>Mental :</strong> Arr√™te le flux de pens√©es gr√¢ce au comptage des 4 temps. Technique "anti-panique" la plus rapide connue. Focus maximal en 3 minutes.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Traite chaque phase comme un seul objectif : "maintenant j'inspire", "maintenant je retiens". Ne projette pas sur la phase suivante. Si ton esprit s'emballe, reviens au comptage ‚Äî c'est un ancrage cognitif. Parfait pour les personnalit√©s analytiques qui ont du mal √† "l√¢cher".</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant une apn√©e qui t'intimide, apr√®s un faux d√©part, ou en situation de stress aigu. 5 cycles suffisent en urgence.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic" data-level="intermediate" data-exercise-id="co2-tolerance">
                            <div class="guide-exercise-header">
                                <h4>Tol√©rance au CO2</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Expirations prolong√©es (ratio 1:2) pour augmenter progressivement la tol√©rance au CO2.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">CO2</span>
                                <span class="guide-tag">Confort</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Inspiration nasale normale (4 sec), expiration nasale ou buccale lente et contr√¥l√©e (8 sec) ‚Äî ratio fixe 1:2. L'expiration prolong√©e est l'√©l√©ment cl√© : ne force pas l'air dehors, laisse-le sortir progressivement en contractant l√©g√®rement l'abdomen sur les 3 derni√®res secondes. Pas de pause entre les cycles.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Assis ou allong√©. Position semi-allong√©e (dossier √† 45¬∞) recommand√©e car elle facilite l'expiration diaphragmatique. Une main sur le ventre permet de sentir le vidage progressif. √âvite la position debout qui tend les muscles intercostaux.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> Recule le seuil de d√©clenchement des contractions diaphragmatiques. L'expiration prolong√©e augmente la pCO2 art√©rielle de mani√®re douce et habitue les ch√©mor√©cepteurs. Effet Bohr : am√©liore le transfert d'O2 vers les tissus.</li>
                                    <li><strong>Pour l'apn√©e :</strong> Directement transf√©rable ‚Äî l'apn√©iste qui tol√®re mieux le CO2 ressent les contractions plus tard et avec moins d'urgence.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">√Ä mesure que l'exercice avance et que le CO2 monte l√©g√®rement, tu peux ressentir une l√©g√®re envie de respirer. C'est l'objectif ‚Äî l'observer sans y r√©pondre. Traite cette sensation comme de l'information, pas comme une urgence. La tol√©rance s'entra√Æne exactement comme un muscle.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Quotidien en compl√©ment aux tables CO2. Excellent en r√©cup√©ration active les jours sans apn√©e.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth" data-level="intermediate" data-exercise-id="wimhof">
                            <div class="guide-exercise-header">
                                <h4>Wim Hof</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Hyperventilation contr√¥l√©e + r√©tention. Repousse les limites et conditionne au froid.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Limites</span>
                                <span class="guide-tag">√ânergie</span>
                                <span class="guide-tag">~15 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">30 respirations amples et rapides (1.5 sec inspir / 1.5 sec expir) ‚Äî buccales ou mixtes, sans forcer l'expiration (laisser l'air sortir). Apr√®s la 30e expiration, r√©tention √† poumons quasi-vides aussi longtemps que possible. Puis inspiration profonde tenue 15 sec (r√©cup√©ration). 3 rounds complets.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text"><strong>Allong√© obligatoire</strong> ‚Äî jamais assis ou debout. L'hyperventilation peut provoquer un l√©ger √©tourdissement ou des fourmillements dans les mains ‚Äî c'est normal et sans danger en position couch√©e. Lieu calme, surface confortable, aucune contrainte de temps.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> L'hyperventilation abaisse la pCO2 ce qui repousse l'envie de respirer. Le corps apprend √† fonctionner avec moins d'O2. Augmente les performances athl√©tiques, renforce le syst√®me immunitaire (√©tude Radboud 2014).</li>
                                    <li><strong>Mental :</strong> Sensation d'√©nergie intense, euphorie post-r√©tention. Entra√Æne le mental √† rester calme face aux sensations intenses.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ö†Ô∏è S√©curit√© absolue</p>
                                <p class="guide-detail-text"><em>JAMAIS dans l'eau, en conduisant, ou seul dans un endroit dangereux.</em> L'hyperventilation cr√©e un risque de syncope si elle pr√©c√®de une apn√©e en eau. Ne pas pratiquer si grossesse, √©pilepsie, cardiopathie. En cas d'√©tourdissement fort : arr√™ter et respirer normalement.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Aborde chaque round comme une exploration ‚Äî pas une comp√©tition. Pendant la r√©tention, observe les sensations sans les interpr√©ter comme dangereuses. Les fourmillements et la chaleur sont des effets normaux de la chimie sanguine. L'objectif est d'apprendre √† "rester" face √† l'inconfort.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 2-3x/semaine le matin. <strong>Jamais</strong> avant une apn√©e en eau (risque de syncope). Excellent avant une douche froide.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,anxiety" data-level="beginner" data-exercise-id="relaxation">
                            <div class="guide-exercise-header">
                                <h4>Relaxation 4-7-8</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Inspirez 4s, retenez 7s, expirez 8s. Effet tranquillisant naturel puissant.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">D√©tente profonde</span>
                                <span class="guide-tag">Sommeil</span>
                                <span class="guide-tag">~5 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Inspiration nasale 4 sec (abdominale), r√©tention poumons pleins 7 sec (m√¢choire d√©tendue, glotte ouverte), expiration buccale 8 sec avec le son "whoosh" en faisant une l√©g√®re constriction labiale. La langue peut toucher le palais derri√®re les incisives sup√©rieures (position pranayama). 4 cycles max au d√©but.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Assis le dos droit ou allong√©. Ne pas pratiquer debout ‚Äî l'effet relaxant est prononc√© et peut provoquer une l√©g√®re somnolence. Id√©al au lit juste avant de dormir. Lumi√®re tamis√©e ou obscurit√©. √âteindre les √©crans 5 min avant.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> La r√©tention prolong√©e (7 sec) augmente la pCO2 l√©g√®rement et d√©clenche un effet parasympathique puissant. L'expiration longue active le nerf vague. R√©duit la pression art√©rielle de 5‚Äì8 mmHg d√®s 4 cycles.</li>
                                    <li><strong>Mental :</strong> Effet "tranquillisant naturel" selon le Dr Andrew Weil. R√©duit la rumination anxieuse, facilite l'endormissement (‚àí10 min d'endormissement en moyenne).</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Laisse la r√©tention des 7 secondes cr√©er un espace int√©rieur de silence. Ce n'est pas une apn√©e √† r√©ussir ‚Äî c'est une pause. Sur l'expiration, visualise le stress et la tension qui quittent ton corps avec l'air. Si l'esprit r√©siste, compte simplement : 4-7-8 sans projeter.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Le soir, avant une session de visualisation ou d'hypnose, ou pour s'endormir. 4 cycles = 1.5 min. Tr√®s efficace en urgence avant une plong√©e stressante.</p>
                        </div>

                        <!-- Pranayama 1-4-2 -->
                        <div class="guide-exercise-item" data-objectives="static,anxiety" data-level="intermediate" data-exercise-id="pranayama-142">
                            <div class="guide-exercise-header">
                                <h4>Pranayama 1-4-2</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Ratio yogique classique 1:4:2. R√©tention longue pour maximiser les √©changes gazeux et activer le nerf vague.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Pranayama</span>
                                <span class="guide-tag">R√©tention</span>
                                <span class="guide-tag">10 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Trois phases : P≈´raka (inspiration nasale compl√®te, 3 √©tages : ventre ‚Üí c√¥tes ‚Üí poitrine), Kumbhaka (r√©tention poumons pleins, glotte l√©g√®rement ferm√©e, mula bandha optionnel), Rechaka (expiration nasale lente et compl√®te). Ratio classique avec base 4 sec : 4-16-8. Progression : commencer en 1:2:2 si 1:4:2 est inconfortable.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Assis en lotus, demi-lotus ou tailleur ‚Äî ou sur une chaise, pieds au sol. Colonne vert√©brale droite et allong√©e (point du sternum vers le ciel). Mains en Jnana mudra (index sur pouce). Yeux ferm√©s, regard int√©rieur vers le point entre les sourcils (Ajna). Aucune tension dans les √©paules.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> La r√©tention longue (Kumbhaka) augmente l'absorption d'O2 et favorise le r√©flexe de plong√©e. Stimule le nerf vague par compression abdominale l√©g√®re. R√©duit le rythme cardiaque de 10‚Äì20 bpm apr√®s 10 cycles.</li>
                                    <li><strong>Pour l'apn√©e :</strong> Entra√Æne le diaphragme et habitue le corps √† la r√©tention pleine ‚Äî tr√®s proche de la phase d'apn√©e statique poumons pleins.</li>
                                    <li><strong>Mental :</strong> Clart√© et calme profond. Tr√®s efficace contre l'anxi√©t√© anticipatoire.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Pendant le Kumbhaka, ne retiens pas l'air avec force ‚Äî maintiens la fermeture glottique de fa√ßon douce, comme si tu "reposais" l'air plut√¥t que de le bloquer. Si l'envie de respirer survient avant la fin, c'est que le ratio est trop long ‚Äî r√©duis la base de 1 sec. La r√©gularit√© prime sur la dur√©e.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Pratique quotidienne le matin √† jeun. Minimum 10 cycles. Commencer par ratio 1:2:2 si d√©butant en pranayama.</p>
                        </div>

                        <!-- Nadi Shodhana -->
                        <div class="guide-exercise-item" data-objectives="static,anxiety" data-level="beginner" data-exercise-id="nadi-shodhana">
                            <div class="guide-exercise-header">
                                <h4>Nadi Shodhana</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Respiration altern√©e qui √©quilibre les deux h√©misph√®res c√©r√©braux. R√©duit la tension art√©rielle de 5 mmHg.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">√âquilibre</span>
                                <span class="guide-tag">Altern√©e</span>
                                <span class="guide-tag">10 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Main droite en Vishnu mudra (pouce et annulaire utilis√©s). Cycle : expiration gauche ‚Üí inspiration gauche ‚Üí r√©tention ‚Üí expiration droite ‚Üí inspiration droite ‚Üí r√©tention ‚Üí expiration gauche (1 cycle complet). Toutes les phases √©gales (4 sec). Le flux d'air doit √™tre silencieux ‚Äî si tu entends ton souffle, c'est que tu pousses trop fort.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Assis en lotus ou tailleur, dos droit. Coude droit l√©g√®rement lev√© (niveau du nez). Yeux ferm√©s ou mi-clos. Main gauche en Jnana mudra sur le genou gauche. La posture est fondamentale ici ‚Äî un dos vo√ªt√© cr√©e une tension dans le bras et perturbe le flux nasal.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> √âquilibre l'activit√© des deux h√©misph√®res c√©r√©braux via les cycles nasaux altern√©s (cycle nasal ultradien). R√©duit la PA systolique de 5‚Äì8 mmHg. Normalise les rythmes circadiens.</li>
                                    <li><strong>Mental :</strong> Calme profond et √©quilibr√© (ni s√©datif ni stimulant). Id√©al avant m√©ditation ou apn√©e car il harmonise sans endormir. Am√©liore la concentration soutenue.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Nadi Shodhana = "purification des canaux". Imagine que chaque inspiration am√®ne de l'√©nergie propre dans le canal et que chaque expiration emporte les r√©sidus. Si la narine est partiellement bouch√©e ‚Äî c'est normal et habituel. Ne force pas, laisse le flux trouver son chemin.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Matin et soir, 10 min. Avant m√©ditation, avant apn√©e statique, en p√©riode de stress. Peut remplacer la coh√©rence cardiaque comme pratique de base.</p>
                        </div>

                        <!-- Kapalabhati -->
                        <div class="guide-exercise-item" data-objectives="static,dynamic" data-level="intermediate" data-exercise-id="kapalabhati">
                            <div class="guide-exercise-header">
                                <h4>Kapalabhati</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Expirations puissantes et rapides par le nez. Augmente le flux sanguin c√©r√©bral de 20% et le m√©tabolisme.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">√ânergie</span>
                                <span class="guide-tag">Purification</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Expirations nasales courtes, rapides et puissantes activ√©es par la contraction abdominale (ombilic vers la colonne). L'inspiration est passive ‚Äî elle se fait seule par rebond √©lastique. Rythme : 1 cycle/sec au d√©but, jusqu'√† 2 cycles/sec en avanc√©. 30‚Äì120 expirations par round, suivi d'une r√©tention poumons quasi-vides.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Assis en lotus ou tailleur, dos droit ‚Äî la posture est critique car elle permet la contraction libre de l'abdomen. Mains sur les genoux. NE PAS pratiquer allong√© (l'abdomen ne peut pas se contracter correctement). √âpaules immobiles ‚Äî seul le ventre bouge.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> Augmente le flux sanguin c√©r√©bral de 20%, stimule les surr√©nales, nettoie les voies respiratoires. Effet "Skull Shining" ‚Äî clarifie litt√©ralement l'esprit. Stimule le feu digestif (Agni).</li>
                                    <li><strong>Pour l'apn√©e :</strong> Renforce le plancher pelvien et le diaphragme. La r√©tention finale apr√®s chaque round entra√Æne la suspension poumons vides.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ö†Ô∏è Contre-indications</p>
                                <p class="guide-detail-text">D√©conseill√© en cas de : grossesse, hypertension, hernies, √©pilepsie, glaucome. Jamais le soir (tr√®s stimulant ‚Äî peut perturber le sommeil). Toujours √† jeun (au moins 2h apr√®s un repas). Arr√™ter si vertiges ou naus√©es.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Kapalabhati est une technique active et √©nergisante ‚Äî aborde-la avec enthousiasme, pas avec anxi√©t√©. Imagine que chaque expiration propulse de l'√©nergie vers l'ext√©rieur et nettoie les r√©sidus. L'acc√©l√©ration progressive sur plusieurs rounds cr√©e une mont√©e d'√©nergie distincte. Parfait pour d√©marrer une journ√©e de comp√©tition.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Le matin √† jeun, avant un entra√Ænement physique ou une comp√©tition. Jamais le soir. 3 rounds de 30‚Äì60 expirations.</p>
                        </div>

                        <!-- Ujjayi -->
                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,anxiety" data-level="beginner" data-exercise-id="ujjayi">
                            <div class="guide-exercise-header">
                                <h4>Ujjayi</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Souffle oc√©anique avec constriction glottique. Ralentit naturellement la respiration et active le r√©flexe vagal.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Yoga</span>
                                <span class="guide-tag">Calme</span>
                                <span class="guide-tag">10 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Inspire et expire exclusivement par le nez, avec une l√©g√®re constriction de la gorge (comme si tu voulais faire de la bu√©e sur un miroir, mais bouche ferm√©e). Le son doit ressembler √† des vagues douces ‚Äî audible pour toi seul. Ratio 1:1. La constriction glottique est la cl√© : elle ralentit le flux naturellement sans effort conscient.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Toutes positions sont possibles : assis, allong√©, en mouvement (yoga, natation sur le dos). C'est le seul pranayama qui se pratique facilement en marchant. Pour l'apn√©e : peut √™tre utilis√© pendant le breathe-up en surface (avant d'enfiler le masque). Tr√®s accessible m√™me debout en bord de bassin.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> La constriction glottique augmente la r√©sistance des voies a√©riennes, ce qui active m√©caniquement le r√©flexe vagal. R√©duction naturelle du d√©bit ventilatoire de 30%. Stabilise la fr√©quence cardiaque.</li>
                                    <li><strong>Pour l'apn√©e :</strong> Entra√Æne la glotte √† maintenir une r√©sistance ‚Äî directement li√© √† la technique de compensation √† la descente. Am√©liore la conscience glottique.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Le son Ujjayi est √† la fois un guide et un ancrage. Quand tu l'entends r√©gulier, tu sais que tu es dans le bon √©tat. Utilise-le comme un m√©tronome int√©rieur. S'il dispara√Æt ou devient irr√©gulier, c'est un signal que le mental s'emballe ou que tu forces. Reviens simplement au son.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Pendant la pratique de yoga, lors du breathe-up avant plong√©e, ou comme exercice autonome. Peut durer 10‚Äì30 min sans effort.</p>
                        </div>

                        <!-- Bhramari -->
                        <div class="guide-exercise-item" data-objectives="static,anxiety" data-level="beginner" data-exercise-id="bhramari">
                            <div class="guide-exercise-header">
                                <h4>Bhramari</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Bourdonnement nasal "Mmm" qui stimule le nerf vague et multiplie par 15 la production d'oxyde nitrique.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Vibration</span>
                                <span class="guide-tag">Nerf vague</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Inspiration nasale profonde et douce (4 sec). Expiration nasale avec son "Mmm" continu en fermant la bouche ‚Äî la vibration doit r√©sonner dans le cr√¢ne, le palais, le front. Exp√©rimentation : trouve la fr√©quence (grave ou m√©dium) qui cr√©e la plus forte r√©sonance dans ton cr√¢ne. Ratio 1:2 standard.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Assis en lotus ou tailleur, dos droit. Pour amplifier l'effet : pose les pouces sur les oreilles (ferme le son ext√©rieur), index sur les yeux ferm√©s, majeurs sur les narines, annulaires sur les l√®vres (Shanmukhi mudra). Cette position maximise la perception des vibrations internes.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> Les vibrations stimulent directement le nerf vague via la r√©sonance du nerf trijumeau. Multiplie par 15 la production d'oxyde nitrique dans les sinus nasaux (effet vasodilatateur et antibact√©rien). R√©duit la FC de 8‚Äì12 bpm d√®s 5 cycles.</li>
                                    <li><strong>Mental :</strong> Bloque les pens√©es intrusives plus efficacement que toute autre technique (saturation auditive interne). Effet hypnotique l√©ger apr√®s 3 min continues.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Laisse le son te porter. Le "Mmm" cr√©e une vibration int√©rieure qui devient rapidement plus int√©ressante que les pens√©es ‚Äî c'est un ancrage naturel. Joue avec la hauteur du son (plus grave = plus de vibration dans la poitrine, plus aigu = plus dans la t√™te). Aucune performance √† r√©aliser.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant le sommeil, apr√®s une session intense, ou en cas d'anxi√©t√© soudaine. Effet calmant imm√©diat d√®s le 3e cycle. 5 min = 15 cycles.</p>
                        </div>

                        <!-- Surya Bhedana -->
                        <div class="guide-exercise-item" data-objectives="static,dynamic" data-level="intermediate" data-exercise-id="surya-bhedana">
                            <div class="guide-exercise-header">
                                <h4>Surya Bhedana</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Respiration solaire par la narine droite. Active le sympathique, augmente l'√©nergie et la chaleur interne.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">√ânergie</span>
                                <span class="guide-tag">Solaire</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Inspiration exclusive par la narine droite (narine gauche ferm√©e par l'annulaire), r√©tention, expiration exclusive par la narine gauche (narine droite ferm√©e par le pouce). Ratio 2:4:3. La narine droite est reli√©e au canal Pingala (√©nergie solaire, h√©misph√®re gauche). L'expiration par la gauche est lente et silencieuse.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Assis en lotus ou tailleur, dos droit. Main droite en Vishnu mudra (pouce et annulaire pour contr√¥ler les narines). Main gauche en Jnana mudra. Yeux ferm√©s. Cette technique cr√©e de la chaleur interne ‚Äî pratiquer dans un endroit temp√©r√©, pas trop chaud.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> Activation du syst√®me nerveux sympathique par stimulation de la narine droite (connexion au canal Pingala). Augmente la chaleur corporelle, la FC l√©g√®rement, le m√©tabolisme. Am√©liore la digestion et la vitalit√©.</li>
                                    <li><strong>Pour l'apn√©e :</strong> Utile pour activer le corps avant une session matinale froide. Contre l'hypothermie l√©g√®re en d√©but de session.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Surya Bhedana = "percer le canal solaire". Visualise l'√©nergie dor√©e du soleil entrant par la narine droite √† chaque inspiration, se distribuant dans tout le corps pendant la r√©tention, et l'√©nergie us√©e qui ressort par la gauche. Approche dynamique et √©veill√©e ‚Äî diff√©rente de la relaxation des autres pranayamas.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Matin ou avant un effort physique/mental. 5 min = 10‚Äì15 cycles. √âviter apr√®s 17h (perturbe le sommeil).</p>
                        </div>

                    </div>
                </div>

                <!-- APN√âE -->
                <div class="guide-category" data-cat="apnee">
                    <h3 class="guide-category-title">Apn√©e</h3>
                    <div class="guide-exercises-list">

                        <div class="guide-exercise-item" data-objectives="static" data-level="intermediate" data-exercise-id="co2-table">
                            <div class="guide-exercise-header">
                                <h4>Table CO2</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Apn√©es fixes avec repos d√©croissant. Augmente la tol√©rance au CO2 et recule le seuil des contractions.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">CO2</span>
                                <span class="guide-tag">Contractions</span>
                                <span class="guide-tag">8 cycles</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üìã Structure de la table</p>
                                <p class="guide-detail-text">8 cycles : chaque apn√©e dure le m√™me temps (ex: 50% de ton apn√©e max). Le repos entre les apn√©es diminue progressivement (ex: 1m45 ‚Üí 1m30 ‚Üí ‚Ä¶ ‚Üí 15 sec). Plus les repos raccourcissent, plus le CO2 s'accumule entre les apn√©es ‚Äî for√ßant le corps √† s'y adapter.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Allong√© en savasana (sur le dos, bras le long du corps). C'est la position qui consomme le moins d'O2. Yeux ferm√©s. Si en eau : horizontal en surface, masque et tuba. √âviter toute tension musculaire ‚Äî rel√¢che consciemment les √©paules, le visage, les mains.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> Adaptation des ch√©mor√©cepteurs au CO2 : apr√®s 4‚Äì6 semaines, les contractions diaphragmatiques surviennent plus tard et sont moins intenses. Augmente le temps avant la 1re contraction de 20‚Äì40%.</li>
                                    <li><strong>Mental :</strong> Entra√Æne √† rester calme malgr√© l'accumulation de sensation. Chaque apn√©e successive est un peu plus difficile ‚Äî entra√Æne la r√©sistance mentale.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">La table CO2 est inconfortable par conception ‚Äî c'est son but. Aborde chaque apn√©e en mode "observateur" : note les sensations sans les amplifier. Pendant les repos courts de fin de table, concentre-toi uniquement sur respirer calmement et ne pas penser √† l'apn√©e suivante.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 3-4x/semaine. Pilier de l'entra√Ænement statique. Toujours alterner avec Table O2. Ne pas faire 2 tables CO2 cons√©cutives.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static" data-level="intermediate" data-exercise-id="o2-table">
                            <div class="guide-exercise-header">
                                <h4>Table O2</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Repos fixe avec apn√©es croissantes. Habitue le corps √† des niveaux d'O2 plus bas.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">O2</span>
                                <span class="guide-tag">Endurance</span>
                                <span class="guide-tag">8 cycles</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üìã Structure de la table</p>
                                <p class="guide-detail-text">8 cycles : le repos reste fixe (ex: 2 min), mais les apn√©es augmentent progressivement (ex: 30% ‚Üí 75% de ton max). Les derni√®res apn√©es sont proches de ta limite ‚Äî le corps apprend √† fonctionner avec des niveaux d'O2 de plus en plus bas (hypoxie contr√¥l√©e).</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position et s√©curit√©</p>
                                <p class="guide-detail-text">Allong√© en savasana, dans un lieu s√ªr. Table O2 = exercice avanc√© qui approche les limites r√©elles ‚Äî pratiquer uniquement √† sec (jamais seul en eau). En piscine, toujours avec buddy attentif. Les derni√®res apn√©es peuvent approcher le seuil de syncopation.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Physiologique :</strong> Stimule la polyglobulie (production accrue de globules rouges) sur 6‚Äì8 semaines. Am√©liore la tol√©rance √† l'hypoxie. Entra√Æne la rate √† lib√©rer les globules rouges de r√©serve (r√©flexe de plong√©e).</li>
                                    <li><strong>Performance :</strong> Am√©lioration directe du temps d'apn√©e max de 15‚Äì25% en 6 semaines combin√©es avec Table CO2.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Les derni√®res apn√©es de la Table O2 sont les plus b√©n√©fiques ‚Äî et les plus difficiles mentalement. Pendant le repos, ne pense pas √† la dur√©e de la prochaine apn√©e. Concentre-toi uniquement sur la r√©cup√©ration. Si tu paniques √† la derni√®re apn√©e, reprends √† 80% de la dur√©e pr√©vue ‚Äî mieux vaut finir la table que d'abandonner.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 2-3x/semaine en alternance avec Table CO2. Plus √©prouvant ‚Äî pr√©voir une journ√©e de r√©cup√©ration apr√®s.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic" data-level="beginner" data-exercise-id="no-contraction">
                            <div class="guide-exercise-header">
                                <h4>Table Sans Contraction</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Apn√©es courtes sans jamais atteindre les contractions. Construit la confiance et le confort.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Confiance</span>
                                <span class="guide-tag">Confort</span>
                                <span class="guide-tag">6 cycles</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üìã Principe</p>
                                <p class="guide-detail-text">6 apn√©es √† 30% de ton max (ex: si max = 2 min, chaque apn√©e = 36 sec). Repos confortables entre chaque (2 min). L'objectif : finir les 6 apn√©es sans avoir ressenti la moindre contraction diaphragmatique. Si une contraction survient, la dur√©e est trop longue ‚Äî r√©duire de 10%.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Allong√© en savasana. Rel√¢chement maximal ‚Äî scanner le corps au d√©but de chaque apn√©e pour v√©rifier l'absence de tension (visage, √©paules, mains, jambes). La table sans contraction est aussi un entra√Ænement √† la relaxation profonde.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Psychologique :</strong> Construit une exp√©rience 100% positive de l'apn√©e ‚Äî pas de lutte, pas d'inconfort. Reconditionne le cerveau √† associer apn√©e = calme (plut√¥t qu'apn√©e = peur).</li>
                                    <li><strong>Physiologique :</strong> Entra√Æne la r√©ponse parasympathique et la bradycardie sans stress. Accumulation douce sans effets n√©gatifs.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Protocole de confiance avant tout. Si tu viens de mauvaises exp√©riences ou d'une longue pause, cette table est ta priorit√© absolue pendant 2‚Äì3 semaines. L'objectif est de cr√©er des souvenirs positifs d'apn√©e, pas de progresser vite.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Id√©al pour d√©buter, reprendre apr√®s une pause, ou les jours de r√©cup√©ration. Excellent compl√©ment √† la Zone de Confort.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth" data-level="beginner" data-exercise-id="comfort-zone">
                            <div class="guide-exercise-header">
                                <h4>Zone de Confort</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Apn√©e statique libre poumons pleins. Arr√™tez d√®s la moindre g√™ne ‚Äî aucune souffrance. Suivez votre progression naturelle au fil des sessions.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Progression</span>
                                <span class="guide-tag">Confort</span>
                                <span class="guide-tag">5 rounds</span>
                                <span class="guide-tag">Poumons pleins</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Respiration d√©tendue et naturelle entre les apn√©es ‚Äî aucune hyperventilation. Inspiration poumons pleins au maximum tol√©rable, puis r√©tention jusqu'√† la <em>premi√®re envie</em> de respirer. Stop imm√©diat. R√©cup√©ration passive 2‚Äì3 min entre chaque round.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Allong√© sur le dos, bras le long du corps, jambes d√©crois√©es. Coussin sous les genoux si besoin. En eau : flottaison statique visage dans l'eau avec buddy. √Ä sec, reproduire la m√™me position horizontale pour simuler les sensations.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Mental :</strong> Accumulation de souvenirs positifs d'apn√©e ‚Äî chaque session facile reconditionne le cerveau.</li>
                                    <li><strong>Physiologique :</strong> Activation de la bradycardie et de la r√©ponse parasympathique sans stress. Pose les bases neuro-musculaires de la r√©tention.</li>
                                    <li><strong>Progression :</strong> Am√©lioration progressive et naturelle du temps sans aucun for√ßage.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Z√©ro pression, z√©ro objectif de temps. Si vous arr√™tez √† 30 secondes, c'est une r√©ussite totale. L'indicateur de succ√®s est une sensation de l√©g√®ret√© apr√®s la session, pas le chrono. Chaque sortie doit vous donner envie de revenir.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 3-4x/semaine. Id√©al pour construire une base solide sans stress. Compl√©ment parfait de la table sans contraction.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth" data-level="intermediate" data-exercise-id="comfort-zone-frc">
                            <div class="guide-exercise-header">
                                <h4>Zone de Confort FRC</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Apn√©e statique apr√®s expiration normale (poumons vides). Plus exigeant car moins d'oxyg√®ne disponible. D√©veloppe rapidement la tol√©rance au CO2.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">FRC</span>
                                <span class="guide-tag">Tol√©rance CO2</span>
                                <span class="guide-tag">5 rounds</span>
                                <span class="guide-tag">Poumons vides</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Expiration naturelle compl√®te (pas forc√©e), puis r√©tention sans inspiration pr√©alable ‚Äî c'est la capacit√© r√©siduelle fonctionnelle (FRC). La pression partielle d'O2 est d√©j√† plus basse au d√©part : l'effort per√ßu est plus intense pour une dur√©e √©quivalente poumons pleins. R√©cup√©ration 3‚Äì4 min entre rounds.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Allong√©, identique √† la Zone de Confort. Ventre rentr√© l√©g√®rement pour stabiliser la pression r√©siduelle. √Ä sec uniquement ‚Äî ne pratiquer jamais en immersion sans encadrement exp√©riment√©.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>CO2 :</strong> Stimulation intense de la tol√©rance au CO2 ‚Äî progression 2‚Äì3√ó plus rapide qu'en poumons pleins.</li>
                                    <li><strong>Neutre de flottabilit√© :</strong> Simule la position de neutralit√© √† 10‚Äì20 m de profondeur.</li>
                                    <li><strong>Gestion des contractions :</strong> Les contractions diaphragmatiques arrivent plus t√¥t ‚Äî excellent entra√Ænement cognitif.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Accepter que c'est plus dur ‚Äî et que c'est voulu. Observez vos contractions comme des informations neutres, pas des alertes. L'entra√Ænement FRC raccourcit le d√©calage de performance entre sec et eau.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 2-3x/semaine. Apr√®s avoir ma√Ætris√© la Zone de Confort poumons pleins. Acc√©l√®re la progression en tol√©rance CO2.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,contractions" data-level="advanced" data-exercise-id="contraction-tolerance">
                            <div class="guide-exercise-header">
                                <h4>Tol√©rance Contractions</h4>
                                <span class="guide-badge guide-badge-advanced">Avanc√©</span>
                            </div>
                            <p class="guide-exercise-desc">Apn√©e avec suivi des spasmes + coaching vocal de reframing. Le bouton "Contraction" marque chaque spasme et d√©clenche un message de recadrage cognitif. L'apn√©e se termine automatiquement X secondes apr√®s la 1√®re contraction (progressif sur 6 semaines).</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Contractions</span>
                                <span class="guide-tag">Reframing</span>
                                <span class="guide-tag">4 cycles</span>
                                <span class="guide-tag">Progressif</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Pr√©paration standard, puis r√©tention poumons pleins. √Ä chaque contraction diaphragmatique, appuyer le bouton d√©di√© et int√©grer mentalement le message de reframing vocalis√©. Ne pas raccourcir l'apn√©e √† cause des contractions ‚Äî la dur√©e post-contraction augmente graduellement semaine apr√®s semaine.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Allong√©, bras libres pour acc√©der facilement au bouton sans bouger le torse. √âviter toute tension musculaire anticipatoire avant la contraction ‚Äî rester aussi passif que possible jusqu'au spasme.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>D√©sensibilisation :</strong> R√©association progressive contractions ‚Üî calme au lieu de contractions ‚Üî panique.</li>
                                    <li><strong>Reframing cognitif :</strong> Le coaching vocal remplace la voix int√©rieure catastrophiste par une narration factuelle et rassurante.</li>
                                    <li><strong>Gestion de la peur :</strong> Chaque cycle r√©ussi construit un capital de confiance mesurable.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Traiter les contractions comme un signal d'entra√Ænement, pas d'urgence. Le protocole 6 semaines est non-n√©gociable : br√ªler les √©tapes annule le b√©n√©fice de d√©sensibilisation. Notez votre score de peur avant/apr√®s chaque session dans le journal.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 2-3x/semaine. Essentiel si les contractions vous font paniquer. Programme 6 semaines.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,anxiety" data-level="intermediate" data-exercise-id="body-scan-apnea">
                            <div class="guide-exercise-header">
                                <h4>Body Scan Apn√©e</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Apn√©e guid√©e avec scan corporel qui parcourt 10 zones pendant la r√©tention. D√©place l'attention loin de l'envie de respirer. 3 modes : scan normal ‚Üí silence ‚Üí scan rapide en fin de hold.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Distraction</span>
                                <span class="guide-tag">Relaxation</span>
                                <span class="guide-tag">3 cycles</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Inspiration compl√®te en 3 √©tages (abdomen ‚Üí c√¥tes ‚Üí poitrine), puis r√©tention confortable. Pendant l'apn√©e, le guide vocal parcourt 10 zones corporelles en d√©pla√ßant doucement l'attention. Phase finale : scan acc√©l√©r√© pour garder l'ancrage si l'envie de respirer augmente.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Allong√© sur le dos, paumes vers le haut pour une ouverture thoracique maximale. Fermer les yeux d√®s le d√©but. En eau : visage √† la surface, oreilles sous l'eau pour entendre le guide vocal via enceinte √©tanche ou conduction osseuse.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Distraction active :</strong> Le scan corporel occupe le r√©seau par d√©faut et r√©duit le ruminage sur le manque d'air.</li>
                                    <li><strong>Allongement subjectif :</strong> L'apn√©e semble plus courte car l'attention est distribu√©e ‚Äî le temps s'√©tire.</li>
                                    <li><strong>Relaxation physique :</strong> Chaque zone scann√©e se rel√¢che progressivement, r√©duisant la consommation d'O2 musculaire.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Passivit√© totale ‚Äî laissez le guide faire le travail. Ne cherchez pas √† contr√¥ler la dur√©e. Si une zone n'est pas per√ßue, passez simplement √† la suivante sans jugement. L'objectif est d'habiter son corps, pas de performer.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 2-3x/semaine. Id√©al pour ceux qui "pensent trop" pendant l'apn√©e.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing" data-level="beginner" data-exercise-id="hook-breathing">
                            <div class="guide-exercise-header">
                                <h4>Hook Breathing</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Technique de s√©curit√© post-apn√©e. 3 rounds progressifs pour automatiser ce r√©flexe vital qui pr√©vient le blackout.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">S√©curit√©</span>
                                <span class="guide-tag">R√©cup√©ration</span>
                                <span class="guide-tag">8 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">√Ä la sortie de l'apn√©e : 1) expirez ¬º du volume restant (purge), 2) inspirez CALMEMENT et profond√©ment (pas goul√ªment), 3) blocage glottique 2 sec, 4) seconde inspiration compl√©mentaire pour saturer. R√©p√©tez 3 fois avant tout mouvement. Ce pattern "hook" stabilise la SpO2 et pr√©vient la syncope post-effort.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">En eau : visage sorti, t√™te immobile support√©e par le buddy (ou le rebord), corps horizontal. Ne jamais tourner la t√™te, ne pas chercher √† nager pendant les 3 cycles. √Ä sec : assis ou debout en appui ‚Äî √©viter la position allong√©e pour que les r√©flexes soient identiques √† l'eau.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>S√©curit√© vitale :</strong> Pr√©vention du blackout de surface ‚Äî la principale cause de d√©c√®s en apn√©e.</li>
                                    <li><strong>Automatisation :</strong> Avec la pratique, le hook breathing devient un r√©flexe conditionn√© d√©clench√© d√®s la sortie de l'eau.</li>
                                    <li><strong>R√©cup√©ration optimale :</strong> Restauration rapide de la SpO2 pour encha√Æner les apn√©es en s√©curit√©.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ö†Ô∏è Importance critique</p>
                                <p class="guide-detail-text">Ce n'est pas un exercice optionnel. La majorit√© des accidents mortels en apn√©e se produisent √† la surface dans les 30 secondes suivant la remont√©e. Pratiquez ce pattern √† chaque sortie de l'eau ‚Äî m√™me pour une apn√©e "facile" de 30 secondes. Votre buddy doit aussi le conna√Ætre.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Pratiquer jusqu'√† ce que ce soit un r√©flexe. Puis √† chaque sortie de l'eau apr√®s une apn√©e.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="depth,spearfishing" data-level="beginner" data-exercise-id="dive-reflex">
                            <div class="guide-exercise-header">
                                <h4>R√©flexe de Plong√©e</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Stimule le r√©flexe mammalien de plong√©e par immersion faciale dans l'eau froide. Bradycardie naturelle.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Bradycardie</span>
                                <span class="guide-tag">Adaptation</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Entre les immersions, respiration lente et rythm√©e (4 sec inspire / 6 sec expire) pour maintenir un √©tat calm. Lors de chaque immersion faciale : inspiration courte et naturelle, puis plonger le visage dans l'eau froide sans r√©tention forc√©e. Laisser le r√©flexe s'activer spontan√©ment.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Pench√© sur un bassin d'eau froide (10‚Äì18¬∞C id√©alement), bras en appui pour ne pas se fatiguer. Ne pas plonger la t√™te en avant brusquement ‚Äî incliner doucement le front en premier, puis les yeux, puis le nez. L'eau doit couvrir les art√®res carotides pour maximiser le r√©flexe.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Bradycardie :</strong> Activation du r√©flexe mammalien de plong√©e ‚Äî ralentissement cardiaque de 10 √† 25% d√®s le contact avec l'eau froide.</li>
                                    <li><strong>Vasoconstriction p√©riph√©rique :</strong> Redistribution du sang vers les organes vitaux ‚Äî simule la compression √† la descente.</li>
                                    <li><strong>Conditionnement :</strong> Plus vous pratiquez, plus le r√©flexe devient fort et rapide √† s'activer en immersion r√©elle.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Cherchez le calme dans l'inconfort du froid. C'est une m√©ditation active : sentir le corps s'adapter, observer la bradycardie, accueillir le froid sans r√©sistance. Cette pratique d√©veloppe la tol√©rance g√©n√©rale √† l'inconfort ‚Äî qualit√© fondamentale de l'apn√©iste.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 3-4x/semaine. Fondamental pour le transfert sec ‚Üí eau.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,depth" data-level="intermediate" data-exercise-id="diaphragm">
                            <div class="guide-exercise-header">
                                <h4>Respiration Diaphragmatique</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Entra√Æne sp√©cifiquement le diaphragme pour augmenter la capacit√© pulmonaire et le contr√¥le respiratoire.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Diaphragme</span>
                                <span class="guide-tag">Capacit√©</span>
                                <span class="guide-tag">10 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Respiration abdominale exclusive ‚Äî le thorax reste immobile. Phase inspire : laissez le ventre se gonfler en premier, puis les flancs. Phase expire : rentrez activement l'abdomen, contractez le transverse. Cycles lents (5 sec inspire / 7 sec expire). Sentez le diaphragme descendre √† l'inspire comme un piston.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Allong√© sur le dos avec un poids l√©ger (livre, sac de riz) pos√© sur l'abdomen pour le feedback tactile. Alternativement, assis en tailleur avec les mains sur le ventre. √âvitez la position debout pour les premi√®res semaines ‚Äî le diaphragme travaille diff√©remment contre la gravit√©.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Volume courant :</strong> Augmentation progressive du volume tidal sans effort ‚Äî respiration plus profonde au repos.</li>
                                    <li><strong>√âconomie d'O2 :</strong> La respiration diaphragmatique est 30% plus efficace en √©changes gazeux que la respiration thoracique.</li>
                                    <li><strong>Contr√¥le en apn√©e :</strong> Un diaphragme entra√Æn√© r√©siste mieux aux contractions involontaires.</li>
                                    <li><strong>Activation parasympathique :</strong> Stimule le nerf vague √† chaque inspiration abdominale profonde.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Exercice de patience ‚Äî les b√©n√©fices sont cumulatifs sur 4‚Äì8 semaines. Int√©grez-le dans votre routine quotidienne (matin au r√©veil, soir avant le sommeil). M√™me 5 minutes par jour transforment progressivement la m√©canique respiratoire de fond.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Quotidien si possible. Am√©liore toutes les techniques d'apn√©e.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="depth" data-level="intermediate" data-exercise-id="lung-stretch">
                            <div class="guide-exercise-header">
                                <h4>√âtirements Pulmonaires</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Augmente la souplesse thoracique et la capacit√© vitale. Important pour la profondeur.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Souplesse</span>
                                <span class="guide-tag">Capacit√© vitale</span>
                                <span class="guide-tag">~10 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">S√©rie d'inspirations maximales maintenues 10‚Äì15 sec pour √©tirer les tissus conjonctifs pulmonaires, intercal√©es de respirations libres de r√©cup√©ration. Ne jamais forcer jusqu'√† la douleur. Le packing (glosso-pharyng√©) optionnel pour les avanc√©s ajoute 0.5‚Äì1 L de capacit√© vitale √† terme.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Debout, bras lev√©s au-dessus de la t√™te pour ouvrir le thorax lat√©ralement. Ou accroupi en fente avec rotation thoracique pour cibler les zones inf√©rieures. √âvitez les positions assises qui compriment le diaphragme. √âtirements des cha√Ænes fasicales lat√©rales (flexion c√¥t√© oppos√©) pour lib√©rer les c√¥tes.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Capacit√© vitale :</strong> Augmentation progressive de 0.2 √† 0.5 L sur 3‚Äì6 mois de pratique r√©guli√®re.</li>
                                    <li><strong>Compliance thoracique :</strong> R√©duction de la r√©sistance des tissus √† l'inspiration maximale ‚Äî plus confortable √† grande profondeur.</li>
                                    <li><strong>Compensation :</strong> Pr√©pare la cage thoracique √† la compression (squeeze) lors des plong√©es profondes.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Travail structurel √† long terme. Ne cherchez pas de sensation imm√©diate de performance. L'objectif est d'assouplir les tissus sur des semaines, comme du yoga pour les poumons. Associez cet exercice √† un autre rituel (apr√®s le r√©veil, avant la session) pour maintenir la r√©gularit√©.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant les sessions de profondeur. 3-4x/semaine.</p>
                        </div>

                    </div>
                </div>

                <!-- PR√â-PERFORMANCE -->
                <div class="guide-category" data-cat="preperf">
                    <h3 class="guide-category-title">Pr√©-Performance</h3>
                    <div class="guide-exercises-list">

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing" data-level="intermediate" data-exercise-id="breathe-up-structure">
                            <div class="guide-exercise-header">
                                <h4>Breathe-Up Structur√©</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Pr√©paration pr√©-plong√©e en 3 phases : tidal 1:2, respiration segmentaire, inspiration finale 3 √©tages. Optimise SpO2 sans hyperventiler.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Pr√©-plong√©e</span>
                                <span class="guide-tag">SpO2</span>
                                <span class="guide-tag">6 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Phase 1 ‚Äî Tidal 1:2 : respiration calme, expire = 2√ó le temps inspire (ex. 4 sec / 8 sec), 2 min. Phase 2 ‚Äî Segmentaire : inspiration en 3 √©tages s√©quentiels (abdomen 2 sec, c√¥tes 2 sec, poitrine 1 sec), pause glotte 2 sec, expiration longue uniforme, 2 min. Phase 3 ‚Äî Inspiration finale : remplissage maximal 3 √©tages lent sur 6‚Äì8 sec, pause glotte, retournement en eau.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Flottaison dorsale en surface, t√™te l√©g√®rement soutenue par le buddy. Bras le long du corps, jambes d√©tendues. Ne pas nager pendant la pr√©paration. Si √† sec (formation), allong√©, yeux ferm√©s. Toujours face au ciel / plafond ‚Äî ne jamais debout pour le breathe-up final.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>SpO2 optimale :</strong> Saturation maximale sans hyperventilation (on √©vite la chute de CO2 dangereuse).</li>
                                    <li><strong>FC basse :</strong> Bradycardie pr√©-plong√©e par activation parasympathique ‚Äî √©conomise l'O2 d√®s la descente.</li>
                                    <li><strong>Compliance thoracique :</strong> Les √©tages segmentaires remplissent des zones pulmonaires sous-ventil√©es au repos.</li>
                                    <li><strong>Transition mentale :</strong> Le rituel signal au cerveau le passage en "mode apn√©e".</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Ce rituel est votre sas de d√©compression. Chaque phase √©loigne du monde ext√©rieur et vous installe dans le pr√©sent. Apr√®s 3 min de breathe-up bien fait, vous devriez ressentir un calme et une l√©g√®re sensation de chaleur ‚Äî c'est le signe que le parasympathique est actif. N'entrez jamais en apn√©e sans avoir atteint cet √©tat.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant CHAQUE apn√©e en eau. Le rituel le plus important de l'apn√©iste.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing" data-level="intermediate" data-exercise-id="preperf-protocol">
                            <div class="guide-exercise-header">
                                <h4>Protocole Pr√©-Performance</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Protocole complet de 5 min : centrage, activation parasympathique, visualisation rapide, mot-cl√© d'ancrage.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Complet</span>
                                <span class="guide-tag">Comp√©tition</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Int√®gre coh√©rence cardiaque (5 sec inspire / 5 sec expire) en phase de centrage, puis respiration segmentaire pour l'activation, et enfin r√©tention courte (10‚Äì15 sec) pour l'ancrage du mot-cl√©. La respiration ici est un outil de transition psychologique, pas un entra√Ænement physiologique.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Assis en tenue de comp√©tition ou sur zone d'attente. Le protocole doit √™tre pratiqu√© dans les conditions r√©elles (maillot, palmes pos√©es, froid ambiant) pour maximiser le transfert. Yeux ouverts ou mi-clos ‚Äî pas d'isolement total qui serait contre-productif en comp√©tition.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Centrage √©motionnel :</strong> R√©duction de l'anxi√©t√© de performance (score de stress vis√© : 2/5 avant l'entr√©e en eau).</li>
                                    <li><strong>Activation optimale :</strong> Atteindre le "good stress" ‚Äî ni trop calme (manque de focus), ni trop activ√© (perte de contr√¥le).</li>
                                    <li><strong>Ancrage mot-cl√© :</strong> Le d√©clencheur conditionn√© active instantan√©ment l'√©tat cible lors de l'annonce des officiels.</li>
                                    <li><strong>Visualisation flash :</strong> Simulation mentale de 30 sec de la plong√©e r√©ussie consolide la confiance.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Ce protocole se pratique pendant des mois √† l'entra√Ænement pour √™tre op√©rationnel le jour J. En comp√©tition, faites confiance au processus ‚Äî le corps sait ce qu'il a r√©p√©t√©. La performance suit l'√©tat int√©rieur, jamais l'inverse. Focus sur la qualit√© de la pr√©paration, pas sur l'objectif.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant une comp√©tition ou une tentative de record personnel.</p>
                        </div>

                    </div>
                </div>

                <!-- VISUALISATION -->
                <div class="guide-category" data-cat="visu">
                    <h3 class="guide-category-title">Visualisation</h3>
                    <div class="guide-exercises-list">

                        <div class="guide-exercise-item" data-objectives="depth,dynamic" data-level="intermediate" data-exercise-id="pettlep">
                            <div class="guide-exercise-header">
                                <h4>PETTLEP</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Visualisation multi-sensorielle en 7 dimensions. Simule mentalement une plong√©e compl√®te avec tous les sens.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Visualisation</span>
                                <span class="guide-tag">Profondeur</span>
                                <span class="guide-tag">~10 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Respiration lente et profonde (4 sec / 6 sec) pendant tout le protocole pour maintenir l'√©tat alpha c√©r√©bral. Au moment de la "simulation" de l'apn√©e dans la visualisation, pratiquer une r√©tention courte (20‚Äì30 sec) synchronis√©e avec la sc√®ne imagin√©e ‚Äî le cerveau ne distingue pas bien r√©el/imagin√©, l'entra√Ænement physiologique est r√©el.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Allong√© dans un environnement calme, tenue similaire √† celle de la comp√©tition si possible (P = Physical du PETTLEP). Temp√©rature fra√Æche pour simuler la piscine. Id√©alement : combinaison ou maillot de bain, pas de v√™tements √©pais ‚Äî les signaux proprioceptifs renforcent la r√©alit√© de la simulation.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Consolidation neuronale :</strong> Les m√™mes circuits moteurs qu'en plong√©e r√©elle s'activent ‚Äî gains de performance sans fatigue physique.</li>
                                    <li><strong>D√©sensibilisation aux peurs :</strong> Visualiser des sc√©narios difficiles (contractions, obscurit√©) en √©tat s√©curis√© r√©duit la r√©ponse anxieuse en situation r√©elle.</li>
                                    <li><strong>M√©morisation technique :</strong> S√©quence de gestes (√©quilibration, retournement) m√©moris√©e par la voie implicite.</li>
                                    <li><strong>Confiance :</strong> Chaque plong√©e imaginaire r√©ussie alimente la confiance du subconscient.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Soyez acteur, pas spectateur. Visualisez √† la premi√®re personne (comme si vous regardiez par vos propres yeux), pas en vue ext√©rieure. Incluez tous les sens : froid de l'eau, pression aux oreilles, son sourd des bulles, sensation des palmes. Plus la simulation est riche, plus le transfert est puissant.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 3-4x/semaine. Particuli√®rement utile si vous ne pouvez pas plonger souvent.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,anxiety" data-level="beginner" data-exercise-id="body-scan">
                            <div class="guide-exercise-header">
                                <h4>Body Scan</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Scan corporel zone par zone pour une relaxation compl√®te. Base de la conscience corporelle.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Relaxation</span>
                                <span class="guide-tag">Conscience</span>
                                <span class="guide-tag">~15 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Respiration abdominale spontan√©e et non-dirig√©e. Observez simplement son rythme naturel sans l'acc√©l√©rer ni le ralentir. √Ä chaque zone scann√©e : √† l'expire, imaginez toute tension quitter cette zone comme de la vapeur. Aucun contr√¥le volontaire ‚Äî √™tre t√©moin, pas acteur.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Allong√© confortablement, couverture l√©g√®re si temp√©rature fra√Æche. Yeux ferm√©s, m√¢choire d√©crisp√©e, langue contre le palais (pr√©vient les tensions mass√©ters). Lumi√®re tamis√©e ou obscurit√©. √âvitez le t√©l√©phone √† port√©e ‚Äî la qualit√© de l'attention est inversement proportionnelle aux distractions potentielles.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Conscience proprioceptive :</strong> Cartographie pr√©cise des zones de tension chronique souvent ignor√©es (trap√®zes, m√¢choires, mains).</li>
                                    <li><strong>Tonus musculaire de base :</strong> R√©duction progressive des contractions toniques parasites ‚Äî √©conomie d'O2 en apn√©e.</li>
                                    <li><strong>R√©cup√©ration nerveuse :</strong> Activation du syst√®me nerveux parasympathique, r√©duction du cortisol circulant.</li>
                                    <li><strong>Qualit√© de sommeil :</strong> Pratiqu√© le soir, pr√©pare le sommeil profond et la r√©cup√©ration musculaire.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Pas d'objectif. Pas de performance. S'il vous endort ‚Äî c'est un succ√®s. L'esprit qui se disperse est normal et attendu : ramenez-le doucement vers la zone suivante sans vous juger. Apr√®s 4 semaines de pratique r√©guli√®re, le rel√¢chement arrive en 2‚Äì3 minutes au lieu de 10‚Äì15.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Quotidien si anxieux. Sinon 2-3x/semaine. Excellent avant le sommeil.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,anxiety" data-level="beginner" data-exercise-id="sophro">
                            <div class="guide-exercise-header">
                                <h4>Sophrologie</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Relaxation dynamique progressive par zones corporelles. Tr√®s utilis√©e chez les apn√©istes francophones.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">D√©tente</span>
                                <span class="guide-tag">Zones</span>
                                <span class="guide-tag">~12 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Respiration consciente et segment√©e pour l'induction : inspire 4 sec en gonflant le ventre, expire 6 sec en vidant ventre puis thorax. Apr√®s 5 min, laisser la respiration devenir spontan√©e. Les contractions rythmiques des phases actives (tapotements, tensions-rel√¢chements) se synchronisent naturellement avec le souffle.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Debout pour les phases d'activation dynamique (rotations, √©tirements segmentaires), puis assis ou allong√© pour les phases d'int√©gration. La sophrologie alterne intentionnellement activit√© et repos ‚Äî suivre les instructions vocales pour chaque transition. Pieds nus si possible (ancrage au sol).</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Tonus neuro-v√©g√©tatif :</strong> √âquilibre entre activation (orthosympathique) et r√©cup√©ration (parasympathique).</li>
                                    <li><strong>Conscience du sch√©ma corporel :</strong> Am√©lioration de l'image de soi sous-marine ‚Äî moins de dissociation corps/esprit en plong√©e.</li>
                                    <li><strong>Pr√©paration √† l'induction :</strong> Excellent sas d'entr√©e pour les exercices d'hypnose qui suivent ‚Äî l'esprit est d√©j√† dans un √©tat de r√©ceptivit√© √©lev√©e.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Pr√©sence totale dans le mouvement. La sophrologie n'est pas de la relaxation passive ‚Äî c'est une mise en conscience active du corps. Abordez chaque zone avec curiosit√© : "Qu'est-ce que je sens vraiment ici ?" La r√©gularit√© construit une relation int√©rieure plus fine avec les signaux corporels subtils.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant les sessions de visualisation ou d'hypnose.</p>
                        </div>

                    </div>
                </div>

                <!-- AUTO-HYPNOSE -->
                <div class="guide-category" data-cat="hypnose">
                    <h3 class="guide-category-title">Auto-Hypnose / Mental</h3>
                    <div class="guide-exercises-list">

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,anxiety,drytowet" data-level="beginner" data-exercise-id="meditation-lacher-prise">
                            <div class="guide-exercise-header">
                                <h4>M√©ditation L√¢cher-Prise</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Respiration passive + surrender progressif + acceptation ACT + conditionnement au mot-cl√© "l√¢che". Apprend √† ne plus lutter contre les sensations.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">L√¢cher-prise</span>
                                <span class="guide-tag">ACT</span>
                                <span class="guide-tag">Mot-cl√©</span>
                                <span class="guide-tag">10 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Respiration "passive" induite : ne cherchez pas √† respirer, attendez que le souffle vienne de lui-m√™me. Observez la pause naturelle apr√®s chaque expiration sans la remplir. Ce pattern entra√Æne le syst√®me nerveux √† tol√©rer l'absence momentan√©e de souffle ‚Äî le fondement du l√¢cher-prise en apn√©e.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Allong√©, bras l√©g√®rement √©cart√©s du corps, paumes vers le haut (signe de r√©ceptivit√©). Jambes d√©crois√©es. Un l√©ger coussin sous la nuque pour que la gorge reste ouverte. Environnement silencieux ou bruits naturels doux (pluie, for√™t, ocean). Lumi√®re tr√®s tamis√©e ou obscurit√© totale.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>D√©conditionnement de la lutte :</strong> Dissolution du r√©flexe automatique de r√©sistance aux sensations d'inconfort.</li>
                                    <li><strong>Mot-cl√© "l√¢che" :</strong> Ancrage conditionn√© ‚Äî apr√®s 3‚Äì4 semaines de pratique, prononcer mentalement "l√¢che" en apn√©e d√©clenche imm√©diatement un rel√¢chement physiologique.</li>
                                    <li><strong>Tol√©rance ACT :</strong> Capacit√© √† "accueillir" les sensations d√©sagr√©ables sans y r√©agir ‚Äî applicable directement aux contractions en apn√©e.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Le l√¢cher-prise ne se contr√¥le pas ‚Äî il se laisse advenir. Paradoxalement, toute tentative de "l√¢cher prise activement" g√©n√®re de la tension. L'objectif est de cr√©er les conditions (position, respiration, intention) pour que le rel√¢chement se produise naturellement. La pratique quotidienne reconditionne le syst√®me nerveux sur le long terme.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Quotidien si le l√¢cher-prise est votre blocage. Avant les sessions d'apn√©e. Fondamental.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,anxiety,drytowet" data-level="intermediate" data-exercise-id="flow-release">
                            <div class="guide-exercise-header">
                                <h4>Flow &amp; Release ‚Äî Triple Awareness</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Programme 10 min en 4 phases pour r√©√©duquer le syst√®me nerveux et contourner l'hyper-vigilance. Combine Cyclic Sighing, mobilisation diaphragme, et apn√©es de d√©concentration sensorielle (m√©thode Molchanovs/AIDA).</p>

                            <div class="guide-tags">
                                <span class="guide-tag">Triple Awareness</span>
                                <span class="guide-tag">L√¢cher-prise</span>
                                <span class="guide-tag">Hyper-vigilance</span>
                                <span class="guide-tag">10 min</span>
                                <span class="guide-tag">Molchanovs</span>
                            </div>

                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚è±Ô∏è Structure du programme</p>

                                <p class="guide-detail-subtitle">Phase 1 ‚Äî Activation (0‚Äì2 min) : Cyclic Sighing</p>
                                <p class="guide-detail-text">5 cycles de double inspiration : inspire profond√©ment par le nez, puis une petite inspiration compl√©mentaire pour remplir compl√®tement les poumons, puis une longue expiration par la bouche. Cette technique Stanford 2023 r√©duit le cortisol plus efficacement que la m√©ditation. Ne cherche pas √† contr√¥ler le rythme ‚Äî laisse chaque expiration emporter la tension.</p>

                                <p class="guide-detail-subtitle">Phase 2 ‚Äî Ouverture (2‚Äì4 min) : Diaphragme &amp; C√¥tes</p>
                                <p class="guide-detail-text">Mains pos√©es sur les c√¥tes basses. Respiration abdominale 3 temps : ventre ‚Üí c√¥tes lat√©rales ‚Üí poitrine. Masse doucement les c√¥tes en faisant de l√©g√®res pressions circulaires vers l'ext√©rieur. Si assis, inclinaisons lat√©rales tr√®s lentes √† gauche et √† droite pour lib√©rer m√©caniquement le diaphragme. Objectif : d√©verrouiller la cage thoracique pour une glotte d√©tendue.</p>

                                <p class="guide-detail-subtitle">Phase 3 ‚Äî Le C≈ìur (4‚Äì9 min) : Triple Awareness</p>
                                <p class="guide-detail-text">3 √† 4 apn√©es de 40‚Äì50 secondes. L'objectif n'est PAS la dur√©e ‚Äî c'est la qualit√© de la d√©concentration. Pendant chaque apn√©e, encha√Æne les 3 canaux sensoriels :</p>
                                <ul class="guide-detail-list">
                                    <li><strong>üéß √âcoute :</strong> Identifie 3 sons lointains (vent, frigo, rue, nature). Va au-del√† des murs. Ne les analyse pas ‚Äî laisse-les exister.</li>
                                    <li><strong>‚úã Ressent :</strong> Identifie 3 sensations tactiles (poids des mains, tissu sur les √©paules, air frais sur le visage). Chaque sensation ancre ton attention dans le corps sensoriel.</li>
                                    <li><strong>üëÅÔ∏è Visualise :</strong> Yeux ferm√©s, imagine un point bleu doux qui s'√©tend doucement √† chaque seconde ‚Äî comme une m√©duse en eau profonde.</li>
                                </ul>
                                <p class="guide-detail-text"><em>Pourquoi √ßa fonctionne :</em> en saturant le cerveau droit (sensoriel), tu "√©teins" le cerveau gauche analytique ‚Äî la source de l'hyper-vigilance et de la peur de l'apn√©e.</p>

                                <p class="guide-detail-subtitle">Phase 4 ‚Äî Int√©gration (9‚Äì10 min) : Silence total</p>
                                <p class="guide-detail-text">Assis ou allong√©, observe simplement ton souffle revenir sans le guider. Note ton score de stress sur 5. Sur chaque expiration, prononce mentalement le mot "l√¢che" pour ancrer le d√©clencheur.</p>
                            </div>

                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üìà Progression sur 6 semaines</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Semaines 1‚Äì2 ‚Äî Zone de S√©curit√© :</strong> Arr√™te l'apn√©e AVANT toute envie de respirer. Si tu finis √† 35 sec, c'est parfait. L'objectif est 100% de r√©ussite √©motionnelle.</li>
                                    <li><strong>Semaines 3‚Äì4 ‚Äî L'Observateur Neutre :</strong> Attends le premier spasme ou la premi√®re envie, reste 5 secondes de plus pour "saluer" la sensation sans la juger. Note la fluidit√©, pas le temps.</li>
                                    <li><strong>Semaines 5‚Äì6 ‚Äî Le Flow Passif :</strong> Introduis une apn√©e en FRC (expiration douce, puis r√©tention). √âcole Blunery/N√©ry : simule la profondeur sans pression. Id√©al pour la d√©tente de la gorge.</li>
                                </ul>
                            </div>

                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚úÖ Comment mesurer le succ√®s</p>
                                <p class="guide-detail-text">Le succ√®s ne se mesure pas en secondes gagn√©es, mais en baisse du score de stress apr√®s s√©ance. Si ton stress descend √† 1/5 r√©guli√®rement, ta tol√©rance √† l'apn√©e reviendra naturellement. Note ton score avant et apr√®s chaque session dans le journal.</p>
                            </div>

                            <p class="guide-when"><strong>Quand :</strong> 3‚Äì4x/semaine. De pr√©f√©rence le matin √† jeun, ou 2h apr√®s le repas. Peut remplacer une session de table CO2 classique les semaines de r√©cup√©ration.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,drytowet" data-level="intermediate" data-exercise-id="dry-to-wet-bridge">
                            <div class="guide-exercise-header">
                                <h4>Programme Dry-to-Wet</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Programme structur√© de 8 semaines pour combler l'√©cart entre performances √† sec et en eau. D√©sensibilisation progressive : dry ‚Üí immersion faciale ‚Üí baignoire ‚Üí piscine buddy ‚Üí extension.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Transfert</span>
                                <span class="guide-tag">8 semaines</span>
                                <span class="guide-tag">Progressif</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Chaque semaine du programme utilise une respiration adapt√©e √† l'environnement. Sem 1‚Äì2 (dry) : coh√©rence cardiaque passive. Sem 3‚Äì4 (immersion faciale) : r√©tention courte de 10‚Äì20 sec, visage dans l'eau. Sem 5‚Äì6 (baignoire/piscine) : breathe-up structur√© complet + hook breathing syst√©matique √† chaque remont√©e.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Progression environnementale intentionnelle : salon (semaine 1‚Äì2) ‚Üí bassin d'eau froide (3‚Äì4) ‚Üí baignoire avec buddy (5‚Äì6) ‚Üí piscine avec buddy et lignes de s√©curit√© (7‚Äì8). Ne jamais sauter d'√©tape. Chaque nouvel environnement d√©clenche la r√©ponse anxieuse ‚Äî la progression lente la neutralise.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Transfert sec ‚Üí eau :</strong> √âlimination progressive de la diff√©rence de performance entre sec et immersion.</li>
                                    <li><strong>D√©sensibilisation syst√©matique :</strong> Chaque √©tape expose au niveau suivant d'inconfort de mani√®re contr√¥l√©e.</li>
                                    <li><strong>Confiance en l'eau :</strong> Construction d'une nouvelle relation sereine avec le milieu aquatique.</li>
                                    <li><strong>Automatisation de la s√©curit√© :</strong> Le hook breathing et la communication buddy deviennent des r√©flexes naturels.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Respectez le programme √† la lettre ‚Äî la tentation de br√ªler les √©tapes est normale mais contre-productive. Si une semaine est difficile, r√©p√©tez-la avant d'avancer. Tenez un journal de vos scores de stress semaine par semaine : la courbe descendante est votre meilleure motivation.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Si votre apn√©e en eau est bien inf√©rieure √† votre dry. Suivre le programme semaine par semaine.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing" data-level="beginner" data-exercise-id="hypno-apnee-debutant">
                            <div class="guide-exercise-header">
                                <h4>Hypno-Apn√©e D√©butant</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Initiation √† l'auto-hypnose sp√©cifique apn√©istes. Cr√©ation de votre ancre personnelle de calme profond.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Hypnose</span>
                                <span class="guide-tag">Ancrage</span>
                                <span class="guide-tag">~15 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Induction par respiration 4-7-8 (inspire 4 sec, blocage 7 sec, expire 8 sec, 4 cycles) pour atteindre l'√©tat hypnagogique. Une fois l'induction √©tablie, la respiration devient spontan√©e et tr√®s lente (2‚Äì4 cycles/min). La phase d'ancrage inclut une r√©tention de 10‚Äì15 sec synchronis√©e avec le geste-ancre.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Allong√©, environnement contr√¥l√©, ne pas √™tre d√©rang√© (t√©l√©phone en mode avion, porte ferm√©e). Yeux ferm√©s. Optionnel : musique binaural delta ou theta (40‚Äì60 BPM) pour faciliter l'induction. Votre geste-ancre doit √™tre discret et utilisable en situation de comp√©tition (ex. toucher pouce-index).</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>Ancre de calme profond :</strong> Geste + mot-cl√© d√©clenchant instantan√©ment un √©tat de calme reproductible en toute situation.</li>
                                    <li><strong>Acc√®s √† la suggestibilit√© :</strong> En √©tat hypnagogique, les suggestions positives (confiance, calme, puissance) s'impriment plus profond√©ment.</li>
                                    <li><strong>Conditionnement subliminal :</strong> Les m√©taphores marines (fond calme, eau claire) reconditionne l'inconscient √† associer l'eau = s√©curit√© = calme.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">L√¢chez le contr√¥le conscient et faites confiance au processus d'induction. Si vous "sombrez" dans le sommeil ‚Äî c'est une r√©ussite. L'ancre se renforce √† chaque r√©p√©tition : apr√®s 10‚Äì15 sessions, le geste seul suffit √† d√©clencher l'√©tat. Pratiquez l'ancre en dehors des sessions (stress du quotidien) pour acc√©l√©rer le conditionnement.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 2x/semaine minimum. L'ancre devient plus puissante avec la r√©p√©tition.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="dynamic,depth" data-level="intermediate" data-exercise-id="flow-dynamique">
                            <div class="guide-exercise-header">
                                <h4>Flow-State Dynamique</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Mantras rythmiques "Glisse-Rel√¢che" pour entrer en flow pendant les dynamiques et les descentes.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Flow</span>
                                <span class="guide-tag">Dynamique</span>
                                <span class="guide-tag">~12 min</span>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">ü´Å Technique respiratoire</p>
                                <p class="guide-detail-text">Mantras rythmiques "Glisse" (√† l'inspire) et "Rel√¢che" (√† l'expire) pour synchroniser le souffle et le mouvement. Avant la session : 3 min de coh√©rence cardiaque pour atteindre l'√©tat pr√©-flow. Pendant les dynamiques imaginaires ou r√©elles : cycle lent et ample, glotte ouverte, ventre d√©tendu. Aucune r√©tention forc√©e ‚Äî tout est douceur.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üßò Position</p>
                                <p class="guide-detail-text">Pratique mentale : allong√© en position similaire √† la position horizontale de nage sous-marine (ventre bas, bras le long du corps). En piscine : flottaison ventrale avec palmes, dos d√©tendu. Le protocole inclut des visualisations de mouvements de palmes fluides et continus ‚Äî le corps en position de nage facilite le transfert.</p>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">‚ú® Effets recherch√©s</p>
                                <ul class="guide-detail-list">
                                    <li><strong>√âtat de flow :</strong> Dissolution de la fronti√®re effort/plaisir ‚Äî le mouvement devient fluide et automatique sans conscience analytique.</li>
                                    <li><strong>√âconomie d'√©nergie :</strong> En flow, la consommation d'O2 musculaire diminue car les tensions parasites disparaissent.</li>
                                    <li><strong>Entra√Ænement mental cibl√© :</strong> Particuli√®rement efficace pour les apn√©istes dont la technique se d√©grade sous pression.</li>
                                    <li><strong>Plaisir intrins√®que :</strong> Reconditionnement de la plong√©e comme source de plaisir, pas d'effort.</li>
                                </ul>
                            </div>
                            <div class="guide-detail-block">
                                <p class="guide-detail-title">üß† √âtat d'esprit</p>
                                <p class="guide-detail-text">Le flow ne se force pas ‚Äî il survient quand l'attention est totalement absorb√©e par l'action pr√©sente. Si des pens√©es parasites arrivent, revenez aux mantras "Glisse / Rel√¢che" comme ancre. Avec la pratique, l'√©tat de flow se d√©clenche de plus en plus rapidement, parfois d√®s les premi√®res palmes en eau.</p>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant vos sessions de dynamique ou de profondeur.</p>
                        </div>

                    </div>
                </div>

                <!-- No results -->
                <div class="guide-no-results" id="guideNoResults" style="display:none;">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
                    <p>Aucun exercice ne correspond √† cette combinaison de filtres.<br>Essayez un autre objectif ou niveau.</p>
                </div>

            </div>

            <!-- Quick Programs -->
            <div class="guide-programs">
                <h3 class="guide-category-title">Programmes sugg√©r√©s</h3>

                <div class="guide-program-cards">
                    <div class="guide-program-card">
                        <h4>D√©butant ‚Äî Semaines 1-4</h4>
                        <p>Construire les fondations</p>
                        <ol class="guide-program-list">
                            <li><strong>Quotidien :</strong> Coh√©rence Cardiaque (10 min)</li>
                            <li><strong>Quotidien :</strong> M√©ditation L√¢cher-Prise (10 min)</li>
                            <li><strong>3x/sem :</strong> Table Sans Contraction</li>
                            <li><strong>2x/sem :</strong> Body Scan ou Sophrologie</li>
                            <li><strong>1x/sem :</strong> Hook Breathing (jusqu'√† automatisme)</li>
                        </ol>
                    </div>

                    <div class="guide-program-card">
                        <h4>Interm√©diaire ‚Äî Semaines 5-12</h4>
                        <p>Augmenter la tol√©rance et le confort</p>
                        <ol class="guide-program-list">
                            <li><strong>Quotidien :</strong> Cyclic Sighing + Coh√©rence (15 min)</li>
                            <li><strong>3x/sem :</strong> Table CO2 (alterner avec Table O2)</li>
                            <li><strong>2x/sem :</strong> Body Scan Apn√©e</li>
                            <li><strong>2x/sem :</strong> Tol√©rance Contractions</li>
                            <li><strong>2x/sem :</strong> Hypno-Apn√©e + PETTLEP</li>
                            <li><strong>Avant chaque apn√©e :</strong> Breathe-Up Structur√©</li>
                        </ol>
                    </div>

                    <div class="guide-program-card">
                        <h4>Transfert Sec &rarr; Eau</h4>
                        <p>Sp√©cial √©cart dry/wet important</p>
                        <ol class="guide-program-list">
                            <li><strong>Suivre :</strong> Programme Dry-to-Wet (8 semaines)</li>
                            <li><strong>Quotidien :</strong> M√©ditation L√¢cher-Prise</li>
                            <li><strong>3x/sem :</strong> R√©flexe de Plong√©e</li>
                            <li><strong>2x/sem :</strong> Tol√©rance Contractions</li>
                            <li><strong>Avant l'eau :</strong> Breathe-Up Structur√©</li>
                            <li><strong>Apr√®s l'eau :</strong> Hook Breathing (toujours !)</li>
                        </ol>
                    </div>
                </div>
            </div>

        </section>

        <!-- Coach AI Section -->
        <section class="section" id="coach">
            <div class="section-header">
                <h2>Coach IA</h2>
                <p>Entrainement apnee au sec ‚Äî programmes adaptes a ton niveau</p>
            </div>

            <!-- Quick Stats Bar -->
            <div class="coach-stats-bar">
                <div class="coach-stat">
                    <span class="coach-stat-value" id="coachTotalSessions">0</span>
                    <span class="coach-stat-label">Sessions</span>
                </div>
                <div class="coach-stat">
                    <span class="coach-stat-value" id="coachStreak">0</span>
                    <span class="coach-stat-label">Serie (j)</span>
                </div>
                <div class="coach-stat">
                    <span class="coach-stat-value" id="coachAvgStressReduction">-</span>
                    <span class="coach-stat-label">Stress reduit</span>
                </div>
            </div>

            <!-- Athlete Profile -->
            <div class="coach-profile-card">
                <div class="coach-profile-header" id="coachProfileToggle">
                    <h3>Mon profil</h3>
                    <svg class="coach-profile-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6,9 12,15 18,9"/>
                    </svg>
                </div>
                <div class="coach-profile-body collapsed" id="coachProfileBody">

                    <!-- Physio -->
                    <div class="profile-group">
                        <h4>Physio</h4>
                        <div class="profile-row">
                            <label>Age</label>
                            <input type="number" id="profileAge" min="10" max="99" placeholder="-" data-profile="age">
                            <span class="profile-unit">ans</span>
                        </div>
                        <div class="profile-row">
                            <label>Taille</label>
                            <input type="number" id="profileHeight" min="100" max="220" placeholder="-" data-profile="height">
                            <span class="profile-unit">cm</span>
                        </div>
                        <div class="profile-row">
                            <label>Poids</label>
                            <input type="number" id="profileWeight" min="30" max="200" placeholder="-" data-profile="weight">
                            <span class="profile-unit">kg</span>
                        </div>
                        <div class="profile-row">
                            <label>VO2max estimee</label>
                            <input type="number" id="profileVo2max" min="20" max="90" placeholder="-" data-profile="vo2max">
                            <span class="profile-unit">ml/kg/min</span>
                        </div>
                        <div class="profile-row">
                            <label>FC repos</label>
                            <input type="number" id="profileHrRest" min="30" max="120" placeholder="-" data-profile="hrRest">
                            <span class="profile-unit">bpm</span>
                        </div>
                    </div>

                    <!-- Apnee -->
                    <div class="profile-group">
                        <h4>Apnee</h4>
                        <div class="profile-row">
                            <label>Statique max (sec)</label>
                            <input type="number" id="profileStaticMax" min="0" max="600" placeholder="-" data-profile="staticMax">
                            <span class="profile-unit">sec</span>
                        </div>
                        <div class="profile-row">
                            <label>Statique dry max</label>
                            <input type="number" id="profileStaticDry" min="0" max="600" placeholder="-" data-profile="staticDry">
                            <span class="profile-unit">sec</span>
                        </div>
                        <div class="profile-row">
                            <label>Dynamique max</label>
                            <input type="number" id="profileDynMax" min="0" max="300" placeholder="-" data-profile="dynMax">
                            <span class="profile-unit">m</span>
                        </div>
                        <div class="profile-row">
                            <label>Profondeur max</label>
                            <input type="number" id="profileDepthMax" min="0" max="150" placeholder="-" data-profile="depthMax">
                            <span class="profile-unit">m</span>
                        </div>
                        <div class="profile-row">
                            <label>Premiere contraction (sec)</label>
                            <input type="number" id="profileFirstContraction" min="0" max="600" placeholder="-" data-profile="firstContraction">
                            <span class="profile-unit">sec</span>
                        </div>
                        <div class="profile-row">
                            <label>Niveau</label>
                            <select id="profileApneaLevel" data-profile="apneaLevel">
                                <option value="">-</option>
                                <option value="debutant">Debutant (< 1min30 statique)</option>
                                <option value="intermediaire">Intermediaire (1min30 - 3min)</option>
                                <option value="avance">Avance (3min - 5min)</option>
                                <option value="expert">Expert (> 5min)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Sport & Entrainement -->
                    <div class="profile-group">
                        <h4>Sport & Entrainement</h4>
                        <div class="profile-row">
                            <label>Sport(s) principal(aux)</label>
                            <input type="text" id="profileSports" placeholder="Ex: apnee, natation, course..." data-profile="sports">
                        </div>
                        <div class="profile-row">
                            <label>Frequence entrainement</label>
                            <select id="profileTrainingFreq" data-profile="trainingFreq">
                                <option value="">-</option>
                                <option value="1-2">1-2x / semaine</option>
                                <option value="3-4">3-4x / semaine</option>
                                <option value="5+">5+ / semaine</option>
                                <option value="quotidien">Quotidien</option>
                            </select>
                        </div>
                        <div class="profile-row">
                            <label>Etat actuel</label>
                            <select id="profileCurrentState" data-profile="currentState">
                                <option value="">-</option>
                                <option value="reprise">Reprise apres pause</option>
                                <option value="base">Construction de base</option>
                                <option value="progression">En progression</option>
                                <option value="plateau">Plateau</option>
                                <option value="pic">Pic de forme</option>
                                <option value="fatigue">Fatigue / surentrainement</option>
                            </select>
                        </div>
                        <div class="profile-row profile-row-full">
                            <label>Notes libres</label>
                            <textarea id="profileNotes" rows="2" placeholder="Blessures, contraintes, preferences..." data-profile="notes"></textarea>
                        </div>
                    </div>

                    <div class="profile-actions">
                        <button class="btn-primary btn-sm" id="btnSaveProfile">Enregistrer le profil</button>
                    </div>
                </div>
            </div>

            <!-- Chat Interface -->
            <div class="coach-chat-container">
                <div class="coach-chat-messages" id="coachMessages">
                    <!-- Welcome message inserted by JS -->
                </div>

                <!-- Input Zone (quick actions + textarea) -->
                <div class="coach-input-zone">
                    <div class="coach-quick-actions" id="coachQuickActions">
                        <button class="coach-quick-btn" data-prompt="Seance apnee au sec pour aujourd'hui">
                            Apnee sec
                        </button>
                        <button class="coach-quick-btn" data-prompt="Programme-moi une semaine d'entrainement">
                            Programme
                        </button>
                        <button class="coach-quick-btn" data-prompt="Bilan de ma progression et axes d'amelioration">
                            Bilan
                        </button>
                        <button class="coach-quick-btn" data-prompt="Je suis stresse, j'ai besoin de redescendre">
                            Stress
                        </button>
                        <button class="coach-quick-btn coach-new-chat-btn" id="btnNewChat" title="Nouvelle conversation">
                            Nouvelle conv.
                        </button>
                    </div>
                    <div class="coach-chat-input">
                        <button class="coach-attach-btn" id="coachAttachBtn" title="Joindre un fichier (.docx, .txt, .pdf)">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/>
                            </svg>
                        </button>
                        <input type="file" id="coachFileInput" accept=".docx,.txt,.doc" style="display:none">
                        <div class="coach-input-wrapper">
                            <div class="coach-attached-file" id="coachAttachedFile" style="display:none">
                                <span class="attached-file-name" id="attachedFileName"></span>
                                <button class="attached-file-remove" id="attachedFileRemove">&times;</button>
                            </div>
                            <textarea id="coachInput" rows="4"
                                placeholder="Demande une seance, un programme, un bilan..."
                                maxlength="2000"></textarea>
                        </div>
                        <button class="coach-send-btn" id="coachSendBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="22" y1="2" x2="11" y2="13"/>
                                <polygon points="22 2 15 22 11 13 2 9 22 2"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Recent Sessions -->
            <div class="coach-recent-section">
                <h3>Sessions recentes</h3>
                <div class="coach-sessions-list" id="coachSessionsList">
                    <!-- Populated by JS -->
                </div>
                <div class="coach-data-actions">
                    <button class="btn-secondary" id="btnExportSessions">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:4px;">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        JSON
                    </button>
                    <button class="btn-secondary" id="btnExportExcel">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:4px;">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="8" y1="13" x2="16" y2="13"/>
                            <line x1="8" y1="17" x2="16" y2="17"/>
                        </svg>
                        Excel
                    </button>
                    <button class="btn-secondary" id="btnExportWord">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:4px;">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="8" y1="13" x2="16" y2="13"/>
                        </svg>
                        Rapport
                    </button>
                    <button class="btn-secondary" id="btnImportSessions">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:4px;">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="17,8 12,3 7,8"/>
                            <line x1="12" y1="3" x2="12" y2="15"/>
                        </svg>
                        Importer
                    </button>
                    <input type="file" id="importSessionsFile" accept=".json,.xlsx" style="display:none">
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section class="section" id="settings">
            <div class="section-header">
                <h2>Param√®tres</h2>
                <p>Personnalisez tous les exercices selon vos capacit√©s</p>
            </div>

            <!-- Global Settings -->
            <div class="settings-card settings-global">
                <h3>Mode de configuration</h3>
                <div class="settings-mode-toggle">
                    <button class="mode-btn active" data-mode="auto">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 6v6l4 2"/>
                        </svg>
                        <span>Automatique</span>
                        <small>Tables d'apn√©e en % de votre max</small>
                    </button>
                    <button class="mode-btn mode-btn-optimal" data-mode="optimal">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="13,2 3,14 12,14 11,22 21,10 12,10 13,2"/>
                        </svg>
                        <span>Optimal</span>
                        <small>Tous les exos calibr√©s sur votre apn√©e</small>
                    </button>
                    <button class="mode-btn" data-mode="manual">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 20h9M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/>
                        </svg>
                        <span>Manuel</span>
                        <small>Param√®tres personnalis√©s</small>
                    </button>
                </div>

                <!-- Apnea Base Time (always visible) -->
                <div class="apnea-base-setting-global">
                    <label>Temps d'apn√©e maximum de r√©f√©rence</label>
                    <div class="apnea-input-group">
                        <div class="time-input">
                            <input type="number" id="apneaMinutes" min="0" max="10" value="2" class="time-field">
                            <span>min</span>
                        </div>
                        <span class="time-separator">:</span>
                        <div class="time-input">
                            <input type="number" id="apneaSeconds" min="0" max="59" value="0" class="time-field">
                            <span>sec</span>
                        </div>
                        <button class="btn-test-inline" id="btnQuickTest">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5,3 19,12 5,21"/>
                            </svg>
                            Tester
                        </button>
                    </div>
                    <p class="setting-hint" id="apneaHint">En mode Optimal, tous les exercices sont calibr√©s automatiquement depuis ce temps</p>
                </div>

                <!-- Auto Mode: Percentages -->
                <div class="settings-auto-panel" id="autoPanel">
                    <div class="auto-percentages">
                        <h4>Pourcentages utilis√©s pour les tables d'apn√©e</h4>
                        <div class="percentage-grid">
                            <div class="percentage-item">
                                <label>Table CO2 (apn√©e constante)</label>
                                <div class="range-with-value">
                                    <input type="range" min="30" max="70" value="50" id="co2HoldPercent">
                                    <span class="range-value" id="co2HoldValue">50%</span>
                                </div>
                                <span class="computed-value" id="co2Computed">= 60 sec</span>
                            </div>
                            <div class="percentage-item">
                                <label>Table O2 (d√©but ‚Üí fin)</label>
                                <div class="dual-range">
                                    <div class="range-with-value">
                                        <input type="range" min="20" max="50" value="30" id="o2StartPercent">
                                        <span class="range-value" id="o2StartValue">30%</span>
                                    </div>
                                    <span>‚Üí</span>
                                    <div class="range-with-value">
                                        <input type="range" min="60" max="90" value="75" id="o2EndPercent">
                                        <span class="range-value" id="o2EndValue">75%</span>
                                    </div>
                                </div>
                                <span class="computed-value" id="o2Computed">= 36 ‚Üí 90 sec</span>
                            </div>
                            <div class="percentage-item">
                                <label>Table sans contraction</label>
                                <div class="range-with-value">
                                    <input type="range" min="20" max="50" value="30" id="noContractionPercent">
                                    <span class="range-value" id="noContractionValue">30%</span>
                                </div>
                                <span class="computed-value" id="noContractionComputed">= 36 sec</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Manual Mode Panel -->
                <div class="settings-manual-panel" id="manualPanel" style="display: none;">
                    <p class="manual-hint">En mode manuel, d√©finissez les dur√©es exactes dans chaque section ci-dessous.</p>
                </div>
            </div>

            <!-- Respiration Settings -->
            <div class="settings-card">
                <div class="settings-card-header">
                    <h3>Respiration</h3>
                    <button class="btn-expand expanded" data-target="respirationSettings">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </button>
                </div>
                <div class="settings-card-body" id="respirationSettings">
                    <!-- Cyclic Sighing -->
                    <div class="exercise-settings" data-exercise="cyclic-sighing">
                        <h4>Cyclic Sighing</h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="30" value="5" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>1√®re inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="10" value="2" step="0.5" data-param="inhale1">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>2√®me inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="0.5" max="5" value="1" step="0.5" data-param="inhale2">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Expiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="15" value="6" step="0.5" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Coherent Breathing -->
                    <div class="exercise-settings" data-exercise="coherent">
                        <h4>Respiration Coh√©rente <span class="ratio-badge">ratio 1:1</span></h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="60" value="10" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="3" max="10" value="5.5" step="0.5" data-param="inhale">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Expiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="3" max="10" value="5.5" step="0.5" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Box Breathing -->
                    <div class="exercise-settings" data-exercise="box">
                        <h4>Box Breathing</h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="30" value="5" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Dur√©e de chaque phase</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="10" value="4" data-param="boxTime">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Wim Hof -->
                    <div class="exercise-settings" data-exercise="wimhof">
                        <h4>M√©thode Wim Hof</h4>
                        <div class="settings-row">
                            <label>Nombre de rounds</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="5" value="3" data-param="rounds">
                                <span>rounds</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Respirations par round</label>
                            <div class="input-with-unit">
                                <input type="number" min="20" max="50" value="30" data-param="breaths">
                                <span>resp.</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>R√©cup√©ration</label>
                            <div class="input-with-unit">
                                <input type="number" min="10" max="30" value="15" data-param="recovery">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- CO2 Tolerance -->
                    <div class="exercise-settings" data-exercise="co2-tolerance">
                        <h4>Tol√©rance CO2 <span class="ratio-badge">ratio 1:2</span></h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="20" value="5" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="8" value="4" data-param="inhale">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Expiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="16" value="8" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- 4-7-8 -->
                    <div class="exercise-settings" data-exercise="relaxation">
                        <h4>Respiration 4-7-8 <span class="ratio-badge">ratio 4:7:8</span></h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="10" value="4" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="8" value="4" data-param="inhale">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>R√©tention</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="14" value="7" data-param="hold">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Expiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="16" value="8" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Pranayama 1-4-2 -->
                    <div class="exercise-settings" data-exercise="pranayama-142">
                        <h4>Pranayama 1-4-2 <span class="ratio-badge">ratio 1:4:2</span></h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="30" value="10" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Inspiration (P≈´raka)</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="8" value="4" data-param="inhale">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>R√©tention (Kumbhaka)</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="32" value="16" data-param="hold">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Expiration (Rechaka)</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="16" value="8" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Nadi Shodhana -->
                    <div class="exercise-settings" data-exercise="nadi-shodhana">
                        <h4>Nadi Shodhana</h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="30" value="10" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Dur√©e par phase</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="8" value="4" data-param="phaseTime">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Kapalabhati -->
                    <div class="exercise-settings" data-exercise="kapalabhati">
                        <h4>Kapalabhati</h4>
                        <div class="settings-row">
                            <label>Nombre de rounds</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="10" value="3" data-param="cycles">
                                <span>rounds</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Vitesse (1 cycle)</label>
                            <div class="input-with-unit">
                                <input type="number" min="0.5" max="2" value="1" step="0.1" data-param="speed">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Ujjayi -->
                    <div class="exercise-settings" data-exercise="ujjayi">
                        <h4>Ujjayi <span class="ratio-badge">ratio 1:1</span></h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="30" value="10" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="3" max="10" value="5" data-param="inhale">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Expiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="3" max="10" value="5" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Bhramari -->
                    <div class="exercise-settings" data-exercise="bhramari">
                        <h4>Bhramari <span class="ratio-badge">ratio 1:2</span></h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="20" value="5" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="8" value="4" data-param="inhale">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Bourdonnement (Expir)</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="16" value="8" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Surya Bhedana -->
                    <div class="exercise-settings" data-exercise="surya-bhedana">
                        <h4>Surya Bhedana <span class="ratio-badge">ratio 2:4:3</span></h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="20" value="5" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Inspiration (droite)</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="8" value="4" data-param="inhale">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>R√©tention</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="16" value="8" data-param="hold">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Expiration (gauche)</label>
                            <div class="input-with-unit">
                                <input type="number" min="3" max="12" value="6" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Visualisation Settings -->
            <div class="settings-card">
                <div class="settings-card-header">
                    <h3>Visualisation</h3>
                    <button class="btn-expand expanded" data-target="visualisationSettings">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </button>
                </div>
                <div class="settings-card-body" id="visualisationSettings">
                    <!-- Global guided timing mode -->
                    <div class="exercise-settings guided-timing-global">
                        <h4>Mode de timing guid√©</h4>
                        <div class="settings-row">
                            <label>Timing</label>
                            <div class="guided-timing-toggle">
                                <button class="timing-btn active" data-timing="adaptive">Adaptatif (voix)</button>
                                <button class="timing-btn" data-timing="fixed">Fixe (chrono)</button>
                            </div>
                        </div>
                        <div class="settings-row adaptive-setting">
                            <label>Pause apr√®s instruction</label>
                            <div class="input-with-unit">
                                <input type="number" min="3" max="60" value="8" data-param="guidedPauseAfterVoice" id="guidedPauseAfterVoice">
                                <span>sec</span>
                            </div>
                        </div>
                        <p class="settings-hint" id="guidedTimingHint">Mode adaptatif : le timer attend la fin de l'instruction vocale + pause</p>
                    </div>

                    <!-- Body Scan -->
                    <div class="exercise-settings" data-exercise="body-scan">
                        <h4>Body Scan</h4>
                        <div class="settings-row fixed-timing-setting">
                            <label>Dur√©e par zone</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="180" value="60" data-param="zoneDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- PETTLEP -->
                    <div class="exercise-settings" data-exercise="pettlep">
                        <h4>Visualisation PETTLEP</h4>
                        <p class="settings-hint">Adaptez chaque phase selon votre activit√© (50m ‚â† 2000m)</p>
                        <div class="pettlep-phases-settings">
                            <div class="settings-row">
                                <label>Physical (position)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="15" max="300" value="60" data-param="phasePhysical">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Environment (lieu)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="15" max="300" value="60" data-param="phaseEnvironment">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Task (geste technique)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="30" max="600" value="120" data-param="phaseTask">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Timing (temps r√©el)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="30" max="600" value="120" data-param="phaseTiming">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Learning (progression)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="15" max="300" value="60" data-param="phaseLearning">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Emotion (ressenti)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="15" max="300" value="60" data-param="phaseEmotion">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Perspective (1√®re personne)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="15" max="300" value="60" data-param="phasePerspective">
                                    <span>sec</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Sophro -->
                    <div class="exercise-settings" data-exercise="sophro">
                        <h4>Relaxation Dynamique</h4>
                        <div class="settings-row fixed-timing-setting">
                            <label>Dur√©e par segment</label>
                            <div class="input-with-unit">
                                <input type="number" min="45" max="180" value="90" data-param="segmentDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- PMR -->
                    <div class="exercise-settings" data-exercise="pmr">
                        <h4>Relaxation Musculaire</h4>
                        <div class="settings-row fixed-timing-setting">
                            <label>Dur√©e par muscle</label>
                            <div class="input-with-unit">
                                <input type="number" min="15" max="90" value="25" data-param="muscleDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Focus -->
                    <div class="exercise-settings" data-exercise="focus">
                        <h4>Entra√Ænement Focus</h4>
                        <div class="settings-row fixed-timing-setting">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="5" max="30" value="10" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                    </div>

                    <!-- Pre-dive -->
                    <div class="exercise-settings" data-exercise="predive">
                        <h4>Visualisation Pr√©-Plong√©e</h4>
                        <div class="settings-row fixed-timing-setting">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="5" max="20" value="10" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Apnea Settings -->
            <div class="settings-card">
                <div class="settings-card-header">
                    <h3>Apn√©e</h3>
                    <button class="btn-expand expanded" data-target="apneaSettings">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </button>
                </div>
                <div class="settings-card-body" id="apneaSettings">
                    <!-- CO2 Table -->
                    <div class="exercise-settings" data-exercise="co2-table">
                        <h4>Table CO2</h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="12" value="8" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row manual-only">
                            <label>Dur√©e d'apn√©e</label>
                            <div class="input-with-unit">
                                <input type="number" min="15" max="180" value="60" data-param="holdTime">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Repos initial</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="180" value="105" data-param="restStart">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Repos final</label>
                            <div class="input-with-unit">
                                <input type="number" min="10" max="60" value="15" data-param="restEnd">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- O2 Table -->
                    <div class="exercise-settings" data-exercise="o2-table">
                        <h4>Table O2</h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="12" value="8" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row manual-only">
                            <label>Apn√©e initiale</label>
                            <div class="input-with-unit">
                                <input type="number" min="15" max="120" value="36" data-param="holdStart">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row manual-only">
                            <label>Apn√©e finale</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="240" value="90" data-param="holdEnd">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Temps de repos</label>
                            <div class="input-with-unit">
                                <input type="number" min="60" max="180" value="120" data-param="restTime">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- No Contraction -->
                    <div class="exercise-settings" data-exercise="no-contraction">
                        <h4>Table Sans Contraction</h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="10" value="6" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row manual-only">
                            <label>Dur√©e d'apn√©e</label>
                            <div class="input-with-unit">
                                <input type="number" min="15" max="120" value="36" data-param="holdTime">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Temps de repos</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="120" value="60" data-param="restTime">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Comfort Zone -->
                    <div class="exercise-settings" data-exercise="comfort-zone">
                        <h4>Zone de Confort</h4>
                        <div class="settings-row">
                            <label>Nombre de rounds</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="10" value="5" data-param="cycles">
                                <span>rounds</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Repos entre rounds</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="300" value="120" data-param="restDuration">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Pr√©paration respiratoire</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="120" value="60" data-param="breatheUpDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Comfort Zone FRC -->
                    <div class="exercise-settings" data-exercise="comfort-zone-frc">
                        <h4>Zone de Confort FRC</h4>
                        <div class="settings-row">
                            <label>Nombre de rounds</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="10" value="5" data-param="cycles">
                                <span>rounds</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Repos entre rounds</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="300" value="120" data-param="restDuration">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Pr√©paration respiratoire</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="120" value="60" data-param="breatheUpDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Diaphragm -->
                    <div class="exercise-settings" data-exercise="diaphragm">
                        <h4>Respiration Diaphragmatique</h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="5" max="20" value="10" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                    </div>

                    <!-- Contraction Tolerance -->
                    <div class="exercise-settings" data-exercise="contraction-tolerance">
                        <h4>Tol√©rance Contractions</h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="8" value="4" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Niveau (semaine)</label>
                            <div class="input-with-unit">
                                <select data-param="weekLevel">
                                    <option value="1">Sem 1-2 : +10s apr√®s contraction</option>
                                    <option value="2">Sem 3-4 : +15s apr√®s contraction</option>
                                    <option value="3">Sem 5-6 : +30s apr√®s contraction</option>
                                </select>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Temps de repos</label>
                            <div class="input-with-unit">
                                <input type="number" min="60" max="180" value="120" data-param="restDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Body Scan Apnea -->
                    <div class="exercise-settings" data-exercise="body-scan-apnea">
                        <h4>Body Scan Apn√©e</h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="5" value="3" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Dur√©e breathe-up</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="120" value="60" data-param="breatheUpDuration">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Dur√©e repos</label>
                            <div class="input-with-unit">
                                <input type="number" min="60" max="180" value="120" data-param="restDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Breathe-Up Structur√© -->
                    <div class="exercise-settings" data-exercise="breathe-up-structure">
                        <h4>Breathe-Up Structur√©</h4>
                        <div class="settings-row">
                            <label>Mode</label>
                            <div class="input-with-unit">
                                <select data-param="mode">
                                    <option value="standard">Standard (3 phases)</option>
                                    <option value="express">Express (2 min)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Coach AI Settings -->
            <div class="settings-card">
                <div class="settings-card-header">
                    <h3>Coach IA</h3>
                    <button class="btn-expand" data-target="coachSettings">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </button>
                </div>
                <div class="settings-card-body collapsed" id="coachSettings">
                    <div class="exercise-settings">
                        <div class="settings-row">
                            <label>Fournisseur IA</label>
                            <select id="coachProvider" class="form-select">
                                <option value="claude">Claude (Anthropic)</option>
                                <option value="openai">OpenAI (GPT)</option>
                            </select>
                        </div>
                        <div class="settings-row">
                            <label>Cle API</label>
                            <input type="password" id="coachApiKey"
                                placeholder="sk-..."
                                autocomplete="off"
                                style="font-size: 0.85rem;">
                        </div>
                        <div class="settings-row">
                            <label>Modele</label>
                            <select id="coachModel" class="form-select">
                                <option value="claude-sonnet-4-20250514">Claude Sonnet</option>
                                <option value="claude-haiku-4-20250414">Claude Haiku (rapide)</option>
                            </select>
                        </div>
                        <div class="settings-row">
                            <label>Suggestion auto apres exercice</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="coachAutoSuggest">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="settings-row" style="flex-direction: column; align-items: stretch;">
                            <label>Objectifs personnels</label>
                            <textarea id="coachGoals" rows="3"
                                placeholder="Ex: Atteindre 3 min d'apnee statique, reduire mon stress quotidien..."
                                style="margin-top: var(--space-sm); width: 100%;"></textarea>
                        </div>
                        <div class="settings-row" style="flex-direction: column; align-items: stretch;">
                            <label>Instructions personnalis√©es <span style="font-size:0.75rem; opacity:0.6;">(ajout√©es au prompt du coach)</span></label>
                            <textarea id="coachCustomPrompt" rows="4"
                                placeholder="Ex: R√©ponds toujours en moins de 3 phrases. Concentre-toi uniquement sur l'apn√©e statique. Ne mentionne jamais Wim Hof..."
                                style="margin-top: var(--space-sm); width: 100%; font-size: 0.85rem;"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Save/Reset Buttons -->
            <div class="settings-actions">
                <button class="btn-secondary" id="btnResetSettings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                        <path d="M3 3v5h5"/>
                    </svg>
                    R√©initialiser
                </button>
                <button class="btn-primary" id="btnSaveSettings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                        <polyline points="17,21 17,13 7,13 7,21"/>
                        <polyline points="7,3 7,8 15,8"/>
                    </svg>
                    Enregistrer
                </button>
            </div>

            <!-- Sync Settings Card -->
            <div class="settings-card sync-settings-card">
                <h3>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                        <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"/>
                    </svg>
                    Synchronisation
                </h3>

                <div class="sync-status-row">
                    <span class="sync-status-dot" id="syncStatusDot"></span>
                    <span class="sync-status-label" id="syncStatusText">Non configur√©</span>
                    <span class="sync-last-time" id="syncLastTime"></span>
                </div>

                <div class="sync-config" id="syncConfig">
                    <div class="setting-row">
                        <label for="syncToken">Token GitHub</label>
                        <input type="text" id="syncToken" placeholder="ghp_xxxxxxxxxxxx" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
                    </div>
                    <div class="setting-row">
                        <label for="syncGistId">Gist ID</label>
                        <input type="text" id="syncGistId" placeholder="Collez le Gist ID de l'autre appareil, ou laissez vide">
                    </div>
                    <p class="sync-help">
                        Cr√©ez un token sur
                        <a href="https://github.com/settings/tokens/new?scopes=gist&description=DeepBreath%20Sync" target="_blank" rel="noopener noreferrer">github.com/settings/tokens</a>
                        avec le scope <strong>gist</strong> uniquement.<br>
                        <strong>2√®me appareil :</strong> D√©connectez, collez le Gist ID de l'autre appareil, entrez le token, puis Configurer.
                    </p>
                </div>

                <div class="sync-actions">
                    <button class="btn-primary" id="btnSyncSetup">Configurer</button>
                    <button class="btn-secondary" id="btnSyncNow" style="display:none">Sync maintenant</button>
                    <button class="btn-danger-outline" id="btnSyncDisconnect" style="display:none">D√©connecter</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Exercise Modal -->
    <div class="modal" id="exerciseModal" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="modal-close" aria-label="Fermer" id="modalClose">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>

            <div class="exercise-display">
                <h2 class="exercise-title" id="exerciseTitle">Exercise</h2>
                <p class="exercise-instruction" id="exerciseInstruction">Instructions will appear here</p>

                <!-- Breathing Circle Animation -->
                <div class="breath-circle-container">
                    <div class="breath-circle" id="breathCircle">
                        <div class="breath-inner">
                            <span class="breath-phase" id="breathPhase">Pr√™t</span>
                            <span class="breath-timer" id="breathTimer">0:00</span>
                        </div>
                    </div>
                    <svg class="breath-progress" viewBox="0 0 200 200">
                        <circle class="progress-bg" cx="100" cy="100" r="90"/>
                        <circle class="progress-bar" id="progressBar" cx="100" cy="100" r="90"/>
                    </svg>
                </div>

                <!-- Cycle Counter -->
                <div class="cycle-info">
                    <span id="cycleCounter">Cycle 0 / 0</span>
                </div>

                <!-- Contraction UI (hidden by default) -->
                <button class="btn-contraction" id="btnMarkContraction" style="display:none;">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                        <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                    </svg>
                    Contraction !
                </button>
                <div class="contraction-counter" id="contractionCounter" style="display:none;">
                    Contractions : 0
                </div>

                <!-- Comfort Zone Stop Button (hidden by default) -->
                <button class="btn-comfort-stop" id="btnComfortStop" style="display:none;">
                    ‚úã J'arr√™te
                </button>

                <!-- Controls -->
                <div class="exercise-controls">
                    <button class="btn-control" id="btnReset" title="Recommencer">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                            <path d="M3 3v5h5"/>
                        </svg>
                    </button>
                    <button class="btn-control" id="btnPause">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="4" width="4" height="16"/>
                            <rect x="14" y="4" width="4" height="16"/>
                        </svg>
                    </button>
                    <button class="btn-control btn-stop" id="btnStop">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="6" width="12" height="12"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div class="modal" id="feedbackModal" role="dialog" aria-modal="true">
        <div class="modal-content modal-feedback">
            <button class="modal-close" aria-label="Fermer" id="feedbackModalClose">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>

            <div class="feedback-display">
                <h2>Comment vous sentez-vous ?</h2>
                <p class="feedback-exercise-name" id="feedbackExerciseName"></p>

                <!-- Feeling Rating -->
                <div class="feedback-section">
                    <label>Ressenti global</label>
                    <div class="feedback-rating" id="feedbackFeeling">
                        <button class="rating-btn" data-value="1">1</button>
                        <button class="rating-btn" data-value="2">2</button>
                        <button class="rating-btn" data-value="3">3</button>
                        <button class="rating-btn" data-value="4">4</button>
                        <button class="rating-btn" data-value="5">5</button>
                    </div>
                    <div class="rating-labels">
                        <span>Difficile</span><span>Excellent</span>
                    </div>
                </div>

                <!-- Stress Before -->
                <div class="feedback-section">
                    <label>Stress avant l'exercice</label>
                    <div class="feedback-rating" id="feedbackStressBefore">
                        <button class="rating-btn" data-value="1">1</button>
                        <button class="rating-btn" data-value="2">2</button>
                        <button class="rating-btn" data-value="3">3</button>
                        <button class="rating-btn" data-value="4">4</button>
                        <button class="rating-btn" data-value="5">5</button>
                    </div>
                    <div class="rating-labels">
                        <span>Calme</span><span>Tres stresse</span>
                    </div>
                </div>

                <!-- Stress After -->
                <div class="feedback-section">
                    <label>Stress apres l'exercice</label>
                    <div class="feedback-rating" id="feedbackStressAfter">
                        <button class="rating-btn" data-value="1">1</button>
                        <button class="rating-btn" data-value="2">2</button>
                        <button class="rating-btn" data-value="3">3</button>
                        <button class="rating-btn" data-value="4">4</button>
                        <button class="rating-btn" data-value="5">5</button>
                    </div>
                    <div class="rating-labels">
                        <span>Calme</span><span>Tres stresse</span>
                    </div>
                </div>

                <!-- Notes -->
                <div class="feedback-section">
                    <label>Notes (optionnel)</label>
                    <textarea id="feedbackNotes" rows="2"
                        placeholder="Sensations, observations..."></textarea>
                </div>

                <!-- Actions -->
                <div class="feedback-actions">
                    <button class="btn-secondary" id="btnSkipFeedback">Passer</button>
                    <button class="btn-primary" id="btnSaveFeedback">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Sequence Editor Modal -->
    <div class="modal" id="sequenceEditorModal" role="dialog" aria-modal="true">
        <div class="modal-content modal-large">
            <button class="modal-close" aria-label="Fermer" id="sequenceEditorClose">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>

            <div class="sequence-editor">
                <h2 id="sequenceEditorTitle">Nouvelle s√©quence</h2>

                <div class="sequence-form">
                    <div class="form-group">
                        <label>Nom de la s√©quence</label>
                        <input type="text" id="sequenceName" placeholder="Ma s√©quence" class="form-input">
                    </div>

                    <div class="form-group">
                        <label>Type de s√©quence</label>
                        <div class="sequence-type-selector">
                            <button class="type-btn active" data-type="interval">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7"/>
                                    <rect x="14" y="3" width="7" height="7"/>
                                    <rect x="3" y="14" width="7" height="7"/>
                                    <rect x="14" y="14" width="7" height="7"/>
                                </svg>
                                <span>Intervalles</span>
                            </button>
                            <button class="type-btn" data-type="custom">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="4" y1="21" x2="4" y2="14"/>
                                    <line x1="4" y1="10" x2="4" y2="3"/>
                                    <line x1="12" y1="21" x2="12" y2="12"/>
                                    <line x1="12" y1="8" x2="12" y2="3"/>
                                    <line x1="20" y1="21" x2="20" y2="16"/>
                                    <line x1="20" y1="12" x2="20" y2="3"/>
                                    <circle cx="4" cy="12" r="2"/>
                                    <circle cx="12" cy="10" r="2"/>
                                    <circle cx="20" cy="14" r="2"/>
                                </svg>
                                <span>Personnalis√©</span>
                            </button>
                        </div>
                    </div>

                    <!-- Interval Mode Settings -->
                    <div class="interval-settings" id="intervalSettings">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Dur√©e effort</label>
                                <div class="input-with-unit">
                                    <input type="number" id="intervalWork" min="5" max="300" value="30">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Dur√©e repos</label>
                                <div class="input-with-unit">
                                    <input type="number" id="intervalRest" min="5" max="300" value="30">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>R√©p√©titions</label>
                                <div class="input-with-unit">
                                    <input type="number" id="intervalReps" min="1" max="50" value="8">
                                    <span>√ó</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Labels des phases</label>
                            <div class="form-row">
                                <input type="text" id="labelWork" placeholder="Effort" value="Effort" class="form-input form-input-sm">
                                <input type="text" id="labelRest" placeholder="Repos" value="Repos" class="form-input form-input-sm">
                            </div>
                        </div>
                    </div>

                    <!-- Custom Mode Settings -->
                    <div class="custom-settings" id="customSettings" style="display: none;">
                        <div class="phases-list" id="phasesList">
                            <div class="phase-item" data-index="0">
                                <input type="text" class="phase-label" value="Phase 1" placeholder="Nom">
                                <div class="input-with-unit">
                                    <input type="number" class="phase-duration" min="1" max="600" value="30">
                                    <span>sec</span>
                                </div>
                                <select class="phase-color">
                                    <option value="blue">Bleu</option>
                                    <option value="green">Vert</option>
                                    <option value="orange">Orange</option>
                                    <option value="red">Rouge</option>
                                    <option value="purple">Violet</option>
                                </select>
                                <button class="btn-remove-phase" title="Supprimer">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"/>
                                        <line x1="6" y1="6" x2="18" y2="18"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <button class="btn-add-phase" id="btnAddPhase">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"/>
                                <line x1="5" y1="12" x2="19" y2="12"/>
                            </svg>
                            Ajouter une phase
                        </button>
                    </div>

                    <!-- Preview -->
                    <div class="sequence-preview">
                        <h4>Aper√ßu</h4>
                        <div class="preview-timeline" id="previewTimeline"></div>
                        <div class="preview-stats">
                            <span>Dur√©e totale: <strong id="previewDuration">8:00</strong></span>
                            <span>Phases: <strong id="previewPhases">16</strong></span>
                        </div>
                    </div>
                </div>

                <div class="sequence-editor-actions">
                    <button class="btn-secondary" id="btnCancelSequence">Annuler</button>
                    <button class="btn-danger" id="btnDeleteSequence" style="display: none;">Supprimer</button>
                    <button class="btn-primary" id="btnSaveSequence">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Sequence Runner Modal -->
    <div class="modal" id="sequenceRunnerModal" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="modal-close" aria-label="Fermer" id="sequenceRunnerClose">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>

            <div class="sequence-runner">
                <h2 id="sequenceRunnerTitle">S√©quence</h2>

                <div class="runner-phase-display">
                    <div class="runner-phase-label" id="runnerPhaseLabel">Pr√™t</div>
                    <div class="runner-timer" id="runnerTimer">0:00</div>
                    <div class="runner-progress-ring">
                        <svg viewBox="0 0 200 200">
                            <circle class="progress-bg" cx="100" cy="100" r="90"/>
                            <circle class="progress-bar" id="runnerProgressBar" cx="100" cy="100" r="90"/>
                        </svg>
                    </div>
                </div>

                <div class="runner-info">
                    <div class="runner-phase-counter" id="runnerPhaseCounter">Phase 0 / 0</div>
                    <div class="runner-next-phase">Suivant: <span id="runnerNextPhase">--</span></div>
                </div>

                <div class="runner-timeline" id="runnerTimeline"></div>

                <div class="runner-controls">
                    <button class="btn-control" id="btnRunnerPause">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="4" width="4" height="16"/>
                            <rect x="14" y="4" width="4" height="16"/>
                        </svg>
                    </button>
                    <button class="btn-control btn-stop" id="btnRunnerStop">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="6" width="12" height="12"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Apnea Test Modal -->
    <div class="modal" id="apneaTestModal" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="modal-close" aria-label="Fermer" id="testModalClose">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>

            <div class="test-display">
                <h2>Test d'Apn√©e Statique</h2>
                <p class="test-instruction" id="testInstruction">Prenez 3 respirations calmes, puis inspirez profond√©ment et retenez votre souffle aussi longtemps que possible.</p>

                <div class="test-timer-container">
                    <div class="test-timer" id="testTimer">0:00</div>
                    <div class="test-status" id="testStatus">Pr√™t</div>
                </div>

                <div class="test-controls">
                    <button class="btn-primary" id="btnStartHold">Commencer l'apn√©e</button>
                    <button class="btn-secondary" id="btnStopHold" style="display: none;">Arr√™ter</button>
                </div>

                <div class="test-result-display" id="testResultDisplay" style="display: none;">
                    <h3>Votre r√©sultat</h3>
                    <div class="result-time" id="resultTime">0:00</div>
                    <p class="result-analysis" id="resultAnalysis"></p>
                    <button class="btn-primary" id="btnSaveResult">Enregistrer comme record</button>
                </div>
            </div>
        </div>
    </div>

    <script src="sync.js" defer></script>
    <script src="ocean-sound.js" defer></script>
    <script src="exercises.js" defer></script>
    <script src="voice-guide.js" defer></script>
    <script src="breath-sounds.js" defer></script>
    <script src="app.js" defer></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.20.3/package/dist/xlsx.full.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/docx@9.5.1/dist/index.iife.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/mammoth@1.8.0/mammoth.browser.min.js" defer></script>
    <script src="coach.js" defer></script>
    <script src="journal.js" defer></script>
    <script src="multi-timer.js" defer></script>
    <script src="weekly-plan.js" defer></script>
</body>
</html>
