<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Jmee DeepBreath ‚Äî Respiration, Visualisation, Apn√©e</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Audio Controls (Ocean Sound + Voice Guide + Breath Sounds) -->
    <div class="audio-controls" id="audioControls">
        <button class="offline-toggle" id="offlineToggle" aria-label="Toggle offline mode" title="Mode hors-ligne">
            <svg class="online-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12.55a11 11 0 0 1 14.08 0"/>
                <path d="M1.42 9a16 16 0 0 1 21.16 0"/>
                <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
                <circle cx="12" cy="20" r="1" fill="currentColor"/>
            </svg>
            <svg class="offline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none">
                <line x1="1" y1="1" x2="23" y2="23"/>
                <path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"/>
                <path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"/>
                <path d="M10.71 5.05A16 16 0 0 1 22.58 9"/>
                <path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"/>
                <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
                <circle cx="12" cy="20" r="1" fill="currentColor"/>
            </svg>
        </button>
        <button class="voice-toggle active" id="voiceToggle" aria-label="Toggle voice guide" title="Guidage vocal">
            <svg class="voice-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                <line x1="12" y1="19" x2="12" y2="23"/>
                <line x1="8" y1="23" x2="16" y2="23"/>
            </svg>
        </button>
        <button class="audio-btn active" id="breathSoundToggle" title="Sons de respiration">B</button>
        <button class="audio-btn" id="soundToggle" title="Son oc√©an">O</button>
        <button class="spotify-btn" id="spotifyBtn" title="Ouvrir Spotify">
            <svg viewBox="0 0 24 24" fill="currentColor" width="18" height="18">
                <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
            </svg>
        </button>
        <div class="volume-sliders" id="volumeSliders">
            <input type="range" min="0" max="100" value="70" id="breathVolumeRange" title="Volume respiration">
            <input type="range" min="0" max="100" value="50" id="volumeRange" title="Volume oc√©an">
        </div>
    </div>

    <!-- Spotify Playlist Panel -->
    <div class="spotify-panel" id="spotifyPanel" style="display:none">
        <div class="spotify-panel-header">
            <span>üéµ Fond musical Spotify</span>
            <button class="spotify-close" id="spotifyClose">‚úï</button>
        </div>
        <div class="spotify-playlists">
            <a href="https://open.spotify.com/playlist/37i9dQZF1DWZqd5JICZI0u" target="_blank" class="spotify-playlist-link">
                <span>üßò M√©ditation & Relaxation</span>
            </a>
            <a href="https://open.spotify.com/playlist/37i9dQZF1DX9uKNf5jGX6m" target="_blank" class="spotify-playlist-link">
                <span>üåä Nature & Ambiance</span>
            </a>
            <a href="https://open.spotify.com/playlist/37i9dQZF1DWYcDQ1hSjOpY" target="_blank" class="spotify-playlist-link">
                <span>üò¥ Sommeil profond</span>
            </a>
            <a href="https://open.spotify.com/playlist/37i9dQZF1DX3Ogo9pFvBkY" target="_blank" class="spotify-playlist-link">
                <span>üéµ Focus & Concentration</span>
            </a>
            <a href="https://open.spotify.com/playlist/37i9dQZF1DWU0ScTcjJBdj" target="_blank" class="spotify-playlist-link">
                <span>üîî Bols tib√©tains</span>
            </a>
        </div>
        <div class="spotify-custom">
            <label>Ou colle ton lien Spotify :</label>
            <div class="spotify-custom-input">
                <input type="text" id="spotifyCustomUrl" placeholder="https://open.spotify.com/playlist/...">
                <button id="spotifyCustomOpen">Go</button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-brand">
            <svg class="logo" viewBox="0 0 40 40" fill="none">
                <circle cx="20" cy="20" r="18" stroke="currentColor" stroke-width="1.5" opacity="0.3"/>
                <path d="M20 8 Q28 20 20 32 Q12 20 20 8" fill="currentColor" opacity="0.6"/>
            </svg>
            <div class="nav-brand-text">
                <span>Jmee DeepBreath</span>
                <span class="beta-badge">BETA ‚Äî Exp√©rimentale, non v√©rifi√©e. Ne pas utiliser en conditions r√©elles.</span>
            </div>
        </div>
        <div class="nav-links">
            <button class="nav-link active" data-section="home">Accueil</button>
            <button class="nav-link" data-section="respiration">Respiration</button>
            <button class="nav-link" data-section="visualisation">Visualisation</button>
            <button class="nav-link" data-section="apnee">Apn√©e</button>
            <button class="nav-link" data-section="multitimer">Multi Timer</button>
            <button class="nav-link nav-urgence" data-section="urgence">Urgence</button>
            <button class="nav-link" data-section="preperformance">Pr√©-Perf</button>
            <button class="nav-link nav-hypnose" data-section="autohypnose">Hypnose</button>
            <button class="nav-link nav-guide" data-section="guide">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:2px;">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
                Guide
            </button>
            <button class="nav-link nav-coach" data-section="coach">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:2px;">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                </svg>
                Coach
            </button>
            <button class="nav-link nav-settings" data-section="settings">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                </svg>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Section -->
        <section class="section active" id="home">
            <div class="hero">
                <h1 class="hero-title">Ma√Ætrisez votre souffle</h1>
                <p class="hero-subtitle">Techniques avanc√©es bas√©es sur les derni√®res recherches scientifiques</p>

                <div class="feature-cards">
                    <div class="feature-card" data-goto="respiration">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <path d="M24 12v24M16 20l8-8 8 8M16 28l8 8 8-8"/>
                            </svg>
                        </div>
                        <h3>Respiration</h3>
                        <p>Cyclic sighing, coh√©rence cardiaque, box breathing et techniques Wim Hof</p>
                    </div>

                    <div class="feature-card" data-goto="visualisation">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <circle cx="24" cy="24" r="8"/>
                                <circle cx="24" cy="24" r="3" fill="currentColor"/>
                            </svg>
                        </div>
                        <h3>Visualisation</h3>
                        <p>Protocoles PETTLEP, body scan et relaxation dynamique sophrologique</p>
                    </div>

                    <div class="feature-card" data-goto="apnee">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <path d="M12 24h24M24 14v20"/>
                                <circle cx="24" cy="24" r="6"/>
                            </svg>
                        </div>
                        <h3>Apn√©e</h3>
                        <p>Tables O2/CO2, r√©flexe de plong√©e et entra√Ænement progressif</p>
                    </div>

                    <div class="feature-card" data-goto="multitimer">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <circle cx="24" cy="24" r="12"/>
                                <polyline points="24,16 24,24 30,27"/>
                                <circle cx="38" cy="14" r="6" opacity="0.5"/>
                                <polyline points="38,11 38,14 40,15" opacity="0.5"/>
                            </svg>
                        </div>
                        <h3>Multi Timer</h3>
                        <p>S√©quences personnalisables, intervalles et chronom√®tres pour vos entra√Ænements</p>
                    </div>

                    <div class="feature-card feature-card-urgence" data-goto="urgence">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <path d="M24 14v12M24 30v2"/>
                                <circle cx="24" cy="24" r="10"/>
                            </svg>
                        </div>
                        <h3>Urgence</h3>
                        <p>Exercices rapides pour calmer panique, anxi√©t√© et stress soudain</p>
                    </div>

                    <div class="feature-card feature-card-preperf" data-goto="preperformance">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <polygon points="24,10 28,22 24,20 20,22"/>
                                <circle cx="24" cy="30" r="6"/>
                                <path d="M20 28l4 4 4-4"/>
                            </svg>
                        </div>
                        <h3>Pr√©-Performance</h3>
                        <p>Protocole de 5 minutes avant plong√©e, chasse sous-marine ou comp√©tition</p>
                    </div>

                    <div class="feature-card feature-card-hypnose" data-goto="autohypnose">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <circle cx="24" cy="24" r="14" opacity="0.2"/>
                                <circle cx="24" cy="24" r="8" opacity="0.4"/>
                                <circle cx="24" cy="24" r="3" fill="currentColor"/>
                                <path d="M24 6v4M24 38v4M6 24h4M38 24h4" opacity="0.5"/>
                            </svg>
                        </div>
                        <h3>Auto-Hypnose</h3>
                        <p>Techniques VAKOG, flow-state et gestion des spasmes pour apn√©istes</p>
                    </div>

                    <div class="feature-card feature-card-guide" data-goto="guide">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <circle cx="24" cy="24" r="10"/>
                                <path d="M21 21a3 3 0 1 1 4.3 2.7c-.8.5-1.3 1.1-1.3 2.3"/>
                                <circle cx="24" cy="30" r="0.5" fill="currentColor"/>
                            </svg>
                        </div>
                        <h3>Guide</h3>
                        <p>Aide au choix des exercices selon votre objectif, votre niveau et votre blocage</p>
                    </div>

                    <div class="feature-card feature-card-coach" data-goto="coach">
                        <div class="feature-icon">
                            <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="24" cy="24" r="20" opacity="0.3"/>
                                <path d="M34 26a2 2 0 0 1-2 2H18l-4 4V14a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"/>
                                <circle cx="20" cy="20" r="1" fill="currentColor"/>
                                <circle cx="24" cy="20" r="1" fill="currentColor"/>
                                <circle cx="28" cy="20" r="1" fill="currentColor"/>
                            </svg>
                        </div>
                        <h3>Coach IA</h3>
                        <p>Entrainement apnee au sec, programmes sur mesure, suivi de progression</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Respiration Section -->
        <section class="section" id="respiration">
            <div class="section-header">
                <h2>Respiration</h2>
                <p>Techniques valid√©es scientifiquement pour optimiser votre syst√®me nerveux</p>
            </div>

            <div class="exercise-grid">
                <!-- Cyclic Sighing -->
                <div class="exercise-card" data-exercise="cyclic-sighing">
                    <div class="exercise-badge">Stanford 2023</div>
                    <h3>Cyclic Sighing</h3>
                    <p>Double inspiration suivie d'une expiration prolong√©e. R√©duction du stress 56% plus efficace que la m√©ditation.</p>
                    <div class="exercise-meta">
                        <span>5 min</span>
                        <span>‚Ä¢</span>
                        <span>Stress & Humeur</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="cyclic-sighing">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Coherent Breathing -->
                <div class="exercise-card" data-exercise="coherent">
                    <div class="exercise-badge">Coh√©rence HRV</div>
                    <h3>Respiration Coh√©rente</h3>
                    <p>5.5 respirations par minute pour synchroniser c≈ìur et respiration. Optimise la variabilit√© cardiaque.</p>
                    <div class="exercise-meta">
                        <span>10-20 min</span>
                        <span>‚Ä¢</span>
                        <span>√âquilibre ANS</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="coherent">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Box Breathing -->
                <div class="exercise-card" data-exercise="box">
                    <div class="exercise-badge">Navy SEALs</div>
                    <h3>Box Breathing</h3>
                    <p>Technique 4-4-4-4 utilis√©e par les forces sp√©ciales. Augmente le tonus vagal et la concentration.</p>
                    <div class="exercise-meta">
                        <span class="exercise-duration" data-show="duration">5 min</span>
                        <span>‚Ä¢</span>
                        <span class="exercise-timing" data-show="boxTime">4-4-4-4</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="box">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Wim Hof -->
                <div class="exercise-card" data-exercise="wimhof">
                    <div class="exercise-badge">√âtude 2024</div>
                    <h3>M√©thode Wim Hof</h3>
                    <p>Hyperventilation contr√¥l√©e suivie de r√©tentions. Am√©liore √©nergie, clart√© mentale et tol√©rance au froid.</p>
                    <div class="exercise-meta">
                        <span>15-20 min</span>
                        <span>‚Ä¢</span>
                        <span>√ânergie & R√©silience</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="wimhof">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- CO2 Tolerance -->
                <div class="exercise-card" data-exercise="co2-tolerance">
                    <div class="exercise-badge">Performance</div>
                    <h3>Tol√©rance CO2</h3>
                    <p>Expirations prolong√©es pour augmenter la tol√©rance au CO2. R√©duit l'essoufflement et am√©liore l'endurance.</p>
                    <div class="exercise-meta">
                        <span>5-10 min</span>
                        <span>‚Ä¢</span>
                        <span>Endurance</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="co2-tolerance">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- 4-7-8 Relaxation -->
                <div class="exercise-card" data-exercise="relaxation">
                    <div class="exercise-badge">Sommeil</div>
                    <h3>Respiration 4-7-8</h3>
                    <p>Technique Dr. Andrew Weil pour l'endormissement. Activation parasympathique profonde.</p>
                    <div class="exercise-meta">
                        <span>4 cycles</span>
                        <span>‚Ä¢</span>
                        <span>Relaxation</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="relaxation">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Visualisation Section -->
        <section class="section" id="visualisation">
            <div class="section-header">
                <h2>Visualisation</h2>
                <p>Protocoles de sophrologie et d'imagerie mentale utilis√©s par les athl√®tes olympiques</p>
            </div>

            <div class="exercise-grid">
                <!-- Body Scan -->
                <div class="exercise-card" data-exercise="body-scan">
                    <div class="exercise-badge">Mindfulness</div>
                    <h3>Body Scan</h3>
                    <p>Parcours attentionnel syst√©matique du corps. Am√©liore la conscience corporelle et active le syst√®me parasympathique.</p>
                    <div class="exercise-meta">
                        <span>15-20 min</span>
                        <span>‚Ä¢</span>
                        <span>Conscience corporelle</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="body-scan">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- PETTLEP Visualization -->
                <div class="exercise-card" data-exercise="pettlep">
                    <div class="exercise-badge">Olympique</div>
                    <h3>Visualisation PETTLEP</h3>
                    <p>Protocole en 7 points utilis√© par 70-90% des olympiens. Imagerie motrice compl√®te multi-sensorielle.</p>
                    <div class="exercise-meta">
                        <span>10-15 min</span>
                        <span>‚Ä¢</span>
                        <span>Performance</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="pettlep">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Dynamic Relaxation -->
                <div class="exercise-card" data-exercise="sophro">
                    <div class="exercise-badge">Sophrologie</div>
                    <h3>Relaxation Dynamique</h3>
                    <p>M√©thode IRTER : Inspiration-R√©tention-Tension-Expiration-Rel√¢chement. Niveau 1 de sophrologie.</p>
                    <div class="exercise-meta">
                        <span>20 min</span>
                        <span>‚Ä¢</span>
                        <span>Relaxation profonde</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="sophro">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- PMR -->
                <div class="exercise-card" data-exercise="pmr">
                    <div class="exercise-badge">Jacobson</div>
                    <h3>Relaxation Musculaire Progressive</h3>
                    <p>Contraction-rel√¢chement syst√©matique. Valid√©e sur 3400+ participants pour r√©duire stress et anxi√©t√©.</p>
                    <div class="exercise-meta">
                        <span>15-30 min</span>
                        <span>‚Ä¢</span>
                        <span>Tension musculaire</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="pmr">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Focus Training -->
                <div class="exercise-card" data-exercise="focus">
                    <div class="exercise-badge">Concentration</div>
                    <h3>Entra√Ænement Focus</h3>
                    <p>Technique du spotlight : visualiser un faisceau de lumi√®re sur l'objet d'attention. Am√©liore la concentration.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Attention</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="focus">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Pre-dive Visualization -->
                <div class="exercise-card" data-exercise="predive">
                    <div class="exercise-badge">Apn√©iste</div>
                    <h3>Visualisation Pr√©-Plong√©e</h3>
                    <p>Routine mentale compl√®te de l'apn√©iste : descente, fond, remont√©e. R√©duit l'anxi√©t√© de 20%.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Pr√©paration mentale</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="predive">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Sleep Protocol -->
                <div class="exercise-card exercise-card-sleep" data-exercise="sleep-descent">
                    <div class="exercise-badge">Sommeil</div>
                    <h3>Descente vers le Sommeil</h3>
                    <p>Protocole d'endormissement en 7 minutes combinant relaxation progressive, 4-7-8 et imagerie hypnagogique.</p>
                    <div class="exercise-meta">
                        <span>7 min</span>
                        <span>‚Ä¢</span>
                        <span>Endormissement</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Apn√©e Section -->
        <section class="section" id="apnee">
            <div class="section-header">
                <h2>Entra√Ænement Apn√©e</h2>
                <p>Protocoles progressifs pour d√©velopper votre capacit√© de r√©tention respiratoire en s√©curit√©</p>
            </div>

            <!-- Apnea Test -->
            <div class="apnea-test-card">
                <h3>Test de Base</h3>
                <p>Mesurez votre apn√©e statique maximale pour personnaliser vos tables d'entra√Ænement</p>
                <div class="test-result" id="testResult">
                    <span class="result-label">Votre record</span>
                    <span class="result-value" id="personalBest">--:--</span>
                </div>
                <button class="btn-primary" id="startTest">Faire le test</button>
            </div>

            <div class="exercise-grid">
                <!-- CO2 Table -->
                <div class="exercise-card" data-exercise="co2-table">
                    <div class="exercise-badge">Tol√©rance CO2</div>
                    <h3>Table CO2</h3>
                    <p>Apn√©es constantes avec repos d√©croissant. D√©veloppe la tol√©rance √† l'accumulation de CO2.</p>
                    <div class="exercise-meta">
                        <span>8 cycles</span>
                        <span>‚Ä¢</span>
                        <span>~15 min</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="co2-table">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- O2 Table -->
                <div class="exercise-card" data-exercise="o2-table">
                    <div class="exercise-badge">Tol√©rance O2</div>
                    <h3>Table O2</h3>
                    <p>Apn√©es progressives avec repos constant. Adapte le corps aux faibles niveaux d'oxyg√®ne.</p>
                    <div class="exercise-meta">
                        <span>8 cycles</span>
                        <span>‚Ä¢</span>
                        <span>~20 min</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="o2-table">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- No Contraction -->
                <div class="exercise-card" data-exercise="no-contraction">
                    <div class="exercise-badge">D√©butant</div>
                    <h3>Table Sans Contraction</h3>
                    <p>M√©thode douce : rester dans le confort pour d√©velopper une relation saine avec le CO2.</p>
                    <div class="exercise-meta">
                        <span>6-8 cycles</span>
                        <span>‚Ä¢</span>
                        <span>Progression douce</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="no-contraction">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Dive Reflex -->
                <div class="exercise-card" data-exercise="dive-reflex">
                    <div class="exercise-badge">Physiologie</div>
                    <h3>R√©flexe de Plong√©e</h3>
                    <p>Exercices pour optimiser la bradycardie et la vasoconstriction p√©riph√©rique. Utilisez de l'eau froide sur le visage.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Adaptation</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="dive-reflex">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Lung Stretching -->
                <div class="exercise-card" data-exercise="lung-stretch">
                    <div class="exercise-badge">Capacit√©</div>
                    <h3>√âtirements Pulmonaires</h3>
                    <p>Uddiyana bandha et √©tirements intercostaux pour augmenter la capacit√© vitale.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Flexibilit√©</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="lung-stretch">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Diaphragm Training -->
                <div class="exercise-card" data-exercise="diaphragm">
                    <div class="exercise-badge">Fondamental</div>
                    <h3>Respiration Diaphragmatique</h3>
                    <p>Ma√Ætrise de la respiration abdominale en 3 temps. Base de tout entra√Ænement apn√©e.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Technique</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="diaphragm">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Hook Breathing -->
                <div class="exercise-card" data-exercise="hook-breathing">
                    <div class="exercise-badge">S√©curit√©</div>
                    <h3>Hook Breathing</h3>
                    <p>Technique de r√©cup√©ration post-apn√©e en 3 rounds progressifs. R√©flexe vital de s√©curit√© √† automatiser.</p>
                    <div class="exercise-meta">
                        <span>8 min</span>
                        <span>‚Ä¢</span>
                        <span>R√©cup√©ration</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                    </div>
                </div>

                <!-- Contraction Tolerance -->
                <div class="exercise-card" data-exercise="contraction-tolerance">
                    <div class="exercise-badge">Avanc√©</div>
                    <h3>Tol√©rance Contractions</h3>
                    <p>Apn√©e avec suivi des spasmes, coaching vocal et reframing cognitif. Progressif sur 6 semaines.</p>
                    <div class="exercise-meta">
                        <span>4 cycles</span>
                        <span>‚Ä¢</span>
                        <span>~15 min</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="contraction-tolerance">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Body Scan Apnea -->
                <div class="exercise-card" data-exercise="body-scan-apnea">
                    <div class="exercise-badge">Hybride</div>
                    <h3>Body Scan Apn√©e</h3>
                    <p>Apn√©e guid√©e avec scan corporel progressif. D√©place l'attention pendant la r√©tention pour plus de confort.</p>
                    <div class="exercise-meta">
                        <span>3 cycles</span>
                        <span>‚Ä¢</span>
                        <span>~20 min</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start">Commencer</button>
                        <button class="btn-config" title="Configurer" data-exercise="body-scan-apnea">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Safety Notice -->
            <div class="safety-notice">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
                <div>
                    <strong>S√©curit√©</strong>
                    <p>Ne jamais pratiquer l'apn√©e dans l'eau seul. L'entra√Ænement √† sec est plus s√ªr. Arr√™tez en cas de vertiges, picotements ou troubles visuels. Ne pas combiner tables O2 et CO2 le m√™me jour.</p>
                </div>
            </div>
        </section>

        <!-- Multi Timer Section -->
        <section class="section" id="multitimer">
            <div class="section-header">
                <h2>Multi Timer</h2>
                <p>Cr√©ez des s√©quences de chronom√®tres personnalis√©es pour vos entra√Ænements</p>
            </div>

            <!-- Saved Sequences -->
            <div class="sequences-container">
                <div class="sequences-header">
                    <h3>Mes s√©quences</h3>
                    <button class="btn-primary btn-new-sequence" id="btnNewSequence">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        Nouvelle s√©quence
                    </button>
                </div>

                <div class="sequences-grid" id="sequencesGrid">
                    <!-- Default sequence: Simple Interval -->
                    <div class="sequence-card" data-sequence="interval-30-30">
                        <div class="sequence-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12,6 12,12 16,14"/>
                            </svg>
                        </div>
                        <h4>Intervalles 30/30</h4>
                        <p>30s effort / 30s repos √ó 8</p>
                        <div class="sequence-meta">
                            <span>8 cycles</span>
                            <span>‚Ä¢</span>
                            <span>8 min</span>
                        </div>
                        <div class="sequence-actions">
                            <button class="btn-start-sequence">D√©marrer</button>
                            <button class="btn-edit-sequence" title="Modifier">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 20h9M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Default sequence: Tabata -->
                    <div class="sequence-card" data-sequence="tabata">
                        <div class="sequence-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="13,2 3,14 12,14 11,22 21,10 12,10"/>
                            </svg>
                        </div>
                        <h4>Tabata</h4>
                        <p>20s effort / 10s repos √ó 8</p>
                        <div class="sequence-meta">
                            <span>8 cycles</span>
                            <span>‚Ä¢</span>
                            <span>4 min</span>
                        </div>
                        <div class="sequence-actions">
                            <button class="btn-start-sequence">D√©marrer</button>
                            <button class="btn-edit-sequence" title="Modifier">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 20h9M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Default sequence: Pyramide -->
                    <div class="sequence-card" data-sequence="pyramid">
                        <div class="sequence-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="12,2 22,22 2,22"/>
                            </svg>
                        </div>
                        <h4>Pyramide</h4>
                        <p>10-20-30-40-30-20-10s</p>
                        <div class="sequence-meta">
                            <span>7 phases</span>
                            <span>‚Ä¢</span>
                            <span>5.5 min</span>
                        </div>
                        <div class="sequence-actions">
                            <button class="btn-start-sequence">D√©marrer</button>
                            <button class="btn-edit-sequence" title="Modifier">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 20h9M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Placeholder for user sequences -->
                    <div class="sequence-card sequence-card-add" id="addSequenceCard">
                        <div class="sequence-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"/>
                                <line x1="5" y1="12" x2="19" y2="12"/>
                            </svg>
                        </div>
                        <h4>Cr√©er une s√©quence</h4>
                        <p>Personnalisez vos intervalles</p>
                    </div>
                </div>
            </div>

            <!-- Quick Timer -->
            <div class="quick-timer-section">
                <h3>Timer rapide</h3>
                <p>Chronom√®tre simple avec alarme</p>

                <div class="quick-timer-container">
                    <div class="quick-timer-inputs">
                        <div class="timer-input-group">
                            <input type="number" id="quickTimerMinutes" min="0" max="99" value="1" class="timer-input-large">
                            <span>min</span>
                        </div>
                        <span class="timer-separator-large">:</span>
                        <div class="timer-input-group">
                            <input type="number" id="quickTimerSeconds" min="0" max="59" value="0" class="timer-input-large">
                            <span>sec</span>
                        </div>
                    </div>

                    <div class="quick-timer-presets">
                        <button class="preset-btn" data-time="30">30s</button>
                        <button class="preset-btn" data-time="60">1min</button>
                        <button class="preset-btn" data-time="120">2min</button>
                        <button class="preset-btn" data-time="180">3min</button>
                        <button class="preset-btn" data-time="300">5min</button>
                    </div>

                    <div class="quick-timer-display" id="quickTimerDisplay">
                        <span class="timer-value" id="quickTimerValue">1:00</span>
                        <span class="timer-status" id="quickTimerStatus">Pr√™t</span>
                    </div>

                    <div class="quick-timer-controls">
                        <button class="btn-timer-control btn-timer-start" id="btnQuickTimerStart">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <polygon points="5,3 19,12 5,21"/>
                            </svg>
                            D√©marrer
                        </button>
                        <button class="btn-timer-control btn-timer-pause" id="btnQuickTimerPause" style="display: none;">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <rect x="6" y="4" width="4" height="16"/>
                                <rect x="14" y="4" width="4" height="16"/>
                            </svg>
                            Pause
                        </button>
                        <button class="btn-timer-control btn-timer-reset" id="btnQuickTimerReset">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                                <path d="M3 3v5h5"/>
                            </svg>
                            Reset
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Urgence Section -->
        <section class="section" id="urgence">
            <div class="section-header section-header-urgence">
                <h2>Urgence</h2>
                <p>Exercices rapides pour retrouver le calme en cas de panique, anxi√©t√© ou stress soudain</p>
            </div>

            <div class="urgence-intro">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M12 8v4M12 16h.01"/>
                </svg>
                <div>
                    <strong>En cas de crise</strong>
                    <p>Ces exercices sont con√ßus pour √™tre utilis√©s imm√©diatement lors d'un pic d'anxi√©t√© ou de panique. Commencez par le premier exercice et passez au suivant si n√©cessaire.</p>
                </div>
            </div>

            <div class="exercise-grid">
                <!-- Physiological Sigh - Fastest -->
                <div class="exercise-card exercise-card-urgence" data-exercise="physiological-sigh">
                    <div class="exercise-badge urgence-badge">30 sec</div>
                    <h3>Soupir Physiologique</h3>
                    <p>Le plus rapide : double inspiration + longue expiration. Effet imm√©diat sur le syst√®me nerveux.</p>
                    <div class="exercise-meta">
                        <span>30 sec</span>
                        <span>‚Ä¢</span>
                        <span>Effet imm√©diat</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-urgence">Commencer</button>
                    </div>
                </div>

                <!-- 5-5-5 Grounding -->
                <div class="exercise-card exercise-card-urgence" data-exercise="grounding-555">
                    <div class="exercise-badge urgence-badge">1-2 min</div>
                    <h3>Ancrage 5-5-5</h3>
                    <p>Technique de grounding : 5 choses vues, 5 entendues, 5 sensations tactiles. Reconnexion au pr√©sent.</p>
                    <div class="exercise-meta">
                        <span>1-2 min</span>
                        <span>‚Ä¢</span>
                        <span>Dissociation</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-urgence">Commencer</button>
                    </div>
                </div>

                <!-- Extended Exhale -->
                <div class="exercise-card exercise-card-urgence" data-exercise="extended-exhale">
                    <div class="exercise-badge urgence-badge">2 min</div>
                    <h3>Expiration Prolong√©e</h3>
                    <p>Inspiration 4s, expiration 8s. Active rapidement le nerf vague et le syst√®me parasympathique.</p>
                    <div class="exercise-meta">
                        <span>2 min</span>
                        <span>‚Ä¢</span>
                        <span>Calme rapide</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-urgence">Commencer</button>
                    </div>
                </div>

                <!-- Box Breathing Quick -->
                <div class="exercise-card exercise-card-urgence" data-exercise="box-quick">
                    <div class="exercise-badge urgence-badge">2-3 min</div>
                    <h3>Box Breathing Rapide</h3>
                    <p>Version courte 4-4-4-4. Reprend le contr√¥le de la respiration en quelques cycles.</p>
                    <div class="exercise-meta">
                        <span>2-3 min</span>
                        <span>‚Ä¢</span>
                        <span>Contr√¥le</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-urgence">Commencer</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pr√©-Performance Section -->
        <section class="section" id="preperformance">
            <div class="section-header section-header-preperf">
                <h2>Pr√©-Performance</h2>
                <p>Protocole de 5 minutes pour optimiser votre √©tat avant une plong√©e, comp√©tition ou moment important</p>
            </div>

            <div class="preperf-intro">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12,6 12,12 16,14"/>
                </svg>
                <div>
                    <strong>5 minutes avant</strong>
                    <p>Ce protocole combine respiration, relaxation et visualisation pour vous mettre dans l'√©tat optimal. Id√©al avant une plong√©e en apn√©e, une chasse sous-marine ou toute performance.</p>
                </div>
            </div>

            <div class="exercise-grid">
                <!-- Full 5-min Protocol -->
                <div class="exercise-card exercise-card-preperf exercise-card-featured" data-exercise="preperf-protocol">
                    <div class="exercise-badge preperf-badge">Protocole complet</div>
                    <h3>Protocole 5 Minutes</h3>
                    <p>S√©quence compl√®te : relaxation musculaire rapide, coh√©rence cardiaque, visualisation de succ√®s.</p>
                    <div class="exercise-meta">
                        <span>5 min</span>
                        <span>‚Ä¢</span>
                        <span>Complet</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-preperf">Commencer</button>
                    </div>
                </div>

                <!-- Dive Prep -->
                <div class="exercise-card exercise-card-preperf" data-exercise="dive-prep">
                    <div class="exercise-badge preperf-badge">Apn√©e</div>
                    <h3>Pr√©paration Plong√©e</h3>
                    <p>Breathe-up optimis√© : activation du r√©flexe de plong√©e, respiration diaphragmatique, visualisation de la descente.</p>
                    <div class="exercise-meta">
                        <span>5 min</span>
                        <span>‚Ä¢</span>
                        <span>Apn√©e / Chasse</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-preperf">Commencer</button>
                    </div>
                </div>

                <!-- Quick Coherence -->
                <div class="exercise-card exercise-card-preperf" data-exercise="quick-coherence">
                    <div class="exercise-badge preperf-badge">3 min</div>
                    <h3>Coh√©rence Express</h3>
                    <p>Coh√©rence cardiaque en 3 minutes : suffisant pour synchroniser c≈ìur et respiration avant l'action.</p>
                    <div class="exercise-meta">
                        <span>3 min</span>
                        <span>‚Ä¢</span>
                        <span>Focus</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-preperf">Commencer</button>
                    </div>
                </div>

                <!-- Power Visualization -->
                <div class="exercise-card exercise-card-preperf" data-exercise="power-viz">
                    <div class="exercise-badge preperf-badge">2 min</div>
                    <h3>Visualisation Express</h3>
                    <p>Visualisation rapide de votre performance parfaite. Ancrage de l'√©tat de confiance optimal.</p>
                    <div class="exercise-meta">
                        <span>2 min</span>
                        <span>‚Ä¢</span>
                        <span>Mental</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-preperf">Commencer</button>
                    </div>
                </div>

                <!-- Breathe-Up Structur√© -->
                <div class="exercise-card exercise-card-preperf" data-exercise="breathe-up-structure">
                    <div class="exercise-badge preperf-badge">Breathe-Up</div>
                    <h3>Breathe-Up Structur√©</h3>
                    <p>Pr√©paration pr√©-plong√©e en 3 phases : tidal 1:2, respiration segmentaire, inspiration finale en 3 √©tages.</p>
                    <div class="exercise-meta">
                        <span>6 min</span>
                        <span>‚Ä¢</span>
                        <span>Pr√©-Plong√©e</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-preperf">Commencer</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Auto-Hypnose Section -->
        <section class="section" id="autohypnose">
            <div class="section-header section-header-hypnose">
                <h2>Auto-Hypnose Apn√©e</h2>
                <p>Techniques avanc√©es de dissociation sensorielle et de flow-state pour apn√©istes</p>
            </div>

            <div class="hypnose-intro">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <circle cx="12" cy="12" r="6" opacity="0.5"/>
                    <circle cx="12" cy="12" r="2"/>
                </svg>
                <div>
                    <strong>Fragmentation Sensorielle VAKOG</strong>
                    <p>Ces techniques utilisent la dissociation visuelle, auditive, kinesth√©sique, olfactive et gustative pour modifier votre perception pendant l'apn√©e. Apprenez √† d√©placer votre attention et √† g√©rer les spasmes.</p>
                </div>
            </div>

            <div class="exercise-grid">
                <!-- Initiation Auto-Hypnose -->
                <div class="exercise-card exercise-card-hypnose exercise-card-featured" data-exercise="hypno-apnee-debutant">
                    <div class="exercise-badge hypnose-badge">D√©butant</div>
                    <h3>Initiation Auto-Hypnose</h3>
                    <p>D√©couvrez les bases de l'auto-hypnose : induction progressive, approfondissement et cr√©ation de votre ancre personnelle.</p>
                    <div class="exercise-meta">
                        <span>15 min</span>
                        <span>‚Ä¢</span>
                        <span>Fondamental</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>

                <!-- VAKOG Statique -->
                <div class="exercise-card exercise-card-hypnose" data-exercise="vakog-static">
                    <div class="exercise-badge hypnose-badge">Statique</div>
                    <h3>VAKOG Statique</h3>
                    <p>Fragmentation sensorielle compl√®te pour apn√©e statique. Technique de switch pour d√©placer l'attention des spasmes.</p>
                    <div class="exercise-meta">
                        <span>12 min</span>
                        <span>‚Ä¢</span>
                        <span>Gestion spasmes</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>

                <!-- Scan Sensoriel Circulaire -->
                <div class="exercise-card exercise-card-hypnose" data-exercise="scan-sensoriel">
                    <div class="exercise-badge hypnose-badge">Pendant apn√©e</div>
                    <h3>Scan Sensoriel Circulaire</h3>
                    <p>Parcours rapide des zones neutres du corps pour rediriger l'attention. Utilisable pendant l'apn√©e elle-m√™me.</p>
                    <div class="exercise-meta">
                        <span>8 min</span>
                        <span>‚Ä¢</span>
                        <span>Dissociation</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>

                <!-- Flow-State Dynamique -->
                <div class="exercise-card exercise-card-hypnose" data-exercise="flow-dynamique">
                    <div class="exercise-badge hypnose-badge">Dynamique</div>
                    <h3>Flow-State Dynamique</h3>
                    <p>Dissociation moteur/passager et mantra rythmique pour DNF et monopalme. Passez en mode automatique.</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>100m mono / DNF</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>

                <!-- M√©ditation L√¢cher-Prise -->
                <div class="exercise-card exercise-card-hypnose" data-exercise="meditation-lacher-prise">
                    <div class="exercise-badge hypnose-badge">L√¢cher-prise</div>
                    <h3>M√©ditation L√¢cher-Prise</h3>
                    <p>Apprendre √† ne plus lutter : respiration passive, acceptation ACT et conditionnement par mot-cl√© "l√¢che".</p>
                    <div class="exercise-meta">
                        <span>10 min</span>
                        <span>‚Ä¢</span>
                        <span>Mental / Anxi√©t√©</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>

                <!-- Programme Dry-to-Wet Bridge -->
                <div class="exercise-card exercise-card-hypnose exercise-card-featured" data-exercise="dry-to-wet-bridge">
                    <div class="exercise-badge hypnose-badge">Programme 8 sem.</div>
                    <h3>Programme Dry-to-Wet</h3>
                    <p>Guide en 8 semaines pour transf√©rer vos performances du sec vers l'eau. R√©duit l'anxi√©t√© aquatique progressivement.</p>
                    <div class="exercise-meta">
                        <span>12 min</span>
                        <span>‚Ä¢</span>
                        <span>Transfert Eau</span>
                    </div>
                    <div class="exercise-actions">
                        <button class="btn-start btn-start-hypnose">Commencer</button>
                    </div>
                </div>
            </div>

            <div class="hypnose-tips">
                <h4>Conseils d'utilisation</h4>
                <ul>
                    <li><strong>Ancre pouce-index :</strong> Pressez l√©g√®rement votre pouce contre votre index pour activer instantan√©ment l'√©tat de calme.</li>
                    <li><strong>Entra√Ænez-vous √† sec :</strong> Pratiquez ces techniques hors de l'eau avant de les utiliser en apn√©e r√©elle.</li>
                    <li><strong>Mantra Glisse-Rel√¢che :</strong> Utilisez ce rythme mental pendant vos dynamiques pour entrer en mode automatique.</li>
                    <li><strong>Switch rapide :</strong> D√®s qu'un spasme arrive, d√©placez votre attention sur le lobe d'oreille ou le petit orteil.</li>
                </ul>
            </div>
        </section>

        <!-- Guide Section -->
        <section class="section" id="guide">
            <div class="section-header">
                <h2>Guide des exercices</h2>
                <p>Choisissez vos exercices selon votre objectif, votre niveau et votre blocage principal</p>
            </div>

            <!-- Objective Filter -->
            <div class="guide-filters">
                <h3 class="guide-filter-title">Quel est votre objectif ?</h3>
                <div class="guide-objective-grid">
                    <button class="guide-objective-btn active" data-objective="all">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 12l3 3 5-5"/></svg>
                        Tout voir
                    </button>
                    <button class="guide-objective-btn" data-objective="static">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 8v8"/></svg>
                        Apn√©e statique
                    </button>
                    <button class="guide-objective-btn" data-objective="dynamic">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 12h8M13 8l4 4-4 4"/></svg>
                        Apn√©e dynamique
                    </button>
                    <button class="guide-objective-btn" data-objective="depth">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v12M8 14l4 4 4-4"/></svg>
                        Profondeur
                    </button>
                    <button class="guide-objective-btn" data-objective="spearfishing">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v12M9 9l3-3 3 3"/></svg>
                        Chasse sous-marine
                    </button>
                    <button class="guide-objective-btn" data-objective="anxiety">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 8v4M12 16h.01"/></svg>
                        L√¢cher-prise / Anxi√©t√©
                    </button>
                    <button class="guide-objective-btn" data-objective="contractions">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                        Tol√©rance contractions
                    </button>
                    <button class="guide-objective-btn" data-objective="drytowet">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v6M12 22v-6M2 12h6M22 12h-6"/><circle cx="12" cy="12" r="4"/></svg>
                        Transfert sec &rarr; eau
                    </button>
                </div>
            </div>

            <!-- Level Filter -->
            <div class="guide-level-filter">
                <span class="guide-level-label">Niveau :</span>
                <button class="guide-level-btn active" data-level="all">Tous</button>
                <button class="guide-level-btn" data-level="beginner">D√©butant</button>
                <button class="guide-level-btn" data-level="intermediate">Interm√©diaire</button>
                <button class="guide-level-btn" data-level="advanced">Avanc√©</button>
            </div>

            <!-- Result count -->
            <div class="guide-result-count" id="guideResultCount">
                <strong>24</strong> exercices disponibles
            </div>

            <!-- Guide Recommendations -->
            <div class="guide-recommendations" id="guideRecommendations">

                <!-- RESPIRATION -->
                <div class="guide-category" data-cat="respiration">
                    <h3 class="guide-category-title">Respiration</h3>
                    <div class="guide-exercises-list">

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing,anxiety" data-level="beginner" data-exercise-id="cyclic-sighing">
                            <div class="guide-exercise-header">
                                <h4>Cyclic Sighing</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Double inspiration + longue expiration. Active le syst√®me parasympathique en 5 min. Id√©al pour d√©marrer chaque session.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Pr√©-session</span>
                                <span class="guide-tag">Anti-stress</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant chaque entra√Ænement d'apn√©e, ou en cas de stress quotidien.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing,anxiety" data-level="beginner" data-exercise-id="coherent">
                            <div class="guide-exercise-header">
                                <h4>Coh√©rence Cardiaque</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Respiration √† 5.5s/5.5s qui synchronise le c≈ìur et le syst√®me nerveux. R√©duit le cortisol de 23%.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Quotidien</span>
                                <span class="guide-tag">HRV</span>
                                <span class="guide-tag">10 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Matin et soir, 10 min. Fondation de tout entra√Ænement respiratoire.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,anxiety" data-level="beginner" data-exercise-id="box">
                            <div class="guide-exercise-header">
                                <h4>Box Breathing</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Carr√© respiratoire 4-4-4-4. Calme mental profond, utilis√© par les Navy SEALs.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Calme mental</span>
                                <span class="guide-tag">Focus</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant une apn√©e stressante ou pour retrouver le calme rapidement.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic" data-level="intermediate" data-exercise-id="co2-tolerance">
                            <div class="guide-exercise-header">
                                <h4>Tol√©rance au CO2</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Expirations prolong√©es (ratio 1:2) pour augmenter progressivement la tol√©rance au CO2.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">CO2</span>
                                <span class="guide-tag">Confort</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Quotidien. Compl√©ment aux tables CO2 pour augmenter le seuil de tol√©rance.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth" data-level="intermediate" data-exercise-id="wimhof">
                            <div class="guide-exercise-header">
                                <h4>Wim Hof</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Hyperventilation contr√¥l√©e + r√©tention. Repousse les limites et conditionne au froid.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Limites</span>
                                <span class="guide-tag">√ânergie</span>
                                <span class="guide-tag">~15 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 2-3x/semaine. <strong>Jamais</strong> juste avant une apn√©e en eau (risque de syncope).</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,anxiety" data-level="beginner" data-exercise-id="relaxation">
                            <div class="guide-exercise-header">
                                <h4>Relaxation 4-7-8</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Inspirez 4s, retenez 7s, expirez 8s. Effet tranquillisant naturel puissant.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">D√©tente profonde</span>
                                <span class="guide-tag">Sommeil</span>
                                <span class="guide-tag">~5 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Le soir ou avant une session de visualisation/hypnose.</p>
                        </div>

                    </div>
                </div>

                <!-- APN√âE -->
                <div class="guide-category" data-cat="apnee">
                    <h3 class="guide-category-title">Apn√©e</h3>
                    <div class="guide-exercises-list">

                        <div class="guide-exercise-item" data-objectives="static" data-level="intermediate" data-exercise-id="co2-table">
                            <div class="guide-exercise-header">
                                <h4>Table CO2</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Apn√©es fixes avec repos d√©croissant. Augmente la tol√©rance au CO2 et recule le seuil des contractions.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">CO2</span>
                                <span class="guide-tag">Contractions</span>
                                <span class="guide-tag">8 cycles</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 3-4x/semaine. Pilier de l'entra√Ænement statique. Alterner avec Table O2.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static" data-level="intermediate" data-exercise-id="o2-table">
                            <div class="guide-exercise-header">
                                <h4>Table O2</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Repos fixe avec apn√©es croissantes. Habitue le corps √† des niveaux d'O2 plus bas.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">O2</span>
                                <span class="guide-tag">Endurance</span>
                                <span class="guide-tag">8 cycles</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 2-3x/semaine en alternance avec Table CO2. Plus √©prouvant.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic" data-level="beginner" data-exercise-id="no-contraction">
                            <div class="guide-exercise-header">
                                <h4>Table Sans Contraction</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Apn√©es courtes sans jamais atteindre les contractions. Construit la confiance et le confort.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Confiance</span>
                                <span class="guide-tag">Confort</span>
                                <span class="guide-tag">6 cycles</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Id√©al pour d√©buter ou reprendre apr√®s une pause. Aussi pour les jours "cool".</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,contractions" data-level="advanced" data-exercise-id="contraction-tolerance">
                            <div class="guide-exercise-header">
                                <h4>Tol√©rance Contractions</h4>
                                <span class="guide-badge guide-badge-advanced">Avanc√©</span>
                            </div>
                            <p class="guide-exercise-desc">Apn√©e avec suivi des spasmes + coaching vocal de reframing. Le bouton "Contraction" marque chaque spasme et d√©clenche un message de recadrage cognitif. L'apn√©e se termine automatiquement X secondes apr√®s la 1√®re contraction (progressif sur 6 semaines).</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Contractions</span>
                                <span class="guide-tag">Reframing</span>
                                <span class="guide-tag">4 cycles</span>
                                <span class="guide-tag">Progressif</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 2-3x/semaine. Essentiel si les contractions vous font paniquer. Programme 6 semaines.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,anxiety" data-level="intermediate" data-exercise-id="body-scan-apnea">
                            <div class="guide-exercise-header">
                                <h4>Body Scan Apn√©e</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Apn√©e guid√©e avec scan corporel qui parcourt 10 zones pendant la r√©tention. D√©place l'attention loin de l'envie de respirer. 3 modes : scan normal ‚Üí silence ‚Üí scan rapide en fin de hold.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Distraction</span>
                                <span class="guide-tag">Relaxation</span>
                                <span class="guide-tag">3 cycles</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 2-3x/semaine. Id√©al pour ceux qui "pensent trop" pendant l'apn√©e.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing" data-level="beginner" data-exercise-id="hook-breathing">
                            <div class="guide-exercise-header">
                                <h4>Hook Breathing</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Technique de s√©curit√© post-apn√©e. 3 rounds progressifs pour automatiser ce r√©flexe vital qui pr√©vient le blackout.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">S√©curit√©</span>
                                <span class="guide-tag">R√©cup√©ration</span>
                                <span class="guide-tag">8 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Pratiquer jusqu'√† ce que ce soit un r√©flexe. Puis √† chaque sortie de l'eau apr√®s une apn√©e.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="depth,spearfishing" data-level="beginner" data-exercise-id="dive-reflex">
                            <div class="guide-exercise-header">
                                <h4>R√©flexe de Plong√©e</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Stimule le r√©flexe mammalien de plong√©e par immersion faciale dans l'eau froide. Bradycardie naturelle.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Bradycardie</span>
                                <span class="guide-tag">Adaptation</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 3-4x/semaine. Fondamental pour le transfert sec ‚Üí eau.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,depth" data-level="intermediate" data-exercise-id="diaphragm">
                            <div class="guide-exercise-header">
                                <h4>Respiration Diaphragmatique</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Entra√Æne sp√©cifiquement le diaphragme pour augmenter la capacit√© pulmonaire et le contr√¥le respiratoire.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Diaphragme</span>
                                <span class="guide-tag">Capacit√©</span>
                                <span class="guide-tag">10 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Quotidien si possible. Am√©liore toutes les techniques d'apn√©e.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="depth" data-level="intermediate" data-exercise-id="lung-stretch">
                            <div class="guide-exercise-header">
                                <h4>√âtirements Pulmonaires</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Augmente la souplesse thoracique et la capacit√© vitale. Important pour la profondeur.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Souplesse</span>
                                <span class="guide-tag">Capacit√© vitale</span>
                                <span class="guide-tag">~10 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant les sessions de profondeur. 3-4x/semaine.</p>
                        </div>

                    </div>
                </div>

                <!-- PR√â-PERFORMANCE -->
                <div class="guide-category" data-cat="preperf">
                    <h3 class="guide-category-title">Pr√©-Performance</h3>
                    <div class="guide-exercises-list">

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing" data-level="intermediate" data-exercise-id="breathe-up-structure">
                            <div class="guide-exercise-header">
                                <h4>Breathe-Up Structur√©</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Pr√©paration pr√©-plong√©e en 3 phases : tidal 1:2, respiration segmentaire, inspiration finale 3 √©tages. Optimise SpO2 sans hyperventiler.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Pr√©-plong√©e</span>
                                <span class="guide-tag">SpO2</span>
                                <span class="guide-tag">6 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant CHAQUE apn√©e en eau. Le rituel le plus important de l'apn√©iste.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing" data-level="intermediate" data-exercise-id="preperf-protocol">
                            <div class="guide-exercise-header">
                                <h4>Protocole Pr√©-Performance</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Protocole complet de 5 min : centrage, activation parasympathique, visualisation rapide, mot-cl√© d'ancrage.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Complet</span>
                                <span class="guide-tag">Comp√©tition</span>
                                <span class="guide-tag">5 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant une comp√©tition ou une tentative de record personnel.</p>
                        </div>

                    </div>
                </div>

                <!-- VISUALISATION -->
                <div class="guide-category" data-cat="visu">
                    <h3 class="guide-category-title">Visualisation</h3>
                    <div class="guide-exercises-list">

                        <div class="guide-exercise-item" data-objectives="depth,dynamic" data-level="intermediate" data-exercise-id="pettlep">
                            <div class="guide-exercise-header">
                                <h4>PETTLEP</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Visualisation multi-sensorielle en 7 dimensions. Simule mentalement une plong√©e compl√®te avec tous les sens.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Visualisation</span>
                                <span class="guide-tag">Profondeur</span>
                                <span class="guide-tag">~10 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 3-4x/semaine. Particuli√®rement utile si vous ne pouvez pas plonger souvent.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,anxiety" data-level="beginner" data-exercise-id="body-scan">
                            <div class="guide-exercise-header">
                                <h4>Body Scan</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Scan corporel zone par zone pour une relaxation compl√®te. Base de la conscience corporelle.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Relaxation</span>
                                <span class="guide-tag">Conscience</span>
                                <span class="guide-tag">~15 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Quotidien si anxieux. Sinon 2-3x/semaine. Excellent avant le sommeil.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,anxiety" data-level="beginner" data-exercise-id="sophro">
                            <div class="guide-exercise-header">
                                <h4>Sophrologie</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Relaxation dynamique progressive par zones corporelles. Tr√®s utilis√©e chez les apn√©istes francophones.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">D√©tente</span>
                                <span class="guide-tag">Zones</span>
                                <span class="guide-tag">~12 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant les sessions de visualisation ou d'hypnose.</p>
                        </div>

                    </div>
                </div>

                <!-- AUTO-HYPNOSE -->
                <div class="guide-category" data-cat="hypnose">
                    <h3 class="guide-category-title">Auto-Hypnose / Mental</h3>
                    <div class="guide-exercises-list">

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,anxiety,drytowet" data-level="beginner" data-exercise-id="meditation-lacher-prise">
                            <div class="guide-exercise-header">
                                <h4>M√©ditation L√¢cher-Prise</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Respiration passive + surrender progressif + acceptation ACT + conditionnement au mot-cl√© "l√¢che". Apprend √† ne plus lutter contre les sensations.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">L√¢cher-prise</span>
                                <span class="guide-tag">ACT</span>
                                <span class="guide-tag">Mot-cl√©</span>
                                <span class="guide-tag">10 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Quotidien si le l√¢cher-prise est votre blocage. Avant les sessions d'apn√©e. Fondamental.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,drytowet" data-level="intermediate" data-exercise-id="dry-to-wet-bridge">
                            <div class="guide-exercise-header">
                                <h4>Programme Dry-to-Wet</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Programme structur√© de 8 semaines pour combler l'√©cart entre performances √† sec et en eau. D√©sensibilisation progressive : dry ‚Üí immersion faciale ‚Üí baignoire ‚Üí piscine buddy ‚Üí extension.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Transfert</span>
                                <span class="guide-tag">8 semaines</span>
                                <span class="guide-tag">Progressif</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Si votre apn√©e en eau est bien inf√©rieure √† votre dry. Suivre le programme semaine par semaine.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="static,dynamic,depth,spearfishing" data-level="beginner" data-exercise-id="hypno-apnee-debutant">
                            <div class="guide-exercise-header">
                                <h4>Hypno-Apn√©e D√©butant</h4>
                                <span class="guide-badge guide-badge-beginner">D√©butant</span>
                            </div>
                            <p class="guide-exercise-desc">Initiation √† l'auto-hypnose sp√©cifique apn√©istes. Cr√©ation de votre ancre personnelle de calme profond.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Hypnose</span>
                                <span class="guide-tag">Ancrage</span>
                                <span class="guide-tag">~15 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> 2x/semaine minimum. L'ancre devient plus puissante avec la r√©p√©tition.</p>
                        </div>

                        <div class="guide-exercise-item" data-objectives="dynamic,depth" data-level="intermediate" data-exercise-id="flow-dynamique">
                            <div class="guide-exercise-header">
                                <h4>Flow-State Dynamique</h4>
                                <span class="guide-badge guide-badge-intermediate">Interm√©diaire</span>
                            </div>
                            <p class="guide-exercise-desc">Mantras rythmiques "Glisse-Rel√¢che" pour entrer en flow pendant les dynamiques et les descentes.</p>
                            <div class="guide-tags">
                                <span class="guide-tag">Flow</span>
                                <span class="guide-tag">Dynamique</span>
                                <span class="guide-tag">~12 min</span>
                            </div>
                            <p class="guide-when"><strong>Quand :</strong> Avant vos sessions de dynamique ou de profondeur.</p>
                        </div>

                    </div>
                </div>

                <!-- No results -->
                <div class="guide-no-results" id="guideNoResults" style="display:none;">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
                    <p>Aucun exercice ne correspond √† cette combinaison de filtres.<br>Essayez un autre objectif ou niveau.</p>
                </div>

            </div>

            <!-- Quick Programs -->
            <div class="guide-programs">
                <h3 class="guide-category-title">Programmes sugg√©r√©s</h3>

                <div class="guide-program-cards">
                    <div class="guide-program-card">
                        <h4>D√©butant ‚Äî Semaines 1-4</h4>
                        <p>Construire les fondations</p>
                        <ol class="guide-program-list">
                            <li><strong>Quotidien :</strong> Coh√©rence Cardiaque (10 min)</li>
                            <li><strong>Quotidien :</strong> M√©ditation L√¢cher-Prise (10 min)</li>
                            <li><strong>3x/sem :</strong> Table Sans Contraction</li>
                            <li><strong>2x/sem :</strong> Body Scan ou Sophrologie</li>
                            <li><strong>1x/sem :</strong> Hook Breathing (jusqu'√† automatisme)</li>
                        </ol>
                    </div>

                    <div class="guide-program-card">
                        <h4>Interm√©diaire ‚Äî Semaines 5-12</h4>
                        <p>Augmenter la tol√©rance et le confort</p>
                        <ol class="guide-program-list">
                            <li><strong>Quotidien :</strong> Cyclic Sighing + Coh√©rence (15 min)</li>
                            <li><strong>3x/sem :</strong> Table CO2 (alterner avec Table O2)</li>
                            <li><strong>2x/sem :</strong> Body Scan Apn√©e</li>
                            <li><strong>2x/sem :</strong> Tol√©rance Contractions</li>
                            <li><strong>2x/sem :</strong> Hypno-Apn√©e + PETTLEP</li>
                            <li><strong>Avant chaque apn√©e :</strong> Breathe-Up Structur√©</li>
                        </ol>
                    </div>

                    <div class="guide-program-card">
                        <h4>Transfert Sec &rarr; Eau</h4>
                        <p>Sp√©cial √©cart dry/wet important</p>
                        <ol class="guide-program-list">
                            <li><strong>Suivre :</strong> Programme Dry-to-Wet (8 semaines)</li>
                            <li><strong>Quotidien :</strong> M√©ditation L√¢cher-Prise</li>
                            <li><strong>3x/sem :</strong> R√©flexe de Plong√©e</li>
                            <li><strong>2x/sem :</strong> Tol√©rance Contractions</li>
                            <li><strong>Avant l'eau :</strong> Breathe-Up Structur√©</li>
                            <li><strong>Apr√®s l'eau :</strong> Hook Breathing (toujours !)</li>
                        </ol>
                    </div>
                </div>
            </div>

        </section>

        <!-- Coach AI Section -->
        <section class="section" id="coach">
            <div class="section-header">
                <h2>Coach IA</h2>
                <p>Entrainement apnee au sec ‚Äî programmes adaptes a ton niveau</p>
            </div>

            <!-- Quick Stats Bar -->
            <div class="coach-stats-bar">
                <div class="coach-stat">
                    <span class="coach-stat-value" id="coachTotalSessions">0</span>
                    <span class="coach-stat-label">Sessions</span>
                </div>
                <div class="coach-stat">
                    <span class="coach-stat-value" id="coachStreak">0</span>
                    <span class="coach-stat-label">Serie (j)</span>
                </div>
                <div class="coach-stat">
                    <span class="coach-stat-value" id="coachAvgStressReduction">-</span>
                    <span class="coach-stat-label">Stress reduit</span>
                </div>
            </div>

            <!-- Athlete Profile -->
            <div class="coach-profile-card">
                <div class="coach-profile-header" id="coachProfileToggle">
                    <h3>Mon profil</h3>
                    <svg class="coach-profile-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6,9 12,15 18,9"/>
                    </svg>
                </div>
                <div class="coach-profile-body collapsed" id="coachProfileBody">

                    <!-- Physio -->
                    <div class="profile-group">
                        <h4>Physio</h4>
                        <div class="profile-row">
                            <label>Age</label>
                            <input type="number" id="profileAge" min="10" max="99" placeholder="-" data-profile="age">
                            <span class="profile-unit">ans</span>
                        </div>
                        <div class="profile-row">
                            <label>Taille</label>
                            <input type="number" id="profileHeight" min="100" max="220" placeholder="-" data-profile="height">
                            <span class="profile-unit">cm</span>
                        </div>
                        <div class="profile-row">
                            <label>Poids</label>
                            <input type="number" id="profileWeight" min="30" max="200" placeholder="-" data-profile="weight">
                            <span class="profile-unit">kg</span>
                        </div>
                        <div class="profile-row">
                            <label>VO2max estimee</label>
                            <input type="number" id="profileVo2max" min="20" max="90" placeholder="-" data-profile="vo2max">
                            <span class="profile-unit">ml/kg/min</span>
                        </div>
                        <div class="profile-row">
                            <label>FC repos</label>
                            <input type="number" id="profileHrRest" min="30" max="120" placeholder="-" data-profile="hrRest">
                            <span class="profile-unit">bpm</span>
                        </div>
                    </div>

                    <!-- Apnee -->
                    <div class="profile-group">
                        <h4>Apnee</h4>
                        <div class="profile-row">
                            <label>Statique max (sec)</label>
                            <input type="number" id="profileStaticMax" min="0" max="600" placeholder="-" data-profile="staticMax">
                            <span class="profile-unit">sec</span>
                        </div>
                        <div class="profile-row">
                            <label>Statique dry max</label>
                            <input type="number" id="profileStaticDry" min="0" max="600" placeholder="-" data-profile="staticDry">
                            <span class="profile-unit">sec</span>
                        </div>
                        <div class="profile-row">
                            <label>Dynamique max</label>
                            <input type="number" id="profileDynMax" min="0" max="300" placeholder="-" data-profile="dynMax">
                            <span class="profile-unit">m</span>
                        </div>
                        <div class="profile-row">
                            <label>Profondeur max</label>
                            <input type="number" id="profileDepthMax" min="0" max="150" placeholder="-" data-profile="depthMax">
                            <span class="profile-unit">m</span>
                        </div>
                        <div class="profile-row">
                            <label>Premiere contraction (sec)</label>
                            <input type="number" id="profileFirstContraction" min="0" max="600" placeholder="-" data-profile="firstContraction">
                            <span class="profile-unit">sec</span>
                        </div>
                        <div class="profile-row">
                            <label>Niveau</label>
                            <select id="profileApneaLevel" data-profile="apneaLevel">
                                <option value="">-</option>
                                <option value="debutant">Debutant (< 1min30 statique)</option>
                                <option value="intermediaire">Intermediaire (1min30 - 3min)</option>
                                <option value="avance">Avance (3min - 5min)</option>
                                <option value="expert">Expert (> 5min)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Sport & Entrainement -->
                    <div class="profile-group">
                        <h4>Sport & Entrainement</h4>
                        <div class="profile-row">
                            <label>Sport(s) principal(aux)</label>
                            <input type="text" id="profileSports" placeholder="Ex: apnee, natation, course..." data-profile="sports">
                        </div>
                        <div class="profile-row">
                            <label>Frequence entrainement</label>
                            <select id="profileTrainingFreq" data-profile="trainingFreq">
                                <option value="">-</option>
                                <option value="1-2">1-2x / semaine</option>
                                <option value="3-4">3-4x / semaine</option>
                                <option value="5+">5+ / semaine</option>
                                <option value="quotidien">Quotidien</option>
                            </select>
                        </div>
                        <div class="profile-row">
                            <label>Etat actuel</label>
                            <select id="profileCurrentState" data-profile="currentState">
                                <option value="">-</option>
                                <option value="reprise">Reprise apres pause</option>
                                <option value="base">Construction de base</option>
                                <option value="progression">En progression</option>
                                <option value="plateau">Plateau</option>
                                <option value="pic">Pic de forme</option>
                                <option value="fatigue">Fatigue / surentrainement</option>
                            </select>
                        </div>
                        <div class="profile-row profile-row-full">
                            <label>Notes libres</label>
                            <textarea id="profileNotes" rows="2" placeholder="Blessures, contraintes, preferences..." data-profile="notes"></textarea>
                        </div>
                    </div>

                    <div class="profile-actions">
                        <button class="btn-primary btn-sm" id="btnSaveProfile">Enregistrer le profil</button>
                    </div>
                </div>
            </div>

            <!-- Chat Interface -->
            <div class="coach-chat-container">
                <div class="coach-chat-messages" id="coachMessages">
                    <!-- Welcome message inserted by JS -->
                </div>

                <!-- Input Zone (quick actions + textarea) -->
                <div class="coach-input-zone">
                    <div class="coach-quick-actions" id="coachQuickActions">
                        <button class="coach-quick-btn" data-prompt="Seance apnee au sec pour aujourd'hui">
                            Apnee sec
                        </button>
                        <button class="coach-quick-btn" data-prompt="Programme-moi une semaine d'entrainement">
                            Programme
                        </button>
                        <button class="coach-quick-btn" data-prompt="Bilan de ma progression et axes d'amelioration">
                            Bilan
                        </button>
                        <button class="coach-quick-btn" data-prompt="Je suis stresse, j'ai besoin de redescendre">
                            Stress
                        </button>
                    </div>
                    <div class="coach-chat-input">
                        <button class="coach-attach-btn" id="coachAttachBtn" title="Joindre un fichier (.docx, .txt, .pdf)">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/>
                            </svg>
                        </button>
                        <input type="file" id="coachFileInput" accept=".docx,.txt,.doc" style="display:none">
                        <div class="coach-input-wrapper">
                            <div class="coach-attached-file" id="coachAttachedFile" style="display:none">
                                <span class="attached-file-name" id="attachedFileName"></span>
                                <button class="attached-file-remove" id="attachedFileRemove">&times;</button>
                            </div>
                            <textarea id="coachInput" rows="2"
                                placeholder="Demande une seance, un programme, un bilan..."
                                maxlength="2000"></textarea>
                        </div>
                        <button class="coach-send-btn" id="coachSendBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="22" y1="2" x2="11" y2="13"/>
                                <polygon points="22 2 15 22 11 13 2 9 22 2"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Recent Sessions -->
            <div class="coach-recent-section">
                <h3>Sessions recentes</h3>
                <div class="coach-sessions-list" id="coachSessionsList">
                    <!-- Populated by JS -->
                </div>
                <div class="coach-data-actions">
                    <button class="btn-secondary" id="btnExportSessions">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:4px;">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        JSON
                    </button>
                    <button class="btn-secondary" id="btnExportExcel">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:4px;">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="8" y1="13" x2="16" y2="13"/>
                            <line x1="8" y1="17" x2="16" y2="17"/>
                        </svg>
                        Excel
                    </button>
                    <button class="btn-secondary" id="btnExportWord">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:4px;">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="8" y1="13" x2="16" y2="13"/>
                        </svg>
                        Rapport
                    </button>
                    <button class="btn-secondary" id="btnImportSessions">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;vertical-align:middle;margin-right:4px;">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="17,8 12,3 7,8"/>
                            <line x1="12" y1="3" x2="12" y2="15"/>
                        </svg>
                        Importer
                    </button>
                    <input type="file" id="importSessionsFile" accept=".json,.xlsx" style="display:none">
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section class="section" id="settings">
            <div class="section-header">
                <h2>Param√®tres</h2>
                <p>Personnalisez tous les exercices selon vos capacit√©s</p>
            </div>

            <!-- Global Settings -->
            <div class="settings-card settings-global">
                <h3>Mode de configuration</h3>
                <div class="settings-mode-toggle">
                    <button class="mode-btn active" data-mode="auto">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 6v6l4 2"/>
                        </svg>
                        <span>Automatique</span>
                        <small>Bas√© sur votre apn√©e max</small>
                    </button>
                    <button class="mode-btn" data-mode="manual">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 20h9M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/>
                        </svg>
                        <span>Manuel</span>
                        <small>Param√®tres personnalis√©s</small>
                    </button>
                </div>

                <!-- Apnea Base Time (always visible) -->
                <div class="apnea-base-setting-global">
                    <label>Temps d'apn√©e maximum de r√©f√©rence</label>
                    <div class="apnea-input-group">
                        <div class="time-input">
                            <input type="number" id="apneaMinutes" min="0" max="10" value="2" class="time-field">
                            <span>min</span>
                        </div>
                        <span class="time-separator">:</span>
                        <div class="time-input">
                            <input type="number" id="apneaSeconds" min="0" max="59" value="0" class="time-field">
                            <span>sec</span>
                        </div>
                        <button class="btn-test-inline" id="btnQuickTest">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5,3 19,12 5,21"/>
                            </svg>
                            Tester
                        </button>
                    </div>
                    <p class="setting-hint" id="apneaHint">En mode auto, les exercices seront calcul√©s en % de ce temps</p>
                </div>

                <!-- Auto Mode: Percentages -->
                <div class="settings-auto-panel" id="autoPanel">
                    <div class="auto-percentages">
                        <h4>Pourcentages utilis√©s pour les tables d'apn√©e</h4>
                        <div class="percentage-grid">
                            <div class="percentage-item">
                                <label>Table CO2 (apn√©e constante)</label>
                                <div class="range-with-value">
                                    <input type="range" min="30" max="70" value="50" id="co2HoldPercent">
                                    <span class="range-value" id="co2HoldValue">50%</span>
                                </div>
                                <span class="computed-value" id="co2Computed">= 60 sec</span>
                            </div>
                            <div class="percentage-item">
                                <label>Table O2 (d√©but ‚Üí fin)</label>
                                <div class="dual-range">
                                    <div class="range-with-value">
                                        <input type="range" min="20" max="50" value="30" id="o2StartPercent">
                                        <span class="range-value" id="o2StartValue">30%</span>
                                    </div>
                                    <span>‚Üí</span>
                                    <div class="range-with-value">
                                        <input type="range" min="60" max="90" value="75" id="o2EndPercent">
                                        <span class="range-value" id="o2EndValue">75%</span>
                                    </div>
                                </div>
                                <span class="computed-value" id="o2Computed">= 36 ‚Üí 90 sec</span>
                            </div>
                            <div class="percentage-item">
                                <label>Table sans contraction</label>
                                <div class="range-with-value">
                                    <input type="range" min="20" max="50" value="30" id="noContractionPercent">
                                    <span class="range-value" id="noContractionValue">30%</span>
                                </div>
                                <span class="computed-value" id="noContractionComputed">= 36 sec</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Manual Mode Panel -->
                <div class="settings-manual-panel" id="manualPanel" style="display: none;">
                    <p class="manual-hint">En mode manuel, d√©finissez les dur√©es exactes dans chaque section ci-dessous.</p>
                </div>
            </div>

            <!-- Respiration Settings -->
            <div class="settings-card">
                <div class="settings-card-header">
                    <h3>Respiration</h3>
                    <button class="btn-expand expanded" data-target="respirationSettings">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </button>
                </div>
                <div class="settings-card-body" id="respirationSettings">
                    <!-- Cyclic Sighing -->
                    <div class="exercise-settings" data-exercise="cyclic-sighing">
                        <h4>Cyclic Sighing</h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="30" value="5" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>1√®re inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="10" value="2" step="0.5" data-param="inhale1">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>2√®me inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="0.5" max="5" value="1" step="0.5" data-param="inhale2">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Expiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="15" value="6" step="0.5" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Coherent Breathing -->
                    <div class="exercise-settings" data-exercise="coherent">
                        <h4>Respiration Coh√©rente</h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="60" value="10" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="3" max="10" value="5.5" step="0.5" data-param="inhale">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Expiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="3" max="10" value="5.5" step="0.5" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Box Breathing -->
                    <div class="exercise-settings" data-exercise="box">
                        <h4>Box Breathing</h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="30" value="5" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Dur√©e de chaque phase</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="10" value="4" data-param="boxTime">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Wim Hof -->
                    <div class="exercise-settings" data-exercise="wimhof">
                        <h4>M√©thode Wim Hof</h4>
                        <div class="settings-row">
                            <label>Nombre de rounds</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="5" value="3" data-param="rounds">
                                <span>rounds</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Respirations par round</label>
                            <div class="input-with-unit">
                                <input type="number" min="20" max="50" value="30" data-param="breaths">
                                <span>resp.</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>R√©cup√©ration</label>
                            <div class="input-with-unit">
                                <input type="number" min="10" max="30" value="15" data-param="recovery">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- CO2 Tolerance -->
                    <div class="exercise-settings" data-exercise="co2-tolerance">
                        <h4>Tol√©rance CO2</h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="20" value="5" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="8" value="4" data-param="inhale">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Expiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="16" value="8" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- 4-7-8 -->
                    <div class="exercise-settings" data-exercise="relaxation">
                        <h4>Respiration 4-7-8</h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="10" value="4" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Inspiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="8" value="4" data-param="inhale">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>R√©tention</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="14" value="7" data-param="hold">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Expiration</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="16" value="8" data-param="exhale">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Visualisation Settings -->
            <div class="settings-card">
                <div class="settings-card-header">
                    <h3>Visualisation</h3>
                    <button class="btn-expand expanded" data-target="visualisationSettings">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </button>
                </div>
                <div class="settings-card-body" id="visualisationSettings">
                    <!-- Global guided timing mode -->
                    <div class="exercise-settings guided-timing-global">
                        <h4>Mode de timing guid√©</h4>
                        <div class="settings-row">
                            <label>Timing</label>
                            <div class="guided-timing-toggle">
                                <button class="timing-btn active" data-timing="adaptive">Adaptatif (voix)</button>
                                <button class="timing-btn" data-timing="fixed">Fixe (chrono)</button>
                            </div>
                        </div>
                        <div class="settings-row adaptive-setting">
                            <label>Pause apr√®s instruction</label>
                            <div class="input-with-unit">
                                <input type="number" min="3" max="60" value="8" data-param="guidedPauseAfterVoice" id="guidedPauseAfterVoice">
                                <span>sec</span>
                            </div>
                        </div>
                        <p class="settings-hint" id="guidedTimingHint">Mode adaptatif : le timer attend la fin de l'instruction vocale + pause</p>
                    </div>

                    <!-- Body Scan -->
                    <div class="exercise-settings" data-exercise="body-scan">
                        <h4>Body Scan</h4>
                        <div class="settings-row fixed-timing-setting">
                            <label>Dur√©e par zone</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="180" value="60" data-param="zoneDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- PETTLEP -->
                    <div class="exercise-settings" data-exercise="pettlep">
                        <h4>Visualisation PETTLEP</h4>
                        <p class="settings-hint">Adaptez chaque phase selon votre activit√© (50m ‚â† 2000m)</p>
                        <div class="pettlep-phases-settings">
                            <div class="settings-row">
                                <label>Physical (position)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="15" max="300" value="60" data-param="phasePhysical">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Environment (lieu)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="15" max="300" value="60" data-param="phaseEnvironment">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Task (geste technique)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="30" max="600" value="120" data-param="phaseTask">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Timing (temps r√©el)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="30" max="600" value="120" data-param="phaseTiming">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Learning (progression)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="15" max="300" value="60" data-param="phaseLearning">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Emotion (ressenti)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="15" max="300" value="60" data-param="phaseEmotion">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <label>Perspective (1√®re personne)</label>
                                <div class="input-with-unit">
                                    <input type="number" min="15" max="300" value="60" data-param="phasePerspective">
                                    <span>sec</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Sophro -->
                    <div class="exercise-settings" data-exercise="sophro">
                        <h4>Relaxation Dynamique</h4>
                        <div class="settings-row fixed-timing-setting">
                            <label>Dur√©e par segment</label>
                            <div class="input-with-unit">
                                <input type="number" min="45" max="180" value="90" data-param="segmentDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- PMR -->
                    <div class="exercise-settings" data-exercise="pmr">
                        <h4>Relaxation Musculaire</h4>
                        <div class="settings-row fixed-timing-setting">
                            <label>Dur√©e par muscle</label>
                            <div class="input-with-unit">
                                <input type="number" min="15" max="90" value="25" data-param="muscleDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Focus -->
                    <div class="exercise-settings" data-exercise="focus">
                        <h4>Entra√Ænement Focus</h4>
                        <div class="settings-row fixed-timing-setting">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="5" max="30" value="10" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                    </div>

                    <!-- Pre-dive -->
                    <div class="exercise-settings" data-exercise="predive">
                        <h4>Visualisation Pr√©-Plong√©e</h4>
                        <div class="settings-row fixed-timing-setting">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="5" max="20" value="10" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Apnea Settings -->
            <div class="settings-card">
                <div class="settings-card-header">
                    <h3>Apn√©e</h3>
                    <button class="btn-expand expanded" data-target="apneaSettings">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </button>
                </div>
                <div class="settings-card-body" id="apneaSettings">
                    <!-- CO2 Table -->
                    <div class="exercise-settings" data-exercise="co2-table">
                        <h4>Table CO2</h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="12" value="8" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row manual-only">
                            <label>Dur√©e d'apn√©e</label>
                            <div class="input-with-unit">
                                <input type="number" min="15" max="180" value="60" data-param="holdTime">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Repos initial</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="180" value="105" data-param="restStart">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Repos final</label>
                            <div class="input-with-unit">
                                <input type="number" min="10" max="60" value="15" data-param="restEnd">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- O2 Table -->
                    <div class="exercise-settings" data-exercise="o2-table">
                        <h4>Table O2</h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="12" value="8" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row manual-only">
                            <label>Apn√©e initiale</label>
                            <div class="input-with-unit">
                                <input type="number" min="15" max="120" value="36" data-param="holdStart">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row manual-only">
                            <label>Apn√©e finale</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="240" value="90" data-param="holdEnd">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Temps de repos</label>
                            <div class="input-with-unit">
                                <input type="number" min="60" max="180" value="120" data-param="restTime">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- No Contraction -->
                    <div class="exercise-settings" data-exercise="no-contraction">
                        <h4>Table Sans Contraction</h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="4" max="10" value="6" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row manual-only">
                            <label>Dur√©e d'apn√©e</label>
                            <div class="input-with-unit">
                                <input type="number" min="15" max="120" value="36" data-param="holdTime">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Temps de repos</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="120" value="60" data-param="restTime">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Diaphragm -->
                    <div class="exercise-settings" data-exercise="diaphragm">
                        <h4>Respiration Diaphragmatique</h4>
                        <div class="settings-row">
                            <label>Dur√©e totale</label>
                            <div class="input-with-unit">
                                <input type="number" min="5" max="20" value="10" data-param="duration">
                                <span>min</span>
                            </div>
                        </div>
                    </div>

                    <!-- Contraction Tolerance -->
                    <div class="exercise-settings" data-exercise="contraction-tolerance">
                        <h4>Tol√©rance Contractions</h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="2" max="8" value="4" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Niveau (semaine)</label>
                            <div class="input-with-unit">
                                <select data-param="weekLevel">
                                    <option value="1">Sem 1-2 : +10s apr√®s contraction</option>
                                    <option value="2">Sem 3-4 : +15s apr√®s contraction</option>
                                    <option value="3">Sem 5-6 : +30s apr√®s contraction</option>
                                </select>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Temps de repos</label>
                            <div class="input-with-unit">
                                <input type="number" min="60" max="180" value="120" data-param="restDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Body Scan Apnea -->
                    <div class="exercise-settings" data-exercise="body-scan-apnea">
                        <h4>Body Scan Apn√©e</h4>
                        <div class="settings-row">
                            <label>Nombre de cycles</label>
                            <div class="input-with-unit">
                                <input type="number" min="1" max="5" value="3" data-param="cycles">
                                <span>cycles</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Dur√©e breathe-up</label>
                            <div class="input-with-unit">
                                <input type="number" min="30" max="120" value="60" data-param="breatheUpDuration">
                                <span>sec</span>
                            </div>
                        </div>
                        <div class="settings-row">
                            <label>Dur√©e repos</label>
                            <div class="input-with-unit">
                                <input type="number" min="60" max="180" value="120" data-param="restDuration">
                                <span>sec</span>
                            </div>
                        </div>
                    </div>

                    <!-- Breathe-Up Structur√© -->
                    <div class="exercise-settings" data-exercise="breathe-up-structure">
                        <h4>Breathe-Up Structur√©</h4>
                        <div class="settings-row">
                            <label>Mode</label>
                            <div class="input-with-unit">
                                <select data-param="mode">
                                    <option value="standard">Standard (3 phases)</option>
                                    <option value="express">Express (2 min)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Coach AI Settings -->
            <div class="settings-card">
                <div class="settings-card-header">
                    <h3>Coach IA</h3>
                    <button class="btn-expand" data-target="coachSettings">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </button>
                </div>
                <div class="settings-card-body collapsed" id="coachSettings">
                    <div class="exercise-settings">
                        <div class="settings-row">
                            <label>Fournisseur IA</label>
                            <select id="coachProvider" class="form-select">
                                <option value="claude">Claude (Anthropic)</option>
                                <option value="openai">OpenAI (GPT)</option>
                            </select>
                        </div>
                        <div class="settings-row">
                            <label>Cle API</label>
                            <input type="password" id="coachApiKey"
                                placeholder="sk-..."
                                style="font-size: 0.85rem;">
                        </div>
                        <div class="settings-row">
                            <label>Modele</label>
                            <select id="coachModel" class="form-select">
                                <option value="claude-sonnet-4-20250514">Claude Sonnet</option>
                                <option value="claude-haiku-4-20250414">Claude Haiku (rapide)</option>
                            </select>
                        </div>
                        <div class="settings-row">
                            <label>Suggestion auto apres exercice</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="coachAutoSuggest">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="settings-row" style="flex-direction: column; align-items: stretch;">
                            <label>Objectifs personnels</label>
                            <textarea id="coachGoals" rows="3"
                                placeholder="Ex: Atteindre 3 min d'apnee statique, reduire mon stress quotidien..."
                                style="margin-top: var(--space-sm); width: 100%;"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Save/Reset Buttons -->
            <div class="settings-actions">
                <button class="btn-secondary" id="btnResetSettings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                        <path d="M3 3v5h5"/>
                    </svg>
                    R√©initialiser
                </button>
                <button class="btn-primary" id="btnSaveSettings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                        <polyline points="17,21 17,13 7,13 7,21"/>
                        <polyline points="7,3 7,8 15,8"/>
                    </svg>
                    Enregistrer
                </button>
            </div>
        </section>
    </main>

    <!-- Exercise Modal -->
    <div class="modal" id="exerciseModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>

            <div class="exercise-display">
                <h2 class="exercise-title" id="exerciseTitle">Exercise</h2>
                <p class="exercise-instruction" id="exerciseInstruction">Instructions will appear here</p>

                <!-- Breathing Circle Animation -->
                <div class="breath-circle-container">
                    <div class="breath-circle" id="breathCircle">
                        <div class="breath-inner">
                            <span class="breath-phase" id="breathPhase">Pr√™t</span>
                            <span class="breath-timer" id="breathTimer">0:00</span>
                        </div>
                    </div>
                    <svg class="breath-progress" viewBox="0 0 200 200">
                        <circle class="progress-bg" cx="100" cy="100" r="90"/>
                        <circle class="progress-bar" id="progressBar" cx="100" cy="100" r="90"/>
                    </svg>
                </div>

                <!-- Cycle Counter -->
                <div class="cycle-info">
                    <span id="cycleCounter">Cycle 0 / 0</span>
                </div>

                <!-- Contraction UI (hidden by default) -->
                <button class="btn-contraction" id="btnMarkContraction" style="display:none;">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                        <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                    </svg>
                    Contraction !
                </button>
                <div class="contraction-counter" id="contractionCounter" style="display:none;">
                    Contractions : 0
                </div>

                <!-- Controls -->
                <div class="exercise-controls">
                    <button class="btn-control" id="btnReset" title="Recommencer">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                            <path d="M3 3v5h5"/>
                        </svg>
                    </button>
                    <button class="btn-control" id="btnPause">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="4" width="4" height="16"/>
                            <rect x="14" y="4" width="4" height="16"/>
                        </svg>
                    </button>
                    <button class="btn-control btn-stop" id="btnStop">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="6" width="12" height="12"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div class="modal" id="feedbackModal">
        <div class="modal-content modal-feedback">
            <button class="modal-close" id="feedbackModalClose">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>

            <div class="feedback-display">
                <h2>Comment vous sentez-vous ?</h2>
                <p class="feedback-exercise-name" id="feedbackExerciseName"></p>

                <!-- Feeling Rating -->
                <div class="feedback-section">
                    <label>Ressenti global</label>
                    <div class="feedback-rating" id="feedbackFeeling">
                        <button class="rating-btn" data-value="1">1</button>
                        <button class="rating-btn" data-value="2">2</button>
                        <button class="rating-btn" data-value="3">3</button>
                        <button class="rating-btn" data-value="4">4</button>
                        <button class="rating-btn" data-value="5">5</button>
                    </div>
                    <div class="rating-labels">
                        <span>Difficile</span><span>Excellent</span>
                    </div>
                </div>

                <!-- Stress Before -->
                <div class="feedback-section">
                    <label>Stress avant l'exercice</label>
                    <div class="feedback-rating" id="feedbackStressBefore">
                        <button class="rating-btn" data-value="1">1</button>
                        <button class="rating-btn" data-value="2">2</button>
                        <button class="rating-btn" data-value="3">3</button>
                        <button class="rating-btn" data-value="4">4</button>
                        <button class="rating-btn" data-value="5">5</button>
                    </div>
                    <div class="rating-labels">
                        <span>Calme</span><span>Tres stresse</span>
                    </div>
                </div>

                <!-- Stress After -->
                <div class="feedback-section">
                    <label>Stress apres l'exercice</label>
                    <div class="feedback-rating" id="feedbackStressAfter">
                        <button class="rating-btn" data-value="1">1</button>
                        <button class="rating-btn" data-value="2">2</button>
                        <button class="rating-btn" data-value="3">3</button>
                        <button class="rating-btn" data-value="4">4</button>
                        <button class="rating-btn" data-value="5">5</button>
                    </div>
                    <div class="rating-labels">
                        <span>Calme</span><span>Tres stresse</span>
                    </div>
                </div>

                <!-- Notes -->
                <div class="feedback-section">
                    <label>Notes (optionnel)</label>
                    <textarea id="feedbackNotes" rows="2"
                        placeholder="Sensations, observations..."></textarea>
                </div>

                <!-- Actions -->
                <div class="feedback-actions">
                    <button class="btn-secondary" id="btnSkipFeedback">Passer</button>
                    <button class="btn-primary" id="btnSaveFeedback">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Sequence Editor Modal -->
    <div class="modal" id="sequenceEditorModal">
        <div class="modal-content modal-large">
            <button class="modal-close" id="sequenceEditorClose">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>

            <div class="sequence-editor">
                <h2 id="sequenceEditorTitle">Nouvelle s√©quence</h2>

                <div class="sequence-form">
                    <div class="form-group">
                        <label>Nom de la s√©quence</label>
                        <input type="text" id="sequenceName" placeholder="Ma s√©quence" class="form-input">
                    </div>

                    <div class="form-group">
                        <label>Type de s√©quence</label>
                        <div class="sequence-type-selector">
                            <button class="type-btn active" data-type="interval">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7"/>
                                    <rect x="14" y="3" width="7" height="7"/>
                                    <rect x="3" y="14" width="7" height="7"/>
                                    <rect x="14" y="14" width="7" height="7"/>
                                </svg>
                                <span>Intervalles</span>
                            </button>
                            <button class="type-btn" data-type="custom">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="4" y1="21" x2="4" y2="14"/>
                                    <line x1="4" y1="10" x2="4" y2="3"/>
                                    <line x1="12" y1="21" x2="12" y2="12"/>
                                    <line x1="12" y1="8" x2="12" y2="3"/>
                                    <line x1="20" y1="21" x2="20" y2="16"/>
                                    <line x1="20" y1="12" x2="20" y2="3"/>
                                    <circle cx="4" cy="12" r="2"/>
                                    <circle cx="12" cy="10" r="2"/>
                                    <circle cx="20" cy="14" r="2"/>
                                </svg>
                                <span>Personnalis√©</span>
                            </button>
                        </div>
                    </div>

                    <!-- Interval Mode Settings -->
                    <div class="interval-settings" id="intervalSettings">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Dur√©e effort</label>
                                <div class="input-with-unit">
                                    <input type="number" id="intervalWork" min="5" max="300" value="30">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Dur√©e repos</label>
                                <div class="input-with-unit">
                                    <input type="number" id="intervalRest" min="5" max="300" value="30">
                                    <span>sec</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>R√©p√©titions</label>
                                <div class="input-with-unit">
                                    <input type="number" id="intervalReps" min="1" max="50" value="8">
                                    <span>√ó</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Labels des phases</label>
                            <div class="form-row">
                                <input type="text" id="labelWork" placeholder="Effort" value="Effort" class="form-input form-input-sm">
                                <input type="text" id="labelRest" placeholder="Repos" value="Repos" class="form-input form-input-sm">
                            </div>
                        </div>
                    </div>

                    <!-- Custom Mode Settings -->
                    <div class="custom-settings" id="customSettings" style="display: none;">
                        <div class="phases-list" id="phasesList">
                            <div class="phase-item" data-index="0">
                                <input type="text" class="phase-label" value="Phase 1" placeholder="Nom">
                                <div class="input-with-unit">
                                    <input type="number" class="phase-duration" min="1" max="600" value="30">
                                    <span>sec</span>
                                </div>
                                <select class="phase-color">
                                    <option value="blue">Bleu</option>
                                    <option value="green">Vert</option>
                                    <option value="orange">Orange</option>
                                    <option value="red">Rouge</option>
                                    <option value="purple">Violet</option>
                                </select>
                                <button class="btn-remove-phase" title="Supprimer">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"/>
                                        <line x1="6" y1="6" x2="18" y2="18"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <button class="btn-add-phase" id="btnAddPhase">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"/>
                                <line x1="5" y1="12" x2="19" y2="12"/>
                            </svg>
                            Ajouter une phase
                        </button>
                    </div>

                    <!-- Preview -->
                    <div class="sequence-preview">
                        <h4>Aper√ßu</h4>
                        <div class="preview-timeline" id="previewTimeline"></div>
                        <div class="preview-stats">
                            <span>Dur√©e totale: <strong id="previewDuration">8:00</strong></span>
                            <span>Phases: <strong id="previewPhases">16</strong></span>
                        </div>
                    </div>
                </div>

                <div class="sequence-editor-actions">
                    <button class="btn-secondary" id="btnCancelSequence">Annuler</button>
                    <button class="btn-danger" id="btnDeleteSequence" style="display: none;">Supprimer</button>
                    <button class="btn-primary" id="btnSaveSequence">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Sequence Runner Modal -->
    <div class="modal" id="sequenceRunnerModal">
        <div class="modal-content">
            <button class="modal-close" id="sequenceRunnerClose">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>

            <div class="sequence-runner">
                <h2 id="sequenceRunnerTitle">S√©quence</h2>

                <div class="runner-phase-display">
                    <div class="runner-phase-label" id="runnerPhaseLabel">Pr√™t</div>
                    <div class="runner-timer" id="runnerTimer">0:00</div>
                    <div class="runner-progress-ring">
                        <svg viewBox="0 0 200 200">
                            <circle class="progress-bg" cx="100" cy="100" r="90"/>
                            <circle class="progress-bar" id="runnerProgressBar" cx="100" cy="100" r="90"/>
                        </svg>
                    </div>
                </div>

                <div class="runner-info">
                    <div class="runner-phase-counter" id="runnerPhaseCounter">Phase 0 / 0</div>
                    <div class="runner-next-phase">Suivant: <span id="runnerNextPhase">--</span></div>
                </div>

                <div class="runner-timeline" id="runnerTimeline"></div>

                <div class="runner-controls">
                    <button class="btn-control" id="btnRunnerPause">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="4" width="4" height="16"/>
                            <rect x="14" y="4" width="4" height="16"/>
                        </svg>
                    </button>
                    <button class="btn-control btn-stop" id="btnRunnerStop">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="6" width="12" height="12"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Apnea Test Modal -->
    <div class="modal" id="apneaTestModal">
        <div class="modal-content">
            <button class="modal-close" id="testModalClose">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>

            <div class="test-display">
                <h2>Test d'Apn√©e Statique</h2>
                <p class="test-instruction" id="testInstruction">Prenez 3 respirations calmes, puis inspirez profond√©ment et retenez votre souffle aussi longtemps que possible.</p>

                <div class="test-timer-container">
                    <div class="test-timer" id="testTimer">0:00</div>
                    <div class="test-status" id="testStatus">Pr√™t</div>
                </div>

                <div class="test-controls">
                    <button class="btn-primary" id="btnStartHold">Commencer l'apn√©e</button>
                    <button class="btn-secondary" id="btnStopHold" style="display: none;">Arr√™ter</button>
                </div>

                <div class="test-result-display" id="testResultDisplay" style="display: none;">
                    <h3>Votre r√©sultat</h3>
                    <div class="result-time" id="resultTime">0:00</div>
                    <p class="result-analysis" id="resultAnalysis"></p>
                    <button class="btn-primary" id="btnSaveResult">Enregistrer comme record</button>
                </div>
            </div>
        </div>
    </div>

    <script src="ocean-sound.js"></script>
    <script src="exercises.js"></script>
    <script src="voice-guide.js"></script>
    <script src="breath-sounds.js"></script>
    <script src="app.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.20.3/package/dist/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docx@9.5.1/dist/index.iife.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mammoth@1.8.0/mammoth.browser.min.js"></script>
    <script src="coach.js"></script>
    <script src="multi-timer.js"></script>
</body>
</html>
